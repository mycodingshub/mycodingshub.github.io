<!doctype html>
<html lang="ko" data-bs-theme="auto">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js"
  integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg=">
</script>


<link rel="stylesheet" href="/main.86b7305f5a96b7dd3a46fa6277d87b125af3bf13f48c4cfcc269be84fa9e8fb75375d45a5fe9056ce9190644b7a6e5f13f917f12d853ed38bb76d8856898f755.css" integrity="sha512-hrcwX1qWt906Rvpid9h7ElrzvxP0jEz8wmm+hPqej7dTddRaX+kFbOkZBkS3puXxP5F/EthT7Ti7dtiFaJj3VQ==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><title>TanStack Start 깊이 파고들기 - React 프레임워크의 새로운 미래일까</title>
<meta name="description" content="Next.js의 대안으로 떠오르는 이 프레임워크의 설정부터 인증, 배포까지 모든 것을 다룹니다." />
<link rel="canonical" href="https://mycodingshub.github.io/blog/2025-07-15-tanstack-start-react-framework-deep-dive/" />
<meta name="robots" content="index, follow" />

<meta property="og:type" content="article" />
<meta property="og:title" content="TanStack Start 깊이 파고들기 - React 프레임워크의 새로운 미래일까" />
<meta property="og:description" content="Next.js의 대안으로 떠오르는 이 프레임워크의 설정부터 인증, 배포까지 모든 것을 다룹니다." />
<meta property="og:url" content="https://mycodingshub.github.io/blog/2025-07-15-tanstack-start-react-framework-deep-dive/" />
<meta property="og:site_name" content="Home" />
<meta property="og:image" content="https://mycodingshub.github.io/cover.png" />
<meta property="og:locale" content="en" />
<meta property="article:published_time" content="2025-07-15T03:04:30Z" />
<meta property="article:modified_time" content="2025-07-15T03:04:30Z" />
<meta property="article:tag" content="TanStack Start" />
<meta property="article:tag" content="React" />
<meta property="article:tag" content="react" />
<meta property="article:tag" content="next.js" />
<meta property="article:tag" content="Next.js" />
<meta property="article:tag" content="Vite" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="TanStack Start 깊이 파고들기 - React 프레임워크의 새로운 미래일까" />
<meta name="twitter:description" content="Next.js의 대안으로 떠오르는 이 프레임워크의 설정부터 인증, 배포까지 모든 것을 다룹니다." />
<meta name="twitter:image" content="https://mycodingshub.github.io/cover.png" />

<meta name="author" content="cpro95@gmail.com" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "\"TanStack Start 깊이 파고들기 - React 프레임워크의 새로운 미래일까\"",
  "description": "\"Next.js의 대안으로 떠오르는 이 프레임워크의 설정부터 인증, 배포까지 모든 것을 다룹니다.\"",
  "datePublished": "\"2025-07-15T03:04:30Z\"",
  "dateModified": "\"2025-07-15T03:04:30Z\"",
  "author": {
    "@type": "Person",
    "name": "\"cpro95@gmail.com\""
  },
  "image": "\"https://mycodingshub.github.io/cover.png\"",
  "url": "\"https://mycodingshub.github.io/blog/2025-07-15-tanstack-start-react-framework-deep-dive/\"",
  "publisher": {
    "@type": "Organization",
    "name": "\"Home\""
  }
}
</script>




<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7SBETWEJ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C7SBETWEJ0');
</script>


<script
  async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7748316956330968"
  crossOrigin="anonymous"
></script>


</head>

  
  <body class="single section blog" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<header class="navbar navbar-expand-sm">
  <div class="container-lg">
  <div class="d-flex flex-grow-1 justify-content-between">
    <div class="d-flex flex-row navbar-nav justify-content-between align-items-start gap-2">
    
    <a class="nav-link fw-bold fs-4" href="/">Home</a>

    
    
            <a class="nav-link fs-4  active" href="https://mycodingshub.github.io/blog/" aria-current="true">Blog</a>
          
        
            <a class="nav-link fs-4 " href="https://mycodingshub.github.io/life/">Life</a>
          
        
    </div>
    <div class="d-flex flex-row justify-content-between align-items-center">
      
      
      <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      
      <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
        <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
        </svg>
        <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
        </svg>
      </button>
      </div>
        
        
        
        
        </div>
    </div>

    
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search index…</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted d-none"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-lg" role="document">
      <div class="content">
      
        
<article>
  <div class="row justify-content-center">
    <div class="col-md-12 col-lg-12">
      
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-7748316956330968"
        data-ad-slot="2971373181"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <div class="blog-header">
        <h1>TanStack Start 깊이 파고들기 - React 프레임워크의 새로운 미래일까</h1>
        <p>
  <small>July 15, 2025<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>11&nbsp;minutes</span></small>
</p>

      </div>
    </div>
      <div class="col-md-12 col-lg-12">
      
      <p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEidjHhbi-YXQlslzNKNuzT4g9k0nolw_oabiO6CySVzJ2LWS3nHgZovp4ILGqeznMZ2yc2zxYeNm7cehj1jIfb_Mq52H_vJX4kOHHV81F1IefAEa7BPcnsVvToCB0O3oRy0P8PvFg1dsn7UR4Ykl3CL-lqVlBSMUiBaL1XqJt4EZ4pOqmmYnGuebDPBsyI"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>몇 주 전 Next.js의 미들웨어 파일에서 발생한 인증 처리 관련 보안 취약점 이슈가 생각보다 더 뜨거운 주제였다는 것을 알게 되었습니다.<br /><br />물론 Vercel이 빠르게 문제를 해결하긴 했지만, 소통 방식에 대한 아쉬움을 토로하는 목소리가 많았습니다.<br /><br />소셜 미디어에서는 이 사건이 도화선이 되어, 이미 개발자 경험(DX)과 관련된 여러 단점들로 지쳐있던 개발자들의 불만이 터져 나왔습니다.<br /><br />흥미롭게도, 이 시점을 계기로 많은 개발자들이 Next.js를 완전히 버리고 &lsquo;TanStack Start&rsquo;로 전향했다는 긍정적인 후기들을 심심치 않게 발견할 수 있었습니다.<br /><br />그래서 문득 궁금해졌습니다.<br /><br />과연 이 새로운 프레임워크가 이미 React 생태계에서 확고한 위치를 차지한 Remix나 Next.js에 대항할 만한 잠재력을 가지고 있을까요.<br /><br />이 글은 그런 저의 궁금증에서 시작된 탐구의 기록입니다.<br /><br /></p>
<h2 id="tanstack-start란-무엇인가">TanStack Start란 무엇인가</h2>
<p>TanStack Start는 React Query, Table, Router 등으로 우리에게 매우 친숙한 개발자, 태너 린슬리(Tanner Linsley)가 만든 프레임워크입니다.<br /><br />이름에서 알 수 있듯, 그의 &lsquo;TanStack&rsquo; 생태계의 도구들을 긴밀하게 통합한 결과물이라고 할 수 있습니다.<br /><br />핵심적인 특징을 몇 가지 짚어보겠습니다.<br /><br />첫째, 라우팅은 기존 라이브러리인 &lsquo;TanStack Router&rsquo;를 기반으로 합니다.<br /><br />TanStack Router는 단일 페이지 애플리케이션(SPA)에서도 사용할 수 있지만, Start는 이를 서버 사이드 렌더링(SSR)에 특화하여 통합했습니다.<br /><br />이는 마치 Remix가 React Router를 SSR 환경에 맞게 활용하는 방식과 유사합니다.<br /><br />둘째, 번들링 도구로 &lsquo;Vite&rsquo;를 사용합니다.<br /><br />이는 Next.js가 SWC나 TurboPack을 기반으로 하는 것과 대조적인데요.<br /><br />Vite를 채택함으로써 우리는 이미 성숙해 있는 방대한 Vite 플러그인 생태계를 아무런 제약 없이 활용할 수 있는 큰 장점을 얻게 됩니다.<br /><br />이제 간단한 애플리케이션을 직접 만들어보면서 Start의 세계로 더 깊이 들어가 보겠습니다.<br /><br />기본적인 인증 기능과 게시물 목록, 그리고 개별 게시물 상세 페이지를 구현하는 과정을 통해 이 프레임워크의 철학과 구조를 파악해 볼 것입니다.<br /><br /></p>
<h2 id="프로젝트-설정부터-차근차근">프로젝트 설정부터 차근차근</h2>
<p>Start는 기본적인 예제 스타터 킷을 제공하지만, 이 글에서는 Tailwind CSS를 사용해 처음부터 프로젝트를 구축하는 과정을 밟아보겠습니다.<br /><br />이것이 프레임워크의 구조를 이해하는 데 더 도움이 될 것입니다.<br /><br /></p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir tanstack-start-example
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> tanstack-start-example
</span></span><span class="line"><span class="cl">yarn init -y</span></span></code></pre></div>
  </figure>
</div>
<p>이제 필요한 의존성 라이브러리들을 설치합니다.<br /><br /></p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 프로덕션 의존성</span>
</span></span><span class="line"><span class="cl">yarn add @tanstack/react-start @tanstack/react-router react react-dom zod
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 개발 의존성</span>
</span></span><span class="line"><span class="cl">yarn add -D vite @vitejs/plugin-react typescript @types/react @types/react-dom tailwindcss @tailwindcss/vite</span></span></code></pre></div>
  </figure>
</div>
<p>다음으로 각종 설정 파일들을 구성할 차례입니다.<br /><br /></p>
<p>먼저 타입스크립트 설정 파일입니다.<br /><br />
<code>tsconfig.json</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;compilerOptions&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;jsx&#34;</span><span class="p">:</span> <span class="s2">&#34;react-jsx&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;moduleResolution&#34;</span><span class="p">:</span> <span class="s2">&#34;Bundler&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;module&#34;</span><span class="p">:</span> <span class="s2">&#34;ESNext&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;target&#34;</span><span class="p">:</span> <span class="s2">&#34;ES2022&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;skipLibCheck&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;strictNullChecks&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>여기서 &lsquo;moduleResolution&rsquo;을 &lsquo;Bundler&rsquo;로 설정한 점이 중요합니다.<br /><br />이는 최신 타입스크립트 기능으로, Vite와 같은 모던 번들러가 모듈을 해석하는 방식을 타입스크립트가 그대로 따르도록 하여 호환성 문제를 줄여줍니다.<br /><br /></p>
<p>다음은 Vite 설정 파일입니다.<br /><br />
<code>vite.config.ts</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">defineConfig</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;vite&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">tailwindcss</span> <span class="kr">from</span> <span class="s2">&#34;@tailwindcss/vite&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">tanstackStart</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start/plugin/vite&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">defineConfig</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="nx">tanstackStart</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">      <span class="nx">tailwindcss</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span></span></span></code></pre></div>
  </figure>
</div>
<p><code>tanstackStart()</code> 플러그인이 바로 Start 프레임워크의 핵심 기능을 Vite에 통합해주는 역할을 합니다.<br /><br /></p>
<p>이제 <code>package.json</code> 파일에 스크립트를 추가하여 개발 서버 실행, 빌드, 프로덕션 서버 시작 명령어를 정의합니다.<br /><br />
<code>package.json</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;dev&#34;</span><span class="p">:</span> <span class="s2">&#34;vite dev&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;vite build&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;node .output/server/index.mjs&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 프로젝트 루트에 <code>src</code> 폴더를 만들고, 그 안에 Start의 진입점 역할을 할 <code>router.tsx</code> 파일을 생성합니다.<br /><br />
<code>src/router.tsx</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createRouter</span> <span class="kr">as</span> <span class="nx">createTanStackRouter</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">routeTree</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./routeTree.gen&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">function</span> <span class="nx">createRouter() {</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createTanStackRouter</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">routeTree</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">scrollRestoration</span>: <span class="kt">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 이곳에서 찾을 수 없는 라우트에 대한 기본 컴포넌트 등
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 라우터의 기본 옵션을 설정할 수 있습니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">router</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 모듈 확장을 통해 라우터 인스턴스의 타입을 전역적으로 등록합니다.
</span></span></span><span class="line"><span class="cl"><span class="c1">// 이를 통해 앱 전체에서 타입 추론이 가능해집니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">declare</span> <span class="nx">module</span> <span class="s1">&#39;@tanstack/react-router&#39;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">interface</span> <span class="nx">Register</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">router</span>: <span class="kt">ReturnType</span><span class="p">&lt;</span><span class="nt">typeof</span> <span class="na">createRouter</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이 코드를 처음 보면 <code>routeTree.gen</code> 파일이 존재하지 않아 오류처럼 보일 수 있지만, 이는 정상입니다.<br /><br />이 파일은 번들러가 자동으로 생성하며, 우리 프로젝트의 모든 라우트 구조를 분석하여 강력한 타입 정보를 담게 됩니다.<br /><br />이것이 바로 TanStack Router가 자랑하는 &lsquo;타입-세이프 라우팅&rsquo;의 핵심입니다.<br /><br /></p>
<p>이제 Tailwind CSS를 위한 기본 스타일시트 파일을 생성합니다.<br /><br />
<code>src/styles/styles.css</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">@</span><span class="k">import</span> <span class="s2">&#34;tailwindcss&#34;</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>마지막으로 애플리케이션의 전체 HTML 구조를 정의하는 파일을 만들겠습니다.<br /><br />이 파일은 Next.js의 <code>app</code> 폴더 최상단에 위치하는 <code>layout.tsx</code>와 동일한 역할을 합니다.<br /><br />Start에서는 모든 라우트 파일들을 <code>src/routes</code> 폴더 안에 위치시키며, 이 최상위 레이아웃 파일의 이름은 <code>__root.tsx</code>로 지정합니다.<br /><br />
<code>src/routes/__root.tsx</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="kr">type</span> <span class="p">{</span> <span class="nx">ReactNode</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Outlet</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">createRootRoute</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">HeadContent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Scripts</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 스타일시트를 URL로 가져옵니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">appCss</span> <span class="kr">from</span> <span class="s2">&#34;../styles/styles.css?url&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createRootRoute</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">head</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">meta</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">charSet</span><span class="o">:</span> <span class="s2">&#34;utf-8&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;viewport&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">content</span><span class="o">:</span> <span class="s2">&#34;width=device-width, initial-scale=1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;TanStack Start Example&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nx">links</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">rel</span><span class="o">:</span> <span class="s2">&#34;stylesheet&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">href</span>: <span class="kt">appCss</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span>: <span class="kt">RootComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">RootComponent() {</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">RootDocument</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">Outlet</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">RootDocument</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">RootDocument</span><span class="p">({</span> <span class="nx">children</span> <span class="p">}</span><span class="o">:</span> <span class="nx">Readonly</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">children</span>: <span class="kt">ReactNode</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">HeadContent</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">body</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;bg-white dark:bg-slate-900&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;min-h-screen flex flex-col&#34;</span><span class="p">&gt;{</span><span class="nx">children</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Scripts</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>여기서 <code>&lt;Outlet /&gt;</code> 컴포넌트는 중첩된 레이아웃을 구성하는 데 매우 중요한 역할을 합니다.<br /><br />현재 활성화된 하위 라우트의 콘텐츠를 렌더링하며, 앱의 다른 부분에서도 특정 목적을 위해 사용될 수 있습니다.<br /><br /></p>
<p>이제 터미널에서 <code>yarn dev</code>를 실행하면 개발 서버가 시작됩니다.<br /><br /></p>
<h2 id="첫-번째-라우트-생성하기">첫 번째 라우트 생성하기</h2>
<p><code>src/routes/index.tsx</code> 파일을 생성하여 첫 페이지를 만들어 보겠습니다.<br /><br />만약 개발 서버가 실행 중이라면, TanStack Router의 아주 멋진 기능을 경험하게 될 것입니다.<br /><br />파일을 생성하는 즉시, 필요한 기본 내용이 이미 채워진 템플릿 코드가 자동으로 파일에 작성됩니다.<br /><br />심지어 파일 경로에 따라 라우트 경로도 자동으로 맞춰주기 때문에 개발 경험이 매우 쾌적합니다.<br /><br /></p>
<p><code>src/routes/index.tsx</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span>: <span class="kt">Home</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">Home() {</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">form</span>
</span></span><span class="line"><span class="cl">      <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-1 flex-col justify-center items-center gap-4&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col gap-2&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">label</span> <span class="na">htmlFor</span><span class="o">=</span><span class="s">&#34;username&#34;</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;dark:text-white&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">Username</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span>
</span></span><span class="line"><span class="cl">          <span class="na">name</span><span class="o">=</span><span class="s">&#34;username&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">id</span><span class="o">=</span><span class="s">&#34;username&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Username&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">className</span><span class="o">=</span><span class="s">&#34;dark:text-white border dark:border-white bg-transparent p-2 rounded&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">label</span> <span class="na">htmlFor</span><span class="o">=</span><span class="s">&#34;password&#34;</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;dark:text-white&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">Password</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span>
</span></span><span class="line"><span class="cl">          <span class="na">name</span><span class="o">=</span><span class="s">&#34;password&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">id</span><span class="o">=</span><span class="s">&#34;password&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Password&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">type</span><span class="o">=</span><span class="s">&#34;password&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="na">className</span><span class="o">=</span><span class="s">&#34;dark:text-white border dark:border-white bg-transparent p-2 rounded&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span>
</span></span><span class="line"><span class="cl">        <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">className</span><span class="o">=</span><span class="s">&#34;bg-blue-500 px-4 py-3 rounded-md text-white cursor-pointer&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Login</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 <code>http://localhost:3000</code>에 접속하면 우리가 만든 로그인 폼 페이지가 정상적으로 표시될 것입니다.<br /><br /></p>
<p>이어서 두 번째 라우트인 게시물 목록 페이지를 만들어 보겠습니다.<br /><br />이 페이지는 나중에 인증으로 보호할 것입니다.<br /><br /></p>
<p><code>src/routes/posts.tsx</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">PostCard</span> <span class="kr">from</span> <span class="s2">&#34;../components/PostCard&#34;</span><span class="p">;</span> <span class="c1">// 나중에 만들 컴포넌트입니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">loadPosts</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../functions/posts&#34;</span><span class="p">;</span> <span class="c1">// 나중에 만들 서버 함수입니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/posts&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span>: <span class="kt">RouteComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">loader</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">loadPosts</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">RouteComponent() {</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// loader에서 반환된 데이터를 가져옵니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">loadedPosts</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useLoaderData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-1 justify-center items-center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">loadedPosts</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">post</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">PostCard</span>
</span></span><span class="line"><span class="cl">            <span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">post</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="na">title</span><span class="o">=</span><span class="p">{</span><span class="nx">post</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="na">content</span><span class="o">=</span><span class="p">{</span><span class="nx">post</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="na">id</span><span class="o">=</span><span class="p">{</span><span class="nx">post</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">))}</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이 API는 서버 사이드 데이터 로딩 방식에서 Remix와 매우 유사합니다.<br /><br />
&rsquo;loader&rsquo; 함수는 페이지가 로드될 때 서버에서 실행되어 데이터를 반환하고, <code>Route.useLoaderData</code> 훅을 사용해 컴포넌트에서 이 데이터에 접근합니다.<br /><br /></p>
<h2 id="강력한-서버-함수server-functions">강력한 서버 함수(Server Functions)</h2>
<p>위 예제에서 게시물 목록은 <code>loadPosts</code>라는 서버 함수에서 로드됩니다.<br /><br />이를 통해 Start의 핵심 기능 중 하나인 &lsquo;서버 함수&rsquo;에 대해 알아볼 수 있습니다.<br /><br /></p>
<p>서버 함수는 React의 &lsquo;Server Actions&rsquo;나 Next.js의 그것과 유사하게, 클라이언트 코드 어디에서든 호출할 수 있지만 실제 실행은 서버에서만 이루어지는 함수입니다.<br /><br />하지만 Start의 서버 함수는 몇 가지 강력한 추가 기능을 제공합니다.<br /><br /></p>
<ul>
<li>HTTP 메서드(POST 또는 GET)를 명시적으로 설정할 수 있습니다.<br /><br /></li>
<li>zod와 같은 라이브러리를 사용한 입력값 유효성 검사를 내장하고 있습니다.<br /><br /></li>
<li>전체 HTTP 요청 객체에 접근할 수 있습니다.<br /><br /></li>
<li>응답 유형(JSON, 스트림 등)을 세밀하게 제어할 수 있습니다.<br /><br /></li>
</ul>
<p><code>loadPosts</code> 함수를 만들어 보겠습니다.<br /><br /></p>
<p><code>src/functions/posts.ts</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createServerFn</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">posts</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../mocks/posts&#34;</span><span class="p">;</span> <span class="c1">// 임시 목업 데이터
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">loadPosts</span> <span class="o">=</span> <span class="nx">createServerFn</span><span class="p">(</span><span class="s2">&#34;GET&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 실제로는 DB 조회 등이 들어갑니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">posts</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 로그인 폼을 처리할 <code>loginAction</code> 함수도 만들어 보겠습니다.<br /><br />여기서 Start의 또 다른 멋진 기능을 볼 수 있는데요.<br /><br />바로 세션 스토리지나 쿠키를 통한 세션 관리 솔루션을 기본적으로 제공한다는 점입니다.<br /><br /></p>
<p><code>src/functions/auth.ts</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createServerFn</span><span class="p">,</span> <span class="nx">json</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">setResponseStatus</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start/server&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;zod&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">redirect</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">setTimeout</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;node:timers/promises&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useAppSession</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../utils/session&#34;</span><span class="p">;</span> <span class="c1">// 세션 유틸리티
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">loginAction</span> <span class="o">=</span> <span class="nx">createServerFn</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;POST&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">validator</span><span class="p">((</span><span class="nx">data</span>: <span class="kt">unknown</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Zod를 사용해 입력 데이터의 유효성을 검사합니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">schema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="kt">object</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">username</span>: <span class="kt">z.string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">      <span class="nx">password</span>: <span class="kt">z.string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">schema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 유효성 검사 실패 시, 에러와 함께 422 상태 코드를 반환합니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="nx">json</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nx">error</span>: <span class="kt">result.error.issues</span><span class="p">,</span> <span class="nx">message</span><span class="o">:</span> <span class="s2">&#34;Validation failed&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nx">status</span>: <span class="kt">422</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">handler</span><span class="p">(</span><span class="kr">async</span> <span class="p">(</span><span class="nx">validatedData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 실제 서버 딜레이를 흉내 냅니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">await</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">validatedData</span><span class="p">.</span><span class="nx">username</span> <span class="o">!==</span> <span class="s2">&#34;admin&#34;</span> <span class="o">||</span> <span class="nx">validatedData</span><span class="p">.</span><span class="nx">password</span> <span class="o">!==</span> <span class="s2">&#34;admin&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">setResponseStatus</span><span class="p">(</span><span class="mi">401</span><span class="p">);</span> <span class="c1">// Unauthorized
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">success</span>: <span class="kt">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">error</span><span class="o">:</span> <span class="s2">&#34;Unauthorized&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 세션 유틸리티를 사용해 세션 정보를 가져옵니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">useAppSession</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 세션에 사용자 정보를 업데이트합니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">await</span> <span class="nx">session</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">name</span>: <span class="kt">validatedData.username</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 로그인 성공 후 /posts 페이지로 리디렉션합니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">throw</span> <span class="nx">redirect</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;/posts&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">logoutAction</span> <span class="o">=</span> <span class="nx">createServerFn</span><span class="p">({</span> <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;POST&#34;</span> <span class="p">}).</span><span class="nx">handler</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="kr">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">useAppSession</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">session</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">throw</span> <span class="nx">redirect</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span></span></span></code></pre></div>
  </figure>
</div>
<p>이처럼 <code>createServerFn</code>은 빌더 패턴처럼 <code>.validator</code>와 <code>.handler</code>를 체이닝하여 선언적으로 서버 로직을 구성할 수 있게 해줍니다.<br /><br />유효성 검사를 통과한 데이터만이 핸들러로 전달되므로 코드가 매우 깔끔하고 안전해집니다.<br /><br /></p>
<p>이제 로그인 폼에서 이 <code>loginAction</code>을 사용하면, 로그인 성공 시 자동으로 게시물 목록 페이지로 리디렉션됩니다.<br /><br /></p>
<h2 id="레이아웃의-개념과-활용">레이아웃의 개념과 활용</h2>
<p>레이아웃은 라우트의 콘텐츠를 감싸는 정적인 UI 구조를 제공합니다.<br /><br />Start는 라우터(TanStack Router)를 통해 React Router와 매우 유사한 방식으로 레이아웃을 처리합니다.<br /><br />파일 기반 라우팅 규칙에 따라 URL의 일부가 일치하는 한 해당 라우트 컴포넌트가 렌더링되는 방식입니다.<br /><br /></p>
<p>예를 들어 다음과 같습니다.<br /><br /></p>
<ul>
<li><code>/posts</code> 접속 시 -&gt; <code>&lt;RootDocument&gt;&lt;Posts /&gt;</code></li>
<li><code>/posts/:id</code> 접속 시 -&gt; <code>&lt;RootDocument&gt;&lt;Posts&gt;&lt;Post /&gt;&lt;/Posts&gt;</code> (Posts가 레이아웃 역할을 함)</li>
</ul>
<p>이는 파일 이름 규칙에 따라 구성할 수 있습니다.<br /><br />기본적으로 <code>/posts</code> 같은 라우트는 <code>/posts/:id</code>의 레이아웃 역할을 하며, <code>/posts/:id</code>의 콘텐츠는 <code>&lt;Outlet /&gt;</code> 컴포넌트를 통해 렌더링됩니다.<br /><br /></p>
<p>또한 특정 라우트에 묶이지 않는 레이아웃, 즉 &lsquo;경로 없는 레이아웃(pathless layout)&lsquo;도 만들 수 있습니다.<br /><br />이런 파일들은 이름 앞에 밑줄(<code>_</code>)을 붙여 구분합니다.<br /><br /></p>
<p>인증된 라우트 내부에서 사용할 공통 레이아웃을 만들어 보겠습니다.<br /><br />
<code>src/routes/_app.tsx</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Outlet</span><span class="p">,</span> <span class="nx">redirect</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useServerFn</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">logoutAction</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../functions/auth&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/_app&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span>: <span class="kt">RouteComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">RouteComponent() {</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">logout</span> <span class="o">=</span> <span class="nx">useServerFn</span><span class="p">(</span><span class="nx">logoutAction</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col flex-1&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex items-center justify-end py-3 px-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">li</span>
</span></span><span class="line"><span class="cl">            <span class="na">className</span><span class="o">=</span><span class="s">&#34;dark:text-white hover:underline cursor-pointer&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">logout</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Logout</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;px-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Outlet</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 이 레이아웃을 적용하기 위해, 기존의 <code>posts.tsx</code> 라우트 파일을 <code>_app</code>이라는 하위 폴더로 옮겨줍니다.<br /><br />레이아웃 파일 이름과 폴더 이름을 일치시키는 것이 규칙입니다.<br /><br /></p>
<p>이제 우리 게시물 목록은 방금 만든 레이아웃(로그아웃 버튼이 있는) 내부에 통합되었습니다.<br /><br />이런 식으로 레이아웃을 무한히 중첩할 수 있으며, <code>&lt;Outlet /&gt;</code> 컴포넌트는 자식 라우트를 정확히 원하는 위치에 렌더링해 줍니다.<br /><br /></p>
<p>레이아웃 덕분에 우리는 인증된 페이지에 대한 접근을 보호할 수 있습니다.<br /><br />경로 없는 레이아웃도 일반 라우트와 동일한 기능을 가지므로, <code>beforeLoad</code> 속성을 사용하여 사용자가 로그인했는지 확인할 수 있습니다.<br /><br /></p>
<p>예를 들어 <code>_app.tsx</code> 레이아웃에 <code>beforeLoad</code>를 추가하여 하위의 모든 라우트를 보호할 수 있습니다.<br /><br />
<code>src/routes/_app.tsx</code> (수정)</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// ... imports
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">useAppSession</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../utils/session&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fetchUser</span> <span class="o">=</span> <span class="nx">createServerFn</span><span class="p">(</span><span class="s2">&#34;GET&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">useAppSession</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">session</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span> <span class="nx">name</span>: <span class="kt">session.data.name</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/_app&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">beforeLoad</span>: <span class="kt">async</span> <span class="p">({</span> <span class="nx">context</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 이 라우트와 하위 라우트가 로드되기 전에 실행됩니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetchUser</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="nx">redirect</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;/&#34;</span><span class="p">,</span> <span class="c1">// 로그인하지 않았다면 홈으로 리디렉션
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// context를 통해 하위 라우트에 사용자 정보를 전달할 수 있습니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">context</span><span class="p">,</span> <span class="nx">user</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span>: <span class="kt">RouteComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ... RouteComponent
</span></span></span></code></pre></div>
  </figure>
</div>
<p>이것으로 끝입니다.<br /><br />이제 <code>_app</code> 레이아웃 아래의 모든 자식 라우트는 자동으로 보호됩니다.<br /><br /></p>
<h2 id="api-라우트와-미들웨어">API 라우트와 미들웨어</h2>
<p>다른 좋은 풀스택 프레임워크와 마찬가지로 Start도 API 라우트 개념을 제공합니다.<br /><br />API 라우팅을 위한 파일 이름 규칙은 일반 페이지와 동일하며, <code>ts</code> 또는 <code>js</code> 확장자를 사용합니다.<br /><br /></p>
<p>게시물 목록을 가져오는 API 라우트를 만들어 보겠습니다.<br /><br />
<code>src/routes/api/posts/index.ts</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">json</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createServerFileRoute</span><span class="p">,</span> <span class="nx">setResponseStatus</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start/server&#34;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">posts</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../../../mocks/posts&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">APIRoute</span> <span class="o">=</span> <span class="nx">createServerFileRoute</span><span class="p">(</span><span class="s2">&#34;/api/posts&#34;</span><span class="p">).</span><span class="nx">methods</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">GET</span>: <span class="kt">async</span> <span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setResponseStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">json</span><span class="p">(</span><span class="nx">posts</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>Start의 또 다른 강력한 기능은 &lsquo;미들웨어&rsquo;입니다.<br /><br />미들웨어는 서버 함수의 실행에 개입하여 실행을 가로챌 수 있는 함수입니다.<br /><br />이를 통해 요청에 컨텍스트를 추가하거나, 로깅, 인증과 같은 &lsquo;횡단 관심사(cross-cutting concerns)&lsquo;를 분리하여 재사용 가능한 로직으로 만들 수 있습니다.<br /><br /></p>
<p>사용자가 인증되지 않은 상태에서 특정 서버 함수를 호출하려고 할 때 홈 페이지로 리디렉션하는 미들웨어를 만들어 보겠습니다.<br /><br /></p>
<p><code>src/middlewares/auth.ts</code></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createMiddleware</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">redirect</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useAppSession</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../utils/session&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">authMiddleware</span> <span class="o">=</span> <span class="nx">createMiddleware</span><span class="p">().</span><span class="nx">server</span><span class="p">(</span><span class="kr">async</span> <span class="p">({</span> <span class="nx">next</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">useAppSession</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">session</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">throw</span> <span class="nx">redirect</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;/&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// 인증된 경우에만 다음 핸들러를 실행합니다.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="nx">next</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 이 미들웨어를 API 라우트에 적용할 수 있습니다.<br /><br /></p>
<p><code>src/routes/api/posts/index.ts</code> (수정)</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">json</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">setResponseStatus</span><span class="p">,</span> <span class="nx">createServerFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-start/server&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">posts</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../../../mocks/posts&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">authMiddleware</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../../../middlewares/auth&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">APIRoute</span> <span class="o">=</span> <span class="nx">createServerFileRoute</span><span class="p">(</span><span class="s2">&#34;/api/posts&#34;</span><span class="p">).</span><span class="nx">methods</span><span class="p">((</span><span class="nx">api</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">GET</span>: <span class="kt">api.middleware</span><span class="p">([</span><span class="nx">authMiddleware</span><span class="p">]).</span><span class="nx">handler</span><span class="p">(</span><span class="kr">async</span> <span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">setResponseStatus</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">json</span><span class="p">(</span><span class="nx">posts</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">}));</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 이 API 라우트의 핸들러는 사용자가 인증된 경우에만 실행됩니다.<br /><br /></p>
<h2 id="개발자-도구와-배포">개발자 도구와 배포</h2>
<p>Next.js 대비 큰 장점 중 하나는 &lsquo;TanStack Router DevTools&rsquo;를 통해 라우트(예: loader 데이터)를 직접 디버깅할 수 있다는 점입니다.<br /><br />이 DevTools는 <code>__root.tsx</code> 컴포넌트에 간단하게 통합할 수 있습니다.<br /><br />개발 중에 라우트 상태, 로더 데이터, 에러 등을 시각적으로 확인할 수 있어 생산성을 크게 향상시킵니다.<br /><br /></p>
<p>Start 앱의 배포는 매우 간단합니다.<br /><br />빌드 시 설정 파일이나 플래그로 전달할 수 있는 여러 프리셋이 제공됩니다.<br /><br />예를 들어, 기본 Node 서버로 배포하는 경우 다음과 같이 실행하면 됩니다.<br /><br /></p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yarn build
</span></span><span class="line"><span class="cl">node .output/server/index.mjs</span></span></code></pre></div>
  </figure>
</div>
<p>물론 Vercel, Netlify와 같은 모든 주요 호스팅 제공업체도 지원합니다.<br /><br /></p>
<h2 id="결론-그래서-nextjs의-대안이-될-수-있을까">결론 그래서 Next.js의 대안이 될 수 있을까</h2>
<p>지금까지 TanStack Start의 핵심적인 기능들을 살펴보며 간단한 애플리케이션을 만들어 보았습니다.<br /><br />솔직히 말해, TanStack Start가 당장 Next.js를 완전히 대체할 것이라고 단정하기는 이릅니다.<br /><br />Next.js는 거대한 커뮤니티와 Vercel이라는 든든한 배경을 바탕으로 한 생태계의 힘을 무시할 수 없기 때문입니다.<br /><br />하지만 TanStack Start는 &lsquo;매우 잘 설계된, 개발자 경험에 집착하는 도구들의 집합체&rsquo;라는 인상을 강하게 받았습니다.<br /><br />특히 모든 것이 타입-세이프하게 연결되는 라우팅, 유연하고 강력한 서버 함수, Vite의 빠른 속도와 확장성은 분명한 장점입니다.<br /><br />만약 여러분의 팀이 타입 안정성을 최우선으로 여기고, 프레임워크의 &lsquo;마법&rsquo;보다는 명시적인 코드 작성을 선호하며, 특정 플랫폼에 종속되지 않는 유연성을 원한다면 TanStack Start는 충분히 매력적이고 강력한 대안이 될 것이라고 생각합니다.<br /><br />React 생태계에 또 하나의 건강한 경쟁자가 등장했다는 사실만으로도 우리 개발자들에게는 즐거운 소식이 아닐 수 없습니다.<br /><br /></p>

      <div class="tag-list-single">
        <a class="btn btn-light" href="/tags/tanstack-start/" role="button">TanStack Start</a>
        <a class="btn btn-light" href="/tags/react/" role="button">React</a>
        <a class="btn btn-light" href="/tags/react/" role="button">react</a>
        <a class="btn btn-light" href="/tags/next.js/" role="button">next.js</a>
        <a class="btn btn-light" href="/tags/next.js/" role="button">Next.js</a>
        <a class="btn btn-light" href="/tags/vite/" role="button">Vite</a>
        <a class="btn btn-light" href="/tags/%EC%84%9C%EB%B2%84-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%A0%8C%EB%8D%94%EB%A7%81/" role="button">서버 사이드 렌더링</a>
        <a class="btn btn-light" href="/tags/%ED%92%80%EC%8A%A4%ED%83%9D-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC/" role="button">풀스택 프레임워크</a>
        </div>
      
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-format="autorelaxed"
          data-ad-client="ca-pub-7748316956330968"
          data-ad-slot="4495825428"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </div>
</article>

      
      </div>
    </div>
    
    
<div class="bg-light">
    <section class="section section-related container">
      <div class="row justify-content-center">
        <div class="col-md-12 col-lg-12">
          <h2 class="section-title text-center">Related posts</h2>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2025-09-06-ultimate-template-for-react-router-hono-cloudflare/">리액트 라우터와 Hono로 최고의 Cloudflare 개발 경험 만들기</a></h2>
                  <p>Cloudflare 환경에서 React Router와 Hono를 사용하는 가장 효율적인 방법을 소개합니다. 공식 템플릿의 느린 개발 속도 문제를 해결하고, Rolldown을 통해 빌드 속도를 극적으로 단축시킨 새로운 템플릿을 만나보세요.</p>
                  <p>
  <small>September 7, 2025<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>4&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2025-08-22-rari-a-react-framework-4-x-faster-than-nextjs-with-rust/">Next.js보다 4배 빠른 React 프레임워크가 등장했습니다</a></h2>
                  <p>거의 25년간 웹 개발을 해온 베테랑 개발자가 Next.js보다 4배 빠른 React 프레임워크 Rari를 공개했습니다. Rust 런타임을 기반으로 한 Rari의 경이로운 성능과 그 비밀을 파헤쳐 봅니다.</p>
                  <p>
  <small>August 23, 2025<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>5&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2025-10-12-react-19-2-core-features-deep-dive/">React 19.2가 드디어 출시됐습니다. 답답했던 문제들 이제 안녕</a></h2>
                  <p>React 19.2의 핵심 기능 5가지를 소개합니다. Activity, useEffectEvent, 캐시 시그널 등 앱의 성능을 높이고 디버깅을 쉽게 만들어 줄 강력한 기능들을 자세히 살펴보세요.</p>
                  <p>
  <small>October 12, 2025<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>5&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          </div>
      </div>
    </section>
    <script src="https://utteranc.es/client.js"
      repo="cpro95/utterances_mycodings_fly_dev"
      issue-term="pathname"
      theme="github-light"
      label="blog-comment"
      crossorigin="anonymous"
    async>
    </script>
  </div>
  
    <footer class="footer text-muted">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/about/">about</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright (c) All Right Reserved.</li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.19b73e0182301dd61c9211c2f6890104740e2eb9eb12fe4ba8d4f31435b22ed6.js"
  integrity="sha256-Gbc&#43;AYIwHdYckhHC9okBBHQOLrnrEv5LqNTzFDWyLtY=">
</script>





<script async
  src="/js/flexsearch.5dd6433c29c3e043627f046054aed58ff3790f58fdb8423f45125bbafdcad335.js"
  integrity="sha256-XdZDPCnD4ENifwRgVK7Vj/N5D1j9uEI/RRJbuv3K0zU=">
</script>
<script async
  src="/js/search-modal.96e662d8f691fe25c859a3437074b485f2d7bed0bca612725028c6cf4322e2f2.js"
  integrity="sha256-luZi2PaR/iXIWaNDcHS0hfLXvtC8phJyUCjGz0Mi4vI=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>
