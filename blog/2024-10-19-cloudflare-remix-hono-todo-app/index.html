<!doctype html>
<html lang="ko" data-bs-theme="auto">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js"
  integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg=">
</script>


<link rel="stylesheet" href="/main.86b7305f5a96b7dd3a46fa6277d87b125af3bf13f48c4cfcc269be84fa9e8fb75375d45a5fe9056ce9190644b7a6e5f13f917f12d853ed38bb76d8856898f755.css" integrity="sha512-hrcwX1qWt906Rvpid9h7ElrzvxP0jEz8wmm+hPqej7dTddRaX+kFbOkZBkS3puXxP5F/EthT7Ti7dtiFaJj3VQ==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><title>Fullstack ê°•ì¢Œ - Hono RPC &#43; Remix &#43; Cloudflare &#43; D1 DB ì¡°í•©ìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°</title>
<meta name="description" content="Hono RPC ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ API Endpoint êµ¬ì¶•í•˜ì—¬ Remix Frameworkìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°" />
<link rel="canonical" href="https://mycodingshub.github.io/blog/2024-10-19-cloudflare-remix-hono-todo-app/" />
<meta name="robots" content="index, follow" />

<meta property="og:type" content="article" />
<meta property="og:title" content="Fullstack ê°•ì¢Œ - Hono RPC &#43; Remix &#43; Cloudflare &#43; D1 DB ì¡°í•©ìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°" />
<meta property="og:description" content="Hono RPC ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ API Endpoint êµ¬ì¶•í•˜ì—¬ Remix Frameworkìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°" />
<meta property="og:url" content="https://mycodingshub.github.io/blog/2024-10-19-cloudflare-remix-hono-todo-app/" />
<meta property="og:site_name" content="Home" />
<meta property="og:image" content="https://mycodingshub.github.io/cover.png" />
<meta property="og:locale" content="en" />
<meta property="article:published_time" content="2024-10-19T03:00:08Z" />
<meta property="article:modified_time" content="2024-10-19T03:00:08Z" />
<meta property="article:tag" content="remix" />
<meta property="article:tag" content="hono" />
<meta property="article:tag" content="rpc" />
<meta property="article:tag" content="cloudflare" />
<meta property="article:tag" content="api endpoint" />
<meta property="article:tag" content="todo app" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Fullstack ê°•ì¢Œ - Hono RPC &#43; Remix &#43; Cloudflare &#43; D1 DB ì¡°í•©ìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°" />
<meta name="twitter:description" content="Hono RPC ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ API Endpoint êµ¬ì¶•í•˜ì—¬ Remix Frameworkìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°" />
<meta name="twitter:image" content="https://mycodingshub.github.io/cover.png" />

<meta name="author" content="cpro95@gmail.com" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "\"Fullstack ê°•ì¢Œ - Hono RPC + Remix + Cloudflare + D1 DB ì¡°í•©ìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°\"",
  "description": "\"Hono RPC ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ API Endpoint êµ¬ì¶•í•˜ì—¬ Remix Frameworkìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°\"",
  "datePublished": "\"2024-10-19T03:00:08Z\"",
  "dateModified": "\"2024-10-19T03:00:08Z\"",
  "author": {
    "@type": "Person",
    "name": "\"cpro95@gmail.com\""
  },
  "image": "\"https://mycodingshub.github.io/cover.png\"",
  "url": "\"https://mycodingshub.github.io/blog/2024-10-19-cloudflare-remix-hono-todo-app/\"",
  "publisher": {
    "@type": "Organization",
    "name": "\"Home\""
  }
}
</script>




<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7SBETWEJ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C7SBETWEJ0');
</script>


<script
  async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7748316956330968"
  crossOrigin="anonymous"
></script>


</head>

  
  <body class="single section blog" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<header class="navbar navbar-expand-sm">
  <div class="container-lg">
  <div class="d-flex flex-grow-1 justify-content-between">
    <div class="d-flex flex-row navbar-nav justify-content-between align-items-start gap-2">
    
    <a class="nav-link fw-bold fs-4" href="/">Home</a>

    
    
            <a class="nav-link fs-4  active" href="https://mycodingshub.github.io/blog/" aria-current="true">Blog</a>
          
        
            <a class="nav-link fs-4 " href="https://mycodingshub.github.io/life/">Life</a>
          
        
    </div>
    <div class="d-flex flex-row justify-content-between align-items-center">
      
      
      <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      
      <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
        <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
        </svg>
        <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
        </svg>
      </button>
      </div>
        
        
        
        
        </div>
    </div>

    
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search indexâ€¦</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted d-none"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-lg" role="document">
      <div class="content">
      
        
<article>
  <div class="row justify-content-center">
    <div class="col-md-12 col-lg-12">
      
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-7748316956330968"
        data-ad-slot="2971373181"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <div class="blog-header">
        <h1>Fullstack ê°•ì¢Œ - Hono RPC &#43; Remix &#43; Cloudflare &#43; D1 DB ì¡°í•©ìœ¼ë¡œ Todo ì•± ë§Œë“¤ê¸°</h1>
        <p>
  <small>October 19, 2024<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>24&nbsp;minutes</span></small>
</p>

      </div>
    </div>
      <div class="col-md-12 col-lg-12">
      
      <p>ì•ˆë…•í•˜ì„¸ìš”?</p>
<p>ì§€ë‚œ ì‹œê°„ì— ì´ì–´ Cloudflareì—ì„œ Remix Frameworkê³¼ Honoì˜ RPC ê¸°ëŠ¥ì„ í™œìš©í•œ API Endpoint êµ¬ì¶•í•˜ê¸° 2ë²ˆì§¸ í¸ì¸ Todo ì•± ë§Œë“¤ê¸°ë¥¼ ì§„í–‰í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<p>1í¸ì—ì„œëŠ” Hono RPCë¥¼ ì´ìš©í•œ API Endpointë¥¼ KVë¡œ êµ¬ì¶•í–ˆëŠ”ë°ìš”.</p>
<p>APIë¥¼ Honoë¡œ ì‘ì„±í•˜ëŠ” ë°©ë²•ê³¼ Remixì—ì„œ Honoë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•, ê·¸ë¦¬ê³  ìµœì¢…ì ìœ¼ë¡œ Cloudflare networkì— ë°°í¬ê¹Œì§€ ëëƒˆëŠ”ë°ìš”.</p>
<p>ì˜¤ëŠ˜ì€ ë³¸ê²©ì ì¸ í…ŒìŠ¤íŠ¸ ì•±ìœ¼ë¡œ Todo ì•±ì„ D1 DBë¥¼ ì´ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ì§€ë‚œ ì‹œê°„ì—ëŠ” KVì˜ ì‚¬ìš©ë°©ë²•ì„ ë°°ì› ê¸° ë•Œë¬¸ì— ì˜¤ëŠ˜ì€ D1 DBë¥¼ ë°°ì›Œë³¸ë‹¤ëŠ” ê°œë…ìœ¼ë¡œ ê°•ì˜ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.</p>
<p>ì•„ë˜ëŠ” ì§€ë‚œ ì‹œê°„ ê°•ì¢Œ ë§í¬ì…ë‹ˆë‹¤.</p>
<p><a href="https://mycodingshub.github.io/blog/2024-10-14-cloudflare-remix-framework-hono-rpc-api-endpoint">Cloudflareì—ì„œ Remix Frameworkê³¼ Honoì˜ RPC ê¸°ëŠ¥ì„ í™œìš©í•œ API Endpoint êµ¬ì¶•í•˜ê¸°</a></p>
<hr>
<h2 id="d1-db-ì„¤ì •">D1 DB ì„¤ì •</h2>
<p>ë¨¼ì €, D1 DBì˜ ì„¤ì •ë¶€í„° ì‹œì‘í•´ì•¼í•˜ëŠ”ë°ìš”.</p>
<p>í„°ë¯¸ë„ ìƒì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•˜ì‹œë©´ wranglerê°€ ì•„ì£¼ ì‰½ê²Œ DBë¥¼ êµ¬ì¶•í•´ ì¤ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npx wrangler d1 create remix-hono-todo-test
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> â›…ï¸ wrangler 3.57.1 <span class="o">(</span>update available 3.80.5<span class="o">)</span>
</span></span><span class="line"><span class="cl">-------------------------------------------------------
</span></span><span class="line"><span class="cl">âœ… Successfully created DB <span class="s1">&#39;remix-hono-todo-test&#39;</span> in region APAC
</span></span><span class="line"><span class="cl">Created your new D1 database.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[[</span>d1_databases<span class="o">]]</span>
</span></span><span class="line"><span class="cl"><span class="nv">binding</span> <span class="o">=</span> <span class="s2">&#34;DB&#34;</span> <span class="c1"># i.e. available in your Worker on env.DB</span>
</span></span><span class="line"><span class="cl"><span class="nv">database_name</span> <span class="o">=</span> <span class="s2">&#34;remix-hono-todo-test&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">database_id</span> <span class="o">=</span> <span class="s2">&#34;b8asfdfa-9sadfe37-4fasdfd71-casdfsddb614&#34;</span> <span class="c1"># ì°¸ê³ ë¡œ, ê°•ì˜ë¥¼ ìœ„í•œ fake idì…ë‹ˆë‹¤.</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ í„°ë¯¸ë„ìƒì— D1 DBì˜ ì„¤ì • ì„¸íŒ…ê°’ê¹Œì§€ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì£¼ëŠ”ë°ìš”.</p>
<p>wrangler.toml íŒŒì¼ì˜ ì•„ë˜ë¶€ë¶„ì„ ìœ„ì—ì„œ ì–»ì€ ì„¸íŒ…ê°’ìœ¼ë¡œ ë°”ê¿”ì£¼ë©´ ëì…ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># [[d1_databases]]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># binding = &#34;MY_DB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># database_name = &#34;my-database&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># database_id = &#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ì´ì œ D1 DBë¥¼ ìƒì„±ê¹Œì§€ í–ˆëŠ”ë°ìš”.</p>
<p>ì´ì œëŠ” ì‹¤ì œ DBì˜ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ë³´í†µ ì—¬ê¸°ì„œ Drizzle ORM ê°™ì€ ORMì„ ì‚¬ìš©í•˜ëŠ”ë°ìš”.</p>
<p>ì œ ì˜ˆì „ ê°•ì¢Œ ë³´ì‹œë©´ Drizzle ORM ì‚¬ìš©ë²•ì´ ë‚˜ì˜µë‹ˆë‹¤.</p>
<p>ê·¸ëŸ°ë° ì˜¤ëŠ˜ì€ Drizzle ORM ì—†ì´ ì§„í–‰í•´ ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p>
<p>ë¨¼ì €, ë§Œë“¤ë ¤ê³  í•˜ëŠ” í…Œì´ë¸”ì˜ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ì¼ë‹¨ db í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ë°‘ì— &lsquo;schema.sql&rsquo; íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ë§Œë“­ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">DROP TABLE IF EXISTS Todos<span class="p">;</span>
</span></span><span class="line"><span class="cl">CREATE TABLE IF NOT EXISTS Todos <span class="o">(</span>
</span></span><span class="line"><span class="cl">  id INTEGER PRIMARY KEY AUTOINCREMENT,
</span></span><span class="line"><span class="cl">  title TEXT NOT NULL,
</span></span><span class="line"><span class="cl">  completed INTEGER NOT NULL DEFAULT <span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">INSERT INTO Todos <span class="o">(</span>title<span class="o">)</span> VALUES <span class="o">(</span><span class="s2">&#34;test&#34;</span><span class="o">)</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì—ì„œ ë³´ì‹œëŠ” ê±´ ë°”ë¡œ SQlite3ì˜ SQL ë¬¸(statement)ì¸ë°ìš”.</p>
<p>ì˜ì–´ ê·¸ëŒ€ë¡œ í•´ì„í•˜ì…”ë„ ì‰½ê²Œ ë¬´ìŠ¨ ëœ»ì¸ì§€ ì•Œ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.</p>
<p>ì´ ê°•ì¢ŒëŠ” SQLite3 ê°•ì¢Œê°€ ì•„ë‹ˆë¼ì„œ ìƒì„¸í•œ ì„¤ëª…ì€ ê±´ë„ˆ ë›°ê² ìŠµë‹ˆë‹¤.</p>
<p>ìœ„ sql íŒŒì¼ì€ Todosë¼ëŠ” í…Œì´ë¸”ì„ ë§Œë“œëŠ”ë°, idëŠ” integer ê°’ (ì •ìˆ˜ê°’)ì´ê³  autoincrement ì„±ê²©ì„ ê°–ìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  titleì€ í…ìŠ¤íŠ¸ ê°’ì´ê³ , ì¤‘ìš”í•œ completedëŠ” ì•„ë¬´ë¦¬ ë´ë„ boolean ê°’ì´ ë“¤ì–´ê°€ì•¼ í•˜ëŠ”ë°, ìœ„ì—ì„œëŠ” integer ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ë°ìš”.</p>
<p>SQlite3ëŠ” boolean íƒ€ì…ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ integer íƒ€ì…ìœ¼ë¡œ ì„¤ì •í•˜ê³  0 ì´ë©´ false, 1 ì´ë©´ trueë¡œ ì·¨ê¸‰í•˜ëŠ”ê²Œ ì¼ë°˜ì ì¸ ì½”ë”© ë£°ì…ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ë””í´íŠ¸(default) ê°’ìœ¼ë¡œ 0ìœ¼ë¡œ ì„¤ì •í–ˆê¸° ë•Œë¬¸ì— ì•„ë¬´ê²ƒë„ ì•ˆí•˜ë©´ ì•Œì•„ì„œ 0ìœ¼ë¡œ ì„¸íŒ…ë©ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ë”ë¯¸ ë°ì´í„° í•œê°œë¥¼ INSERT ë¬¸ìœ¼ë¡œ ì‚½ì…í–ˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë©´ ì´ schema.sql íŒŒì¼ì„ ì•„ê¹Œ ìš°ë¦¬ê°€ ë§Œë“  &lsquo;DB&rsquo;ë¼ëŠ” ë°”ì¸ë”© ì´ë¦„ì¸ ì‹¤ì œ DBì— ì ìš©í•´ì•¼ í•˜ëŠ”ë°ìš”.</p>
<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ë‘ êµ°ë°ì— ì ìš©í•´ì•¼ í•œë‹¤ëŠ” ê²ë‹ˆë‹¤.</p>
<p>í•œ êµ°ë°ëŠ” ì‹¤ì œ Cloudflare Networkìƒì˜ D1 DBì— ì ìš©í•˜ëŠ” ê±°ê³ , ë‘ ë²ˆì§¸ëŠ” ë¡œì»¬ ì¦‰, ìš°ë¦¬ê°€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°œë°œ ì„œë²„ë¥¼ ëŒë¦¬ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì‹¤ì œ ì»´í“¨í„°ì— ì ìš©í•´ì•¼í•˜ëŠ” ê²ë‹ˆë‹¤.</p>
<p>ë¡œì»¬ ê°œë°œ ì„œë²„ì— ì„¤ì¹˜í•˜ë ¤ë©´ &lsquo;&ndash;local&rsquo; ì˜µì…˜ì„ ì£¼ë©´ ë˜ê³ , ì‹¤ì œ Cloudflare Networkì— ì ìš©í•˜ë ¤ë©´ &lsquo;&ndash;remote&rsquo; ì˜µì…˜ì„ ì£¼ë©´ ë©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë©´ ì‹¤ì œë¡œ ì ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ì•„ë˜ì™€ ê°™ì´ í„°ë¯¸ë„ì—ì„œ ëª…ë ¹ë¬¸ì„ ì…ë ¥í•˜ê³  ì‹¤í–‰í•´ ë³´ì‹œì£ .</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npx wrangler d1 execute remix-hono-todo-test --local --file<span class="o">=</span>./db/schema.sql
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> â›…ï¸ wrangler 3.57.1 <span class="o">(</span>update available 3.80.5<span class="o">)</span>
</span></span><span class="line"><span class="cl">-------------------------------------------------------
</span></span><span class="line"><span class="cl">ğŸŒ€ Executing on <span class="nb">local</span> database remix-hono-todo-test
</span></span><span class="line"><span class="cl"><span class="o">(</span>xxxx-x-x-x-x-xxx-x-x-x-x<span class="o">)</span> from .wrangler/state/v3/d1:
</span></span><span class="line"><span class="cl">ğŸŒ€ To execute on your remote database, add a --remote flag to your wrangler command.</span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ d1 ë‹¤ìŒì— execute ëª…ë ¹ì–´ë¥¼ ì£¼ë©´ ë©ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  &lsquo;&ndash;local&rsquo; ì˜µì…˜ê³¼ schema.sql íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì£¼ëŠ” &lsquo;&ndash;file&rsquo; ì˜µì…˜ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ìœ„ì™€ ê°™ì´ ë‚˜ì˜¤ë©´ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœê²ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ì‹¤ì œ Cloudflare Network ìƒì— í…Œì´ë¸”ì„ ìƒì„±í•˜ë ¤ë©´ &lsquo;&ndash;local&rsquo; ì˜µì…˜ì„ &lsquo;&ndash;remote&rsquo;ë¼ëŠ” ì˜µì…˜ìœ¼ë¡œ ë°”ê¿” ì£¼ë©´ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npx wrangler d1 execute remix-hono-todo-test --remote --file<span class="o">=</span>./db/schema.sql     
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> â›…ï¸ wrangler 3.80.5
</span></span><span class="line"><span class="cl">-------------------
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">âœ” âš ï¸ This process may take some time, during which your D1 database will be unavailable to serve queries.
</span></span><span class="line"><span class="cl">  Ok to proceed? â€¦ yes
</span></span><span class="line"><span class="cl">ğŸŒ€ Executing on remote database remix-hono-todo-test
</span></span><span class="line"><span class="cl"><span class="o">(</span>xxxxx-xxxxx-x-x-x-x-x-x
</span></span><span class="line"><span class="cl"><span class="o">)</span>:
</span></span><span class="line"><span class="cl">ğŸŒ€ To execute on your <span class="nb">local</span> development database, remove the --remote flag from your wrangler command.
</span></span><span class="line"><span class="cl">Note: <span class="k">if</span> the execution fails to complete, your DB will <span class="k">return</span> to its original state and you can safely retry.
</span></span><span class="line"><span class="cl">â”œ ğŸŒ€ Uploading xxxxx-xxxxx-x-x-x-x-x-x cf2be6e449aa524e.sql 
</span></span><span class="line"><span class="cl">â”‚ ğŸŒ€ Uploading complete.
</span></span><span class="line"><span class="cl">â”‚ 
</span></span><span class="line"><span class="cl">ğŸŒ€ Starting import...
</span></span><span class="line"><span class="cl">ğŸŒ€ Processed <span class="m">3</span> queries.
</span></span><span class="line"><span class="cl">ğŸš£ Executed <span class="m">3</span> queries in 0.00 seconds <span class="o">(</span><span class="m">3</span> rows read, <span class="m">6</span> rows written<span class="o">)</span>
</span></span><span class="line"><span class="cl">   Database is currently at bookmark
</span></span><span class="line"><span class="cl">   00000002-00005-00e2d-7412dc6fa898327fcf8a378bf.
</span></span><span class="line"><span class="cl">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span class="line"><span class="cl">â”‚ Total queries executed â”‚ Rows <span class="nb">read</span> â”‚ Rows written â”‚ Database size <span class="o">(</span>MB<span class="o">)</span> â”‚
</span></span><span class="line"><span class="cl">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span></span><span class="line"><span class="cl">â”‚ <span class="m">3</span>                      â”‚ <span class="m">3</span>         â”‚ <span class="m">6</span>            â”‚ 0.02               â”‚
</span></span><span class="line"><span class="cl">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre></div>
  </figure>
</div>
<p>&ldquo;Ok to proceed? ë¼ê³  ë‚˜ì˜¤ëŠ”ë° ì—”í„°í‚¤ë¥¼ ëˆ„ë¥´ë©´ ì§„í–‰ë©ë‹ˆë‹¤.</p>
<p>ê°„í˜¹ê°€ë‹¤ê°€ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë‚˜ì˜¬ë•Œê°€ ìˆëŠ”ë°ìš”.</p>
<p>wrangler ë²„ì „ ê´€ë ¨ ë¬¸êµ¬ê°€ ë‚˜ì˜¬ ë•Œê°€ ìˆìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">âœ˜ <span class="o">[</span>ERROR<span class="o">]</span> Cannot <span class="nb">read</span> properties of undefined <span class="o">(</span>reading <span class="s1">&#39;forEach&#39;</span><span class="o">)</span></span></span></code></pre></div>
  </figure>
</div>
<p>ì´ëŸ´ ë•ŒëŠ” wranglerë¥¼ í•´ë‹¹ ìµœì‹ ë²„ì „ì„ ì˜¬ë¦¬ë©´ í•´ê²°ë©ë‹ˆë‹¤.</p>
<p>ì´ì œ ì‹¤ì œ Cloudflare ëŒ€ì‹œë³´ë“œì— ê°€ì„œ í™•ì¸í•´ ë³¼ê¹Œìš”?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEik_5D7zxnb5saWp91vYX4DEtfX8Z1WGgCCYg7q5wRl_8_SMlfVa-LeN4DTqV8a-YCALi_GNEHHV6HakE0LNca_f3KMXxPPmHFSuE0o6U-UMQbrIHtNzMVCgjeLQxyM90Yak5Iwm5a_pSY967j-1Qfs5Gn_NOG_vrdKUdiSw_10CC9LLCEO6ZiYbbxJ0qk"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ ì˜ ì ìš©ë˜ì—ˆë„¤ìš”.</p>
<hr>
<h2 id="db-ë°”ì¸ë”©-ê°’-envì—-ì ìš©í•˜ê¸°">DB ë°”ì¸ë”© ê°’ Envì— ì ìš©í•˜ê¸°</h2>
<p>ì´ì œ ìƒˆë¡œìš´ Cloudflare ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ë ¤ê³  ì„¸íŒ…í–ˆê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ &ldquo;typegen&rdquo; ëª…ë ¹ì–´ë¡œ Env ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.</p>
<p>í„°ë¯¸ë„ ìƒì— ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•©ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npm run typegen
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&gt; typegen
</span></span><span class="line"><span class="cl">&gt; wrangler types
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> â›…ï¸ wrangler 3.80.5
</span></span><span class="line"><span class="cl">-------------------
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Generating project types...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">interface Env <span class="o">{</span>
</span></span><span class="line"><span class="cl">        kv: KVNamespace<span class="p">;</span>
</span></span><span class="line"><span class="cl">        SECRET: <span class="s2">&#34;secret is hono-remix-adapter&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        DB: D1Database<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ wranglerê°€ Env ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸ í–ˆë„¤ìš”.</p>
<p>í•´ë‹¹ ë‚´ìš©ì€ &lsquo;worker-configuration.d.ts&rsquo; íŒŒì¼ì— ì˜ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ Hono RPCì—ì„œ D1 DBë¥¼ ì´ìš©í•  ì¤€ë¹„ê°€ ë‹¤ ëë‚¬ìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ Honoë¥¼ ì´ìš©í•´ì„œ Todo ì•±ì„ ìœ„í•œ API Endpointë¥¼ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="honoë¡œ-api-route-êµ¬ì¶•í•˜ê¸°">Honoë¡œ API route êµ¬ì¶•í•˜ê¸°</h2>
<p>Honoì˜ ì„œë²„ íŒŒì¼ì´ server í´ë”ì˜ index.ts íŒŒì¼ì¸ë°ìš”.</p>
<p>ì´ íŒŒì¼ì•ˆì— ëª¨ë“  ë¼ìš°íŒ…ì˜ API ì½”ë“œë¥¼ ì‘¤ì…” ë„£ëŠ”ë‹¤ëŠ” ê±°ëŠ” ì¡°ê¸ˆ ë¹„íš¨ìœ¨ì ì¸ë°ìš”.</p>
<p>ë‹¤í–‰íˆ HonoëŠ” ëª¨ë“ˆëŸ¬ ë°©ì‹ì˜ ì½”ë“œ ìª¼ê°œê¸°(Splitting)ì„ ì§€ì›í•´ ì¤ë‹ˆë‹¤.</p>
<p>server í´ë”ì— api í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ë°‘ì— ë˜ ë‹¤ì‹œ todos í´ë”ë¥¼ ë§Œë“¤ê³  todos í´ë” ë°‘ì— ì¼ë‹¨ &lsquo;index.ts&rsquo; íŒŒì´ì„ ë§Œë“­ì‹œë‹¤.</p>
<p>ì´ íŒŒì¼ì´ ìš°ë¦¬ê°€ ë§Œë“œë ¤ê³  í•˜ëŠ” &lsquo;api/todos&rsquo;ê°€ ì—”ë“œí¬ì¸íŠ¸ì¸ API ë¼ìš°íŒ…ì˜ ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” íŒŒì¼ì´ ë˜ëŠ”ê²ë‹ˆë‹¤.</p>
<p>ì¼ë‹¨ ì´ íŒŒì¼ì˜ êµ¬ì„±ì„ ëŒ€ì²´ì ìœ¼ë¡œ ì‚´í´ë´…ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// &#39;/server/api/todo/index.ts&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Hono</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getTodos</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;./model&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// RPCë¥¼ ìœ„í•´ì„œëŠ” new Hono&lt;&gt;().get í˜•ì‹ìœ¼ë¡œ ë¶™í˜€ì„œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">api_todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Hono</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">Bindings</span>: <span class="kt">Env</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;/todos&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getTodos</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">api_todos</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>RPCë¥¼ ìœ„í•´ì„œëŠ” Hono ê°ì²´ë¥¼ ë§Œë“¤ê³  ê¼­ ë©”ì„œë“œ ì²´ì´ë‹ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>Hono ê³µì‹ë¬¸ì„œì—ì„œë„ ì–˜ê¸°í•´ ì£¼ì§€ ì•Šì•„ ì´ê±° ë•Œë¬¸ì— 3ì‹œê°„ ì‚½ì§ˆí–ˆëŠ”ë°ìš”.</p>
<p>ì¼ë‹¨ ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì €ëŠ” ì‹¤ì œ DB ê´€ë ¨ëœ ì½”ë“œëŠ” model ì´ë€ íŒŒì¼ì— ë³„ë„ë¡œ ë”°ë¡œ ì‘ì„±í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p>
<p>&lsquo;/server/api/todo/index.ts&rsquo; íŒŒì¼ì€ ìˆœì „íˆ Honoì˜ ë¼ìš°íŒ…ë§Œ ì¤‘ì ì ìœ¼ë¡œ ì§‘ì¤‘í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.</p>
<p>ì°¸ê³ ë¡œ &lsquo;c.env.DB&rsquo;ë¼ê³  í•˜ë©´ ìš°ë¦¬ê°€ ë§Œë“  Cloudflare D1 DBë¥¼ ì§€ì¹­í•˜ê²Œ ë©ë‹ˆë‹¤.</p>
<p>ì™œ ì´ë¦„ì´ DBëƒë©´ ì•„ê¹Œ ìš°ë¦¬ê°€ ì•„ë˜ì™€ ê°™ì´ ì§€ì •í•œ ê·¸ ì´ë¦„ì´ &lsquo;DB&rsquo;ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ë³„ì¹­ì„ ë§Œë“¤ì–´ë„ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="o">[[</span>d1_databases<span class="o">]]</span>
</span></span><span class="line"><span class="cl"><span class="nv">binding</span> <span class="o">=</span> <span class="s2">&#34;DB&#34;</span> <span class="c1"># i.e. available in your Worker on env.DB</span>
</span></span><span class="line"><span class="cl"><span class="nv">database_name</span> <span class="o">=</span> <span class="s2">&#34;remix-hono-todo-test&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">database_id</span> <span class="o">=</span> <span class="s2">&#34;b8asfdfa-9sadfe37-4fasdfd71-casdfsddb614&#34;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ê·¸ëŸ¬ë©´ ê°™ì€ í´ë”ì— model.ts íŒŒì¼ì„ ë§Œë“¤ê³  getTodos í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;zod&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Todo ìŠ¤í‚¤ë§ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">TodoSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="kt">object</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">z.number</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span>: <span class="kt">z.string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">max</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">completed</span>: <span class="kt">z.number</span><span class="p">().</span><span class="k">default</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">Todo</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">completed</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">getTodos</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">DB</span>: <span class="kt">D1Database</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="err">[]</span><span class="p">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// SQL ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ D1ì—ì„œ ëª¨ë“  Todo í•­ëª©ì„ ê°€ì ¸ì˜´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">DB</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s2">&#34;SELECT * FROM Todos&#34;</span><span class="p">).</span><span class="nx">all</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">results</span> <span class="o">||</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&#34;Failed to fetch todos from D1 DB&#34;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ì‹œë©´ ë‚˜ì¤‘ì„ ìœ„í•´ TodoSchemaë¥¼ ë¯¸ë¦¬ ì„¸íŒ…í•´ ë†¨ìŠµë‹ˆë‹¤.</p>
<p>POST ë©”ì„œë“œì¼ ë•Œ ì“¸ ì˜ˆì •ì…ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  Promise ë¦¬í„´ íƒ€ì…ìœ¼ë¡œ ì“¸ Todo íƒ€ì…ì„ interfaceë¥¼ ì´ìš©í•´ì„œ ìƒˆë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ëŒ€ë§ì˜ getTodos í•¨ìˆ˜ì¸ë°ìš”.</p>
<p>Cloudflare D1 DB íŠœí† ë¦¬ì–¼ì— ê°€ì‹œë©´ DB.prepare í•¨ìˆ˜ì™€ all, run, first ë©”ì„œë“œë¥¼ ì“°ëŠ” ë°©ë²•ì´ ë‹¤ ë‚˜ì™”ìœ¼ë‹ˆ ê¼­ ì½ì–´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
<p>ìœ„ ì½”ë“œëŠ” Todos í…Œì´ë¸”ì—ì„œ ëª¨ë“  ê±¸ (all ë©”ì„œë“œ ì‚¬ìš©) ê°€ì ¸ì˜¤ë¼ëŠ” ëª…ë ¹ì¸ë°ìš”.</p>
<p>D1 DBê°€ all() í•¨ìˆ˜ë¡œ ì‹¤í–‰ë˜ë©´ ë¦¬í„´í•˜ëŠ” result ê°ì²´ì˜ íƒ€ì…ì„ ë¯¸ë¦¬ ê³µë¶€í•  í•„ìš”ê°€ ìˆëŠ”ë°ìš”.</p>
<p>ì•„ë˜ì™€ ê°™ì€ íƒ€ì…ìœ¼ë¡œ ë¦¬í„´ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// result type of method all()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">success</span>: <span class="kt">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">meta</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">served_by</span><span class="o">:</span> <span class="s1">&#39;miniflare.db&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">duration</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">changes</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">last_row_id</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">changed_db</span>: <span class="kt">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">size_after</span>: <span class="kt">16384</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">rows_read</span>: <span class="kt">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">rows_written</span>: <span class="kt">0</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">results</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">id</span>: <span class="kt">9</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;1111&#39;</span><span class="p">,</span> <span class="nx">completed</span>: <span class="kt">0</span> <span class="p">}</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>ì‹¤ì œ Sqlite3ì˜ ë¦¬í„´íƒ€ì…ì€ ìœ„ì™€ ê°™ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
<p>ìœ„ì™€ ê°™ì€ ë¦¬í„´ íƒ€ì…ì€ Cloudflareê°€ modifyí•œ ê²ë‹ˆë‹¤.</p>
<p>ì¼ë‹¨ success ê°’ìœ¼ë¡œ SQL ì¿¼ë¦¬ ì‹¤í–‰ì—¬ë¶€ë¥¼ ì‰½ê²Œ ì•Œì•„ ë³¼ ìˆ˜ ìˆê³ , results ê°’ìœ¼ë¡œ ë¦¬í„´ê°’ë§Œ ì‰½ê²Œ ì•Œ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë©´ ì´ì œ getTodos í•¨ìˆ˜ì˜ ì—­í• ì´ ì´í•´ ë˜ì‹œì£ ?</p>
<p>ì´ì œ getTodos í•¨ìˆ˜ì™€ Honoì˜ API Endpoint êµ¬ì„±ì´ 90% ëë‚¬ìŠµë‹ˆë‹¤.</p>
<p>ë§ˆì§€ë§‰ 10%ì˜ ì„¤ì •ì€ ë°”ë¡œ server í´ë”ì˜ index.ts íŒŒì¼ì— ìš°ë¦¬ê°€ ë§Œë“  API Endpoint ë¼ìš°íŒ…ì„ ì‚½ì…ì‹œí‚¤ê³  RPCë¥¼ ìœ„í•œ AppTypeì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// &#39;/server/index.ts&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Hono</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">cors</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono/cors&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">api_todos</span> <span class="kr">from</span> <span class="s2">&#34;./api/todos&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Hono</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">Bindings</span>: <span class="kt">Env</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s2">&#34;*&#34;</span><span class="p">,</span> <span class="nx">cors</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// KVë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” ì˜ˆì „ ì½”ë“œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;/hono-test&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">kv</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">await</span> <span class="nx">kv</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s2">&#34;hono-remix-adapter&#34;</span><span class="p">,</span> <span class="s2">&#34;hono can access cloudflare kv&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">kv</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;hono-remix-adapter&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="sb">`Hono kv is ok, value is </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb"> ,</span><span class="err">\</span><span class="sb">n My_var is </span><span class="si">${</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">SECRET</span><span class="si">}</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">route</span> <span class="o">=</span> <span class="nx">app</span><span class="p">.</span><span class="nx">route</span><span class="p">(</span><span class="s2">&#34;/api&#34;</span><span class="p">,</span> <span class="nx">api_todos</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">app</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Hono RPCë¥¼ ìœ„í•œ AppType export ì‹œí‚¤ê¸°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">type</span> <span class="nx">AppType</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">route</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œë¥¼ ì˜ ë³´ì‹œë©´ ì¼ë‹¨ Hono ê°ì²´ë¥¼ appì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì´ app ì´ë¼ëŠ” ì´ë¦„ì˜ Honoê°ì²´ê°€ ë©”ì¸ ë¼ìš°íŒ…ì´ë˜ê³ , ê·¸ë¦¬ê³  ì•„ê¹Œ ìš°ë¦¬ê°€ ë§Œë“¤ì—ˆë˜ api_todos ë¼ìš°íŒ…ì´ ì„œë¸Œ ë¼ìš°íŒ…ì´ ë˜ëŠ”ê±°ì£ .</p>
<p>ê·¸ë¦¬ê³  export type AppType ë°©ì‹ìœ¼ë¡œ RPCë¥¼ ìœ„í•œ AppTypeì„ export í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì°¸ê³ ë¡œ, ë©”ì¸ ë¼ìš°íŒ…ì´ ë˜ëŠ” appê°ì²´ì— get ë©”ì„œë“œë¡œ &lsquo;hono-test&rsquo; ë¼ëŠ” ë¼ìš°íŒ…ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.</p>
<p>KVë¥¼ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•´ ì˜ˆì „ì— ì‘ì„±í•œ ì½”ë“œì…ë‹ˆë‹¤.</p>
<p>ì‚¬ì‹¤ ìœ„ ì½”ë“œëŠ” ì—†ì–´ë„ ë˜ëŠ”ë° ìˆœì „íˆ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë‚¨ê²¨ë†“ì€ ê±°ë‹ˆ ë‚˜ì¤‘ì— ë¶ˆí•„ìš”í•˜ì‹œë©´ ì§€ìš°ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p>ì´ì œ ì„¤ì •ì´ ëë‚¬ìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="remixì—ì„œ-rpcë¥¼-ì´ìš©í•´ì„œ-gettodos-í•¨ìˆ˜-ì‹¤í–‰í•˜ê¸°">Remixì—ì„œ RPCë¥¼ ì´ìš©í•´ì„œ getTodos í•¨ìˆ˜ ì‹¤í–‰í•˜ê¸°</h2>
<p>ì´ì œ Client side ìª½ ì½”ë“œì…ë‹ˆë‹¤.</p>
<p>ì—„ë°€íˆëŠ” Remix Framework ìª½ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì•¼ ê² ì£ .</p>
<p>ë¨¼ì €, RPCë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ìœ í‹¸ë¦¬í‹° íŒŒì¼ì„ ë¨¼ì € ë§Œë“­ì‹œë‹¤.</p>
<p>app í´ë” ë°‘ì— utils í´ë”ë¥¼ ë§Œë“¤ê³  &lsquo;apiClient.ts&rsquo; íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•©ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// &#39;/app/utils/apiClient.ts&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">hc</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono/client&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppType</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;../../server&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">  <span class="kr">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">MODE</span> <span class="o">===</span> <span class="s2">&#34;production&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">?</span> <span class="nx">hc</span><span class="p">&lt;</span><span class="nt">AppType</span><span class="p">&gt;(</span><span class="kr">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_API_URL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">:</span> <span class="nx">hc</span><span class="p">&lt;</span><span class="nt">AppType</span><span class="p">&gt;(</span><span class="s2">&#34;http://localhost:5173/&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">clientGetTodos</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">$get</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ì‹œë©´ Honoì˜ RPCë¥¼ ì‹¤ì œë¡œ ë§Œë“œëŠ” ë°©ë²•ì´ ë‚˜ì˜¤ëŠ”ë°ìš”.</p>
<p>&lsquo;hono/client&rsquo;ê°€ ì œê³µí•´ ì£¼ëŠ” hc í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì•„ê¹Œ export í–ˆë˜ AppTypeì„ ì œë„¤ë¦­ íƒ€ì…ìœ¼ë¡œ ë„£ê³ , ê·¸ë¦¬ê³  ì¤‘ìš”í•œ í•´ë‹¹ API ì„œë²„ ì£¼ì†Œë¥¼ ë„£ì–´ì£¼ë©´ ëì…ë‹ˆë‹¤.</p>
<p>ì €ëŠ” production ëª¨ë“œì¼ ë•ŒëŠ” ì‹¤ì œ ì£¼ì†Œë¡œ ë„£ê³ , ê°œë°œ ëª¨ë“œì¼ ê²½ìš° localhost:5173ìœ¼ë¡œ ë„£ë„ë¡ ì‚¼í•­ì—°ì‚°ìë¥¼ ìœ„ì™€ ê°™ì´ ì ìš©í–ˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œìª½ì—ì„œ ì‚¬ìš©í•  clientGetTodos í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆëŠ”ë°ìš”.</p>
<p>ì´ ì½”ë“œê°€ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‹¤í–‰ë˜ë©´ ìœ„ì™€ ê°™ì´ Honoì˜ RPC API Endpointë¥¼ ì‹¤í–‰ì‹œì¼œ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì›ë¦¬ì…ë‹ˆë‹¤.</p>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ì‹œë©´ ìš°ë¦¬ê°€ ë§Œë“  client ê°ì²´ì— ì²´ì¸ ë°©ì‹ìœ¼ë¡œ api, todosë¥¼ ë„£ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì™œ &lsquo;api.todos&rsquo;í•˜ê³  ê·¸ ë‹¤ìŒì— &ldquo;$get()&rdquo; ë©”ì„œë“œë¥¼ ì‹¤í–‰í–ˆëƒë©´ ìš°ë¦¬ê°€ ì•„ê¹Œ Honoì˜ API Endpointë¥¼ ë§Œë“¤ ë•Œ ê²½ë¡œê°€ ë°”ë¡œ api í´ë” ë°‘ì— todos í´ë” ë°‘ì˜ index.ts íŒŒì¼ì´ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>ì‹¤ì œë¡œ ë¸Œë¼ìš°ì €ì—ì„œë„ &ldquo;http://localhost:5173/api/todos&quot;í•´ë„ ë˜‘ê°™ì´ ì‘ë™í•©ë‹ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ ì‹¤ì œ ë¸Œë¼ìš°ì €ì˜ ê²½ë¡œëª…ëŒ€ë¡œ client ë’¤ì— ë©”ì„œë“œ ì²´ì´ë‹ ë°©ì‹ìœ¼ë¡œ ë¼ìš°íŒ… ì£¼ì†Œë¥¼ ë„£ì–´ì£¼ê³  ë§ˆì§€ë§‰ì— ì›í•˜ëŠ” GET ë©”ì„œë“œë¥¼ ì§€ì •í•˜ëŠ” ê²ë‹ˆë‹¤.</p>
<p>ë§Œì•½ POST ë©”ì„œë“œë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ë˜ê² ì£ .</p>
<p><code>client.api.todos.$post()</code></p>
<p>ê·¸ë¦¬ê³  ì¤‘ìš”í•œê±°ëŠ” $get í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì•¼ í•œë‹¤ëŠ” ê²ë‹ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ $get í•¨ìˆ˜ëª… ë’¤ì— &lsquo;()&rsquo; ê´„í˜¸ë¥¼ ë¶™í˜€ í•´ë‹¹ $get í•¨ìˆ˜ë¥¼ ì‹¤í–‰(invoke) ì‹œì¼°ìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ apiClient ìœ í‹¸ë¦¬í‹° íŒŒì¼ì˜ ì‘ì„±ì´ ëë‚¬ìœ¼ë©´ ì´ ë‹¤ìŒì—ëŠ” ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ìª½ì—ì„œ todos ë¼ìš°íŒ…ì„ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ê·¸ ì•ì— ë¨¼ì €, routes í´ë” ë°‘ì˜ &lsquo;_index.tsx&rsquo; íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ì„œ ë©”ì¸ í˜ì´ì§€ë¥¼ ì¡°ê¸ˆ ê°„ë‹¨í•˜ê²Œ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="kr">type</span> <span class="p">{</span> <span class="nx">MetaFunction</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@remix-run/cloudflare&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">meta</span>: <span class="kt">MetaFunction</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;New Remix App&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&#34;description&#34;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&#34;Welcome to Remix!&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Index() {</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex h-screen items-center justify-center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col items-center gap-16&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">header</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col items-center gap-9&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;leading text-2xl font-bold text-gray-800 dark:text-gray-100&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Welcome</span> <span class="nx">to</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;sr-only&#34;</span><span class="p">&gt;</span><span class="nx">Remix</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;h-[144px] w-[434px]&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">img</span>
</span></span><span class="line"><span class="cl">              <span class="na">src</span><span class="o">=</span><span class="s">&#34;/assets/logo-light.png&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">alt</span><span class="o">=</span><span class="s">&#34;Remix&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">className</span><span class="o">=</span><span class="s">&#34;block w-full dark:hidden&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">img</span>
</span></span><span class="line"><span class="cl">              <span class="na">src</span><span class="o">=</span><span class="s">&#34;/assets/logo-dark.png&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">alt</span><span class="o">=</span><span class="s">&#34;Remix&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">className</span><span class="o">=</span><span class="s">&#34;hidden w-full dark:block&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col items-center justify-center gap-4 rounded-3xl border border-gray-200 p-6 dark:border-gray-700&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span>
</span></span><span class="line"><span class="cl">            <span class="na">className</span><span class="o">=</span><span class="s">&#34;group flex items-center gap-3 self-stretch p-3 leading-normal text-blue-700 hover:underline dark:text-blue-500&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">href</span><span class="o">=</span><span class="s">&#34;/todos&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">rel</span><span class="o">=</span><span class="s">&#34;noreferrer&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Go</span> <span class="nx">to</span> <span class="nx">Todos</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ ë©”ì¸ ë¼ìš°íŒ…ì„ ë°”ê¾¸ë©´ ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨í•œ ë©”ì¸ í˜ì´ì§€ê°€ ë‚˜ì˜¬ê²ë‹ˆë‹¤.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiYWTViPOkP2wrd2VQqFNgu3VxZcXwMrflWHqtvXESdq4aAs_ZS673L8RiCLCirwDqv_8MVPOC6meo-bVYhkQ9kT60bEX4oOOjF6Wes8aggTG0A_s_eZ3GCl-L78GRZeZhGhqfSExNQn2DYWYwg_E7hLGSOc1WbihM6XQl0oKViIOfpYtBzyL67owowAS8"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ì´ì œ ë³¸ê²©ì ì¸ todos ì•± êµ¬í˜„ì— ë“¤ì–´ê°€ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="todos-ë¼ìš°íŒ…-êµ¬í˜„">todos ë¼ìš°íŒ… êµ¬í˜„</h2>
<p>todos ì•±ì´ë‹ˆê¹Œ todos ë¼ëŠ” ë¼ìš°íŒ…ì„ ë§Œë“¤ì–´ì•¼ê² ì£ .</p>
<p>Remixì—ì„œ ë¼ìš°íŒ…ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.</p>
<p>app í´ë” ë°‘ì˜ routes í´ë” ë°‘ì— í´ë”ëª…ì´ë“  íŒŒì¼ì´ë¦„ì´ë“  ì ìœ¼ë©´ ê·¸ê²Œ ë¼ìš°íŒ…ì´ ë©ë‹ˆë‹¤.</p>
<p>app í´ë” ë°‘ì— ìˆëŠ” routes í´ë”ì— todos.tsx íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ë§Œë“­ì‹œë‹¤.</p>
<p>ì°¸ê³ ë¡œ, UIìª½ì€ <a href="https://ui.shadcn.com/">shadcn/ui</a>ë¥¼ ì‚¬ìš©í•´ì„œ ì ìš©í–ˆìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// &#39;/app/routes/todos.tsx&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="kr">type</span> <span class="p">{</span> <span class="nx">LoaderFunctionArgs</span><span class="p">,</span> <span class="nx">MetaFunction</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@remix-run/cloudflare&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useLoaderData</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@remix-run/react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Card</span><span class="p">,</span> <span class="nx">CardContent</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;~/components/ui/card&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Checkbox</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;~/components/ui/checkbox&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Todo</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;server/api/todos/model&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">clientGetTodos</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;~/utils/apiClient&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">meta</span>: <span class="kt">MetaFunction</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">[{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;Todo My App&#34;</span> <span class="p">}];</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">loader</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">({</span> <span class="nx">context</span> <span class="p">}</span><span class="o">:</span> <span class="nx">LoaderFunctionArgs</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clientGetTodos</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Todo Card
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">TodoItem</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">todo</span> <span class="p">}</span><span class="o">:</span> <span class="p">{</span> <span class="nx">todo</span>: <span class="kt">Todo</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">Card</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;mb-4 hover:shadow-md transition-shadow duration-200&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">CardContent</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex items-center p-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Checkbox</span> <span class="na">id</span><span class="o">=</span><span class="p">{</span><span class="sb">`todo-</span><span class="si">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;mr-4&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex-grow&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">label</span>
</span></span><span class="line"><span class="cl">            <span class="na">htmlFor</span><span class="o">=</span><span class="p">{</span><span class="sb">`todo-</span><span class="si">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="na">className</span><span class="o">=</span><span class="s">&#34;opacity-100 text-lg font-medium leading-none text-gray-700&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">CardContent</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">Card</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">Todos</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="p">&lt;</span><span class="nt">typeof</span> <span class="na">loader</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;min-h-screen bg-gray-50&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">header</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;bg-white text-gray-800 p-4 shadow-sm&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;container mx-auto&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/todos&#34;</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;text-2xl font-bold&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">My</span> <span class="nx">TODO</span> <span class="nx">App</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">main</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;container mx-auto py-8 px-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;w-full max-w-4xl mx-auto&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;space-y-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">todos</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">TodoItem</span> <span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="na">todo</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">}</span> <span class="p">/&gt;)}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Todos</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë‚˜ì˜¬ê²ë‹ˆë‹¤.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgmzq9lmMVJU3vSmfOjf6tuluLRnERoi8mrgboetdeNTK8Kzj-IGluYLnLgVDqb35a7Opal7SJSIwtRtU_6FYjcSqBGzm6OiV5UQ3k4IueZ5w9m-LQ5wRNqJdzaCREu5UuacA6k252qLUOzlxvrZBEybOPaj4eNMBPVEvPqDxDITH7YuKtRZzDiYKyZrTE"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ì–´ë–¤ê°€ìš”?</p>
<p>Hono RPCë¥¼ ì´ìš©í•´ì„œ getTodos ë°±ì—”ë“œ í•¨ìˆ˜ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì†ì‰½ê²Œ client ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.</p>
<p>ì‹¬ì§€ì–´ Hono RPCì˜ $get ë©”ì„œë“œëŠ” React Queryë¥¼ êµ¬í˜„í•  ë•Œ ì œê³µí•˜ëŠ” fetch í•¨ìˆ˜ì— ê·¸ëŒ€ë¡œ ë„£ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>
<p>Hono ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ ë³´ì‹œë©´ ì‚¬ìš©ë°©ë²•ì´ ë‚˜ì˜¤ëŠ”ë°ìš”, ì°¸ê³  í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
<p>todos.tsx íŒŒì¼ì˜ ë‚´ìš©ì€ loader í•¨ìˆ˜ì—ì„œ ë°±ì—”ë“œìª½ ë°ì´í„°ë¥¼ ì–»ì€ ë‹¤ìŒ í´ë¼ì´ì–¸íŠ¸ ìª½ ì½”ë“œì—ì„œëŠ” useLoaderData í›…ì„ ì´ìš©í•´ì„œ ê·¸ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ìª½ UIì— ë¿Œë ¤ì£¼ëŠ” ì „í˜•ì ì¸ React ì½”ë“œì…ë‹ˆë‹¤.</p>
<p>ê¸°ë³¸ì ì¸ ì‚¬ìš©ë°©ë²•ì„ ìµíˆì…¨ìœ¼ë©´ ë³¸ê²©ì ìœ¼ë¡œ Inputê³¼ Deleteê·¸ë¦¬ê³  completed ì²´í¬ë°•ìŠ¤ í† ê¸€ê¹Œì§€ todos.tsx íŒŒì¼ì— êµ¬í˜„í•´ì•¼ í•˜ëŠ”ë°ìš”.</p>
<p>ê·¸ëŸ¼ ë³¸ê²©ì ìœ¼ë¡œ ì‹œì‘í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="update-êµ¬í˜„í•˜ê¸°">update êµ¬í˜„í•˜ê¸°</h2>
<p>ì´ë²ˆì— êµ¬í˜„í•  UI ë¡œì§ì€ ì²´í¬ ë°•ìŠ¤ë¥¼ ëˆ„ë¥´ë©´ Todo ì•±ì˜ completed ê°’ì´ falseê°€ ë˜ë©´ì„œ todo íƒ€ì´í‹€ì˜ ê¸€ìê°€ line-through ë°©ì‹ìœ¼ë¡œ ë³´ì—¬ì£¼ê²Œ í•˜ëŠ”ê²Œ ìµœì¢… ëª©ì ì…ë‹ˆë‹¤.</p>
<p>ì¼ë‹¨ ì´ ë°©ì‹ì€ í´ë¼ì´ì–¸íŠ¸ìª½ì—ì„œ ë‹¨ìˆœí•˜ê²Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë§Œì„ ì´ìš©í•´ì„œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>
<p>ì˜ˆì „ React ì½”ë“œ ì‘ì„±ë°©ì‹ì´ë‘ ê°™ìŠµë‹ˆë‹¤.</p>
<p>ë¨¼ì €, UIìª½ ì½”ë“œë¥¼ ì†ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>TodoItem ì»´í¬ë„ŒíŠ¸ë¥¼ ì•„ë˜ì™€ ê°™ì´ ê³ ì¹©ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// Todo Card
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">TodoItem</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">todo</span> <span class="p">}</span><span class="o">:</span> <span class="p">{</span> <span class="nx">todo</span>: <span class="kt">Todo</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">isCompleted</span><span class="p">,</span> <span class="nx">setIsCompleted</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">handleCheckboxChange</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">checked</span>: <span class="kt">boolean</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">[</span><span class="s2">&#34;:id&#34;</span><span class="p">].</span><span class="nx">$put</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">json</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">title</span>: <span class="kt">todo.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">completed</span>: <span class="kt">isCompleted</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">param</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">id</span>: <span class="kt">todo.id.toString</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">setIsCompleted</span><span class="p">(</span><span class="nx">isCompleted</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">1</span> : <span class="kt">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">Card</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;mb-4 hover:shadow-md transition-shadow duration-200&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">CardContent</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex items-center p-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Checkbox</span>
</span></span><span class="line"><span class="cl">          <span class="na">id</span><span class="o">=</span><span class="p">{</span><span class="sb">`todo-</span><span class="si">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">isCompleted</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="na">onCheckedChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleCheckboxChange</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="na">className</span><span class="o">=</span><span class="s">&#34;mr-4&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex-grow&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">label</span>
</span></span><span class="line"><span class="cl">            <span class="na">htmlFor</span><span class="o">=</span><span class="p">{</span><span class="sb">`todo-</span><span class="si">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">              opacity-100 text-lg font-medium leading-none </span><span class="si">${</span>
</span></span><span class="line"><span class="cl">                <span class="nx">isCompleted</span> <span class="o">?</span> <span class="s2">&#34;line-through text-gray-400&#34;</span> <span class="o">:</span> <span class="s2">&#34;text-gray-700&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">CardContent</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">Card</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ë­”ê°€ ë³µì¡í•œë° ì•„ì£¼ ì‰¬ìš´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì…ë‹ˆë‹¤.</p>
<p>ë¨¼ì €, UI ìª½ ë³´ì‹œë©´ label íƒœê·¸ê°€ &lsquo;isCompleted&rsquo;ë¼ëŠ” state ê°’ì— ë”°ë¼ &rsquo;line-through&rsquo; ê°€ ì ìš©ë˜ëƒ ì•ˆë˜ëƒë¡œ ì‘ë™í•©ë‹ˆë‹¤.</p>
<p>Checkbox ìª½ì—ë„ &lsquo;checked&rsquo; ê°’ì„ isCompleted&rsquo;ë¼ëŠ” state ê°’ì— ë”°ë¼ ì ìš©ì‹œì¼°ìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ onCheckedChange í•¸ë“¤ëŸ¬ì¸ handleCheckboxChange í•¨ìˆ˜ì— ì˜í•´ DBìª½ì„ ì œì–´í•˜ëŠ” ì½”ë“œë¥¼ ë´ì•¼í•˜ëŠ”ë° ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">[</span><span class="s2">&#34;:id&#34;</span><span class="p">].</span><span class="nx">$put</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">json</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">title</span>: <span class="kt">todo.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">completed</span>: <span class="kt">isCompleted</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">param</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">id</span>: <span class="kt">todo.id.toString</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ë‹ˆê¹Œ put ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ completed ê°’ì„ ì—…ë°ì´íŠ¸ í•˜ê³  ìˆë„¤ìš”.</p>
<p>ê·¸ëŸ°ë° todos ë‹¤ìŒì— ë¬¸ìì—´ ë°°ì—´ì„ ë„£ê³  ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ê²Œ ë°”ë¡œ URL paramsë¥¼ ë„£ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p>
<p>ì—¬ê¸°ì„œëŠ” &lsquo;id&rsquo;ë¼ëŠ” paramsë¥¼ ë„£ê³  ìˆëŠ”ê±°ì£ .</p>
<p>idëŠ” TodoItem ì»´í¬ë„ŒíŠ¸ê°€ propsë¡œ ë°›ê³  ìˆëŠ” Todoê°ì²´ì— ìˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ê·¸ ê°’ì€ ë°”ë¡œ &rsquo;todo.id&rsquo;ê°€ ë˜ëŠ”ê±°ì£ .</p>
<p>í˜„ì¬ SQlite3 Tableì—ëŠ” idëŠ” integer ê°’ì…ë‹ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ URLë¡œ ë„˜ê²¨ì¤„ ë•ŒëŠ” string ê°’ìœ¼ë¡œ ê³ ì³ì•¼í•©ë‹ˆë‹¤.</p>
<p>&rsquo;todo.id.toString()&rsquo; ì´ë ‡ê²Œ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p>$put ë©”ì„œë“œì—ëŠ” json ê°’ê³¼ param ê°’ì„ ê°ì²´ë¡œ ë”°ë¡œ ë„£ì—ˆëŠ”ë°ìš”.</p>
<p>ì´ json ê°’ê³¼ param ê°’ì´ ì‹¤ì œ Hono ë°±ì—”ë“œì—ì„œ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ë„ ìœ ì‹¬íˆ ì‚´í´ë´ì•¼ í•©ë‹ˆë‹¤.</p>
<hr>
<p>ì´ì œ Honoë¥¼ ì´ìš©í•œ ë°±ì—”ë“œ ì½”ë“œì—ì„œ put ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ ê² ìŠµë‹ˆë‹¤.</p>
<p>ë‹¤ì‹œ &lsquo;server/api/todos/index.ts&rsquo; íŒŒì¼ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¶”ê°€í•©ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// &#39;server/api/todos/index.ts&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Hono</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getTodos</span><span class="p">,</span> <span class="nx">updateTodo</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;./model&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">zValidator</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@hono/zod-validator&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// RPCë¥¼ ìœ„í•´ì„œëŠ” new Hono&lt;&gt;().get í˜•ì‹ìœ¼ë¡œ ë¶™í˜€ì„œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">api_todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Hono</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">Bindings</span>: <span class="kt">Env</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;/todos&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getTodos</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s2">&#34;/todos/:id&#34;</span><span class="p">,</span> <span class="nx">zValidator</span><span class="p">(</span><span class="s2">&#34;json&#34;</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">),</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">validatedData</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s2">&#34;json&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(validatedData);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">updateTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">),</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span>: <span class="kt">validatedData.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">completed</span>: <span class="kt">validatedData.completed</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">1</span> : <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">ok</span>: <span class="kt">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">api_todos</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>zValidatorëŠ” ê·¸ëƒ¥ import í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p>ì´ì œ í•„ìš”í•œê±´ model í´ë”ì— ìˆëŠ” updateTodo í•¨ìˆ˜ì¸ë°ìš”.</p>
<p>&lsquo;model.ts&rsquo; íŒŒì¼ì—ì„œ ì•„ë˜ì™€ ê°™ì´ updateTodo í•¨ìˆ˜ë¥¼ ë§Œë“­ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">UpdateTodoType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">completed</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">updateTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">DB</span>: <span class="kt">D1Database</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">number</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">param</span>: <span class="kt">UpdateTodoType</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">void</span><span class="p">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">DB</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s2">&#34;SELECT * FROM Todos where id = ?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">first</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Todo with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb"> not found.`</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// ì—…ë°ì´íŠ¸í•  í•­ëª© ì •ì˜ (ê¸°ì¡´ ê°’ê³¼ ìƒˆë¡œìš´ ê°’ ë³‘í•©)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">updatedTodo</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span><span class="nx">todo</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span><span class="nx">param</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// D1 DBì—ì„œ í•´ë‹¹ idì˜ Todo í•­ëª© ì—…ë°ì´íŠ¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">DB</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;UPDATE Todos SET title = ?, completed = ? where id = ?&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">updatedTodo</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="nx">updatedTodo</span><span class="p">.</span><span class="nx">completed</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ë¨¼ì €, updateë¥¼ ìœ„í•´ì„œëŠ” Cloudflare D1 DBì—ì„œ bind() ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ idì— í•´ë‹¹ë˜ëŠ” todoë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.</p>
<p>ë§Œì•½ í•´ë‹¹ idì— ëŒ€í•œ todo ê°€ ì—†ìœ¼ë©´ ì—ëŸ¬ë¥¼ ë‚´ë©´ì„œ ê·¸ëƒ¥ return ë˜ê³ ìš”.</p>
<p>ë§Œì•½ í•´ë‹¹ idì— ëŒ€í•œ todo ê°€ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸í•˜ê²Œ ë©ë‹ˆë‹¤.</p>
<p>SQlite3 Update í•˜ëŠ” StatementëŠ” ë”°ë¡œ ê³µë¶€í•˜ì…”ì•¼ í•  ê²ë‹ˆë‹¤.</p>
<p>ì´ì œ ì²´í¬ë°•ìŠ¤ë¥¼ ëˆŒëŸ¬ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¬ê²ë‹ˆë‹¤.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEj67bQmm_7EXP-0HlIL6cAN9OPIz0bk3EZueJZsBwCMwSa5fjy-Hvf7IR04odkH9dj3oyjoAk-jSUZPxH36t6mygl40EBGvsXvevzHbB-QwlF8QLq_KDWNnVrhUHwqySclmpJOdF-VJGhng5jHjhdiqihA7JHcRjzUEM6l2BhzKOCEJH3IxnBvSW0mKBUg"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ì–´ë–¤ê°€ìš”?</p>
<p>Update ë¡œì§ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>Hono RPCë¥¼ ì´ìš©í•œ ë²¡ì—”ë“œ ì½”ë“œ ì ‘ê·¼ì— ëŒ€í•´ ì¡°ê¸ˆì€ ì´í•´í•˜ì‹¤ìˆ˜ ìˆì£ ?</p>
<hr>
<h2 id="create-êµ¬í˜„í•˜ê¸°">Create êµ¬í˜„í•˜ê¸°</h2>
<p>ì´ì œë¶€í„°ëŠ” POST ë©”ì„œë“œì¸ë°ìš”.</p>
<p>POST ë©”ì„œë“œê°€ ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” ë©”ì„œë“œë¼ì„œ ì—¬ê¸°ì„œ ë¶€í„°ëŠ” ê¸´ì¥í•´ì•¼í•  ê²ë‹ˆë‹¤.</p>
<p>ë¨¼ì €, model íŒŒì¼ì—ì„œ ì•„ë˜ì™€ ê°™ì´ createTodo í•¨ìˆ˜ë¥¼ ë¨¼ì € ë§Œë“¤ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// &#39;server/api/todos/model.ts&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">CreateTodoType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">createTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">DB</span>: <span class="kt">D1Database</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">param</span>: <span class="kt">CreateTodoType</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="p">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// D1 DBì— ìƒˆë¡œìš´ Todo í•­ëª© ì‚½ì…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">DB</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s2">&#34;INSERT INTO Todos (title) VALUES (?)&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">param</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(result);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// {
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//   success: true,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//   meta: {
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     served_by: &#39;miniflare.db&#39;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     duration: 0,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     changes: 1,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     last_row_id: 9,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     changed_db: true,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     size_after: 16384,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     rows_read: 1,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//     rows_written: 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//   },
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//   results: []
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ì‚½ì…ëœ í–‰ì˜ ID ê°€ì ¸ì˜¤ê¸°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// const id = result.meta.last_row_id;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;Failed to retrieve the ID of the inserted Todo.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ìƒˆë¡œ ì‚½ì…ëœ Todo ê°ì²´ ìƒì„±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">newTodo</span>: <span class="kt">Todo</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">id</span>: <span class="kt">result.meta.last_row_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span>: <span class="kt">param.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">completed</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">newTodo</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&#34;Failed to create todo in D1 DB&#34;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;Todo creation failed&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ì‹œë©´ ë¨¼ì €, CreateTodoType íƒ€ì…ì„ interfaceë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  createTodo í•¨ìˆ˜ë¡œ ë“¤ì–´ê°€ ë³´ë©´, D1 DBì— ìƒˆë¡œìš´ Todo í•­ëª© ì‚½ì…í•˜ëŠ” SQL ëª…ë ¹ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì´ë ‡ê²Œ ì‹¤í–‰í•˜ë©´ result ê°’ì— ê°ì²´ê°€ ë°˜í™˜ë˜ëŠ”ë°ìš”.</p>
<p>ìœ„ ì½”ë“œ ì£¼ì„ì— ë³´ì‹œë©´ ê·¸ ê°ì²´ ê°’ì˜ ì˜ˆê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>
<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•˜ê²Œ ë´ì•¼í• ê²Œ ë°”ë¡œ INSERT ì¿¼ë¦¬ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ë°©ê¸ˆ ì‹¤í–‰í•œ ê°’ì˜ idë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ”ë°ìš”.</p>
<p>ë°”ë¡œ &lsquo;result.meta.last_row_id&rsquo; ê°’ì…ë‹ˆë‹¤.</p>
<p>ì´ê²Œ ì™œ ì¤‘ìš”í•˜ëƒë©´ ë³´í†µ INSERTí•˜ê³  ë‚˜ë©´ ì„±ê³µì ìœ¼ë¡œ INSERTê°€ ëœ í›„ì˜ ê°’ì„ ë‹¤ì‹œ ì‚¬ìš©í•´ì•¼í•  ë•Œê°€ ìˆëŠ”ë°ìš”.</p>
<p>ì´ë ‡ë•Œ ì•„ì£¼ ìœ ìš©í•©ë‹ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ ì‹¤ì œë¡œ ìœ„ ì½”ë“œì—ì„œëŠ” ìƒˆë¡œ ì‚½ì…ëœ Todo ê°ì²´ ìƒì„±ë¥¼ ìƒì„±í•˜ëŠ”ë°ìš”.</p>
<p>ì™œ Todo ê°ì²´ë¥¼ ìƒì„±í• ê¹Œìš”?</p>
<p>ì™œëƒí•˜ë©´ SELECT ë¬¸ìœ¼ë¡œ Todo ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ë©´ í•œ ë²ˆ ë” SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì•¼í•˜ê¸° ë•Œë¬¸ì´ì£ .</p>
<p>ìš°ë¦¬ê°€ ìƒˆë¡œìš´ Todo ê°ì²´ë¥¼ UIë¡œ ëŒë ¤ì¤˜ì•¼í•˜ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ Todo ê°ì²´ì— í•„ìš”í•œê±°ëŠ” title, completed ê°’ê³¼ idì…ë‹ˆë‹¤.</p>
<p>title, completed ê°’ì€ createTodo í•¨ìˆ˜ë¥¼ ë§Œë“¤ ë•Œ ë²Œì¨ ì œê³µë˜ì–´ì§„ê±°ë¼ ì•Œê³  ìˆê³ , idê°’ë§Œ ì•Œë©´ ë˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì´ &lsquo;meta.last_row_id&rsquo; ê°’ìœ¼ë¡œ í•´ë‹¹ idê°’ì„ ì§€ì •í•˜ë©´ ìš°ë¦¬ê°€ ê¶ê·¹ì ìœ¼ë¡œ ì›í•˜ëŠ” ìƒˆë¡œìš´ newTodo ê°’ì„ ì•Œ ìˆ˜ ìˆëŠ”ê±°ì£ .</p>
<p>ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ í•´ë‹¹ newTodo ê°ì²´ë¥¼ ë¦¬í„´í•˜ë©´ UIì—ì„œ í•´ë‹¹ newTodoë¥¼ í™”ë©´ì— ë¿Œë ¤ì£¼ë©´ ë©ë‹ˆë‹¤.</p>
<p>ì´ë ‡ê²Œ í•˜ë©´ ë¶ˆí•„ìš”í•œ SQL ì‹¤í–‰ì´ í•œë²ˆìœ¼ë¡œ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì— ì´ ë°©ì‹ì€ ì•„ì£¼ ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
<p>ì´ì œ UIìª½ì„ ë³¼ê¹Œìš”?</p>
<p>&rsquo;todos.tsx&rsquo; íŒŒì¼ì—ì„œ inputì„ ìœ„í•œ Formì„ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°„ë‹¨í•˜ê²Œ UIë¥¼ ì§œê² ìŠµë‹ˆë‹¤.</p>
<p>ë¨¼ì €, &lsquo;shadcn/ui&rsquo;ì˜ input ì»´í¬ë„ŒíŠ¸ì™€ ì•„ì´ì½˜ì„ ìœ„í–‡ &rsquo;lucide-react&rsquo; íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npx shadcn@latest add input
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ npm i lucide-react</span></span></code></pre></div>
  </figure>
</div>
<p>ê·¸ë¦¬ê³  Pending UIë¥¼ ì²˜ìŒë¶€í„° êµ¬í˜„í•´ ë³¼ê»€ë°ìš”.</p>
<p>ê·¸ë˜ì„œ input í¼ì„ ìœ„í•´ Remixê°€ ì œê³µí•˜ëŠ” &lsquo;Form&rsquo; ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ê²ë‹ˆë‹¤.</p>
<p>ì‹¤ì œ ì½”ë“œë¥¼ ë³´ì‹œì£ .</p>
<p>ì»´í¬ë„ŒíŠ¸ë¡œ ë³´ì‹œë©´ Todos ì»´í¬ë„ŒíŠ¸ë§Œ ë³´ì‹œë©´ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">Todos</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="p">&lt;</span><span class="nt">typeof</span> <span class="na">loader</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">navigation</span> <span class="o">=</span> <span class="nx">useNavigation</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">isAdding</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="s2">&#34;submitting&#34;</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigation</span><span class="p">.</span><span class="nx">formData</span><span class="o">?</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;_action&#34;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&#34;create&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">formRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">&lt;</span><span class="nt">HTMLFormElement</span><span class="p">&gt;(</span><span class="kc">null</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">inputRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">&lt;</span><span class="nt">HTMLInputElement</span><span class="p">&gt;(</span><span class="kc">null</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isAdding</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">formRef</span><span class="p">.</span><span class="nx">current</span><span class="o">?</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      <span class="nx">inputRef</span><span class="p">.</span><span class="nx">current</span><span class="o">?</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span> <span class="p">[</span><span class="nx">isAdding</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;min-h-screen bg-gray-50&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">header</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;bg-white text-gray-800 p-4 shadow-sm&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;container mx-auto&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/todos&#34;</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;text-2xl font-bold&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">My</span> <span class="nx">TODO</span> <span class="nx">App</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">main</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;container mx-auto py-8 px-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;w-full max-w-4xl mx-auto&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">          <span class="p">{</span><span class="cm">/* ìƒˆë¡œ ì¶”ê°€ëœ ì½”ë“œ */</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Form</span> <span class="na">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">formRef</span><span class="p">}</span> <span class="na">replace</span> <span class="na">method</span><span class="o">=</span><span class="s">&#34;POST&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex items-center justify-between mb-6&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;text-2xl font-bold text-gray-700&#34;</span><span class="p">&gt;</span><span class="nx">TODO</span> <span class="err">ë¦¬ìŠ¤íŠ¸</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex space-x-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">Input</span>
</span></span><span class="line"><span class="cl">                  <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">name</span><span class="o">=</span><span class="s">&#34;title&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;title&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">required</span>
</span></span><span class="line"><span class="cl">                  <span class="na">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">inputRef</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">Button</span>
</span></span><span class="line"><span class="cl">                  <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">name</span><span class="o">=</span><span class="s">&#34;_action&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">value</span><span class="o">=</span><span class="s">&#34;create&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isAdding</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                  <span class="na">className</span><span class="o">=</span><span class="s">&#34;bg-black text-white hover:bg-gray-800 transition-colors duration-200 rounded-xl px-4 py-2&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">&lt;</span><span class="nt">PlusCircle</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;mr-2 h-4 w-4&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">{</span><span class="nx">isAdding</span> <span class="o">?</span> <span class="s2">&#34;ì¶”ê°€ ì¤‘&#34;</span> <span class="o">:</span> <span class="s2">&#34;TODO ì¶”ê°€í•˜ê¸°&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">Button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Form</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;space-y-4&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">todos</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">todo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">TodoItem</span> <span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="na">todo</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">}</span> <span class="p">/&gt;)}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Todos</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ ì¡°ê¸ˆ ì–´ë µê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆëŠ”ë°ìš”.</p>
<p>Pending UIë¥¼ ìœ„í•´ì„œ RemixëŠ” useNavigation í›…ì„ ì§€ì›í•´ ì¤ë‹ˆë‹¤.</p>
<p>ì´ í›…ì€ Formì˜ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²´í¬í•´ì„œ ì•Œ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ”ë°ìš”.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">navigation</span> <span class="o">=</span> <span class="nx">useNavigation</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ useNavigation í›…ì„ navigationìœ¼ë¡œ ì§€ì •í•˜ë©´ ì´ì œ navigation ê°ì²´ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ Form ìƒíƒœë¥¼ ì•Œ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">isAdding</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigation</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="s2">&#34;submitting&#34;</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigation</span><span class="p">.</span><span class="nx">formData</span><span class="o">?</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;_action&#34;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&#34;create&#34;</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ isAdding ì´ë¼ëŠ” boolean ê°’ì„ ë§Œë“¤ì–´ ë†“ìœ¼ë©´ í˜„ì¬ UIê°€ ìƒˆë¡œìš´ Todoë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë²„íŠ¼ì„ ëˆŒë €ëŠ”ì§€ ì•Œ ìˆ˜ ìˆëŠ”ê²ë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  í•´ë‹¹ Pending UIëŠ” ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ì— ì ìœ¼ë©´ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Button</span>
</span></span><span class="line"><span class="cl">  <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">name</span><span class="o">=</span><span class="s">&#34;_action&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">value</span><span class="o">=</span><span class="s">&#34;create&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isAdding</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="na">className</span><span class="o">=</span><span class="s">&#34;bg-black text-white hover:bg-gray-800 transition-colors duration-200 rounded-xl px-4 py-2&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">PlusCircle</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;mr-2 h-4 w-4&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span><span class="nx">isAdding</span> <span class="o">?</span> <span class="s2">&#34;ì¶”ê°€ ì¤‘&#34;</span> <span class="o">:</span> <span class="s2">&#34;TODO ì¶”ê°€í•˜ê¸°&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">Button</span><span class="p">&gt;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ Button ì»´í¬ë„ŒíŠ¸ì— isAdding ê°’ì„ ì´ìš©í•´ì„œ Pending UIë¥¼ êµ¬í˜•í–ˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ì¤‘ìš”í•œê²Œ Button ì»´í¬ë„ŒíŠ¸ëŠ” HTMLì˜ input íƒœê·¸ì¸ë°ìš”.</p>
<p>ì´ íƒœê·¸ì˜ ì´ë¦„(name)ì„ &lsquo;_action&rsquo;ì´ë¼ê³  í•˜ê³  value ê°’ì„ &lsquo;create&rsquo;ë¼ê³  í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì´ ë°©ì‹ì„ Remixì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©€í‹° Form POSTì— ëŒ€ì‘í•˜ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ì‹ì¸ë°ìš”.</p>
<p>ë‚˜ì¤‘ì— DELETEë¥¼ ìœ„í•´ì„œë„ Formì„ POSTí•  ë•Œ POST ë©”ì„œë“œê°€ &lsquo;create&rsquo;ì¸ì§€ &lsquo;delete&rsquo;ì¸ì§€ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ ì…ë‹ˆë‹¤.</p>
<p>formRef, inputRefëŠ” ì–´ë””ì— ì“°ëŠ”ì§€ ë‹¤ë“¤ ì•„ì‹¤ê²ë‹ˆë‹¤.</p>
<p>Todoë¥¼ ìƒˆë¡œ ë§Œë“¤ê³  Input í¼ì„ í´ë¦¬ì–´í•˜ê³  ê·¸ë¦¬ê³  ì»¤ì„œë¥¼ ìœ„ì¹˜ì‹œí‚¤ê¸° ìœ„í•œ ì½”ë“œì…ë‹ˆë‹¤.</p>
<p>Reactì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ UIë¼ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="remixì˜-action-í•¨ìˆ˜-ë§Œë“¤ê¸°">Remixì˜ action í•¨ìˆ˜ ë§Œë“¤ê¸°</h2>
<p>RemixëŠ” POST ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë©´ ê¼­ action í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë°ìš”.</p>
<p>ì°¸ê³ ë¡œ RemixëŠ” GET, POST ë©”ì„œë“œë§Œ ì‚¬ìš©í•˜ë¼ê³  ê¶Œì¥í•©ë‹ˆë‹¤.</p>
<p>ì™œëƒí•˜ë©´ action í•¨ìˆ˜ê°€ POST ë©”ì„œë“œë§Œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì´ì£ .</p>
<p>ë§Œì•½ DELETE ë©”ì„œë“œë‚˜ PUT ë©”ì„œë“œë¥¼ ë°œìƒì‹œì¼œë³´ì‹œë©´ ì—ëŸ¬ë©”ì‹œì§€ê°€ ë‚˜ì˜¬ê²ë‹ˆë‹¤.</p>
<p>ë‚˜ì¤‘ì— Todo ì•± ì§€ìš°ê¸° ë¶€ë¶„ì—ì„œ ì‹¤ì œë¡œ DELETE ë©”ì„œë“œë¥¼ ë°œìƒì‹œì¼œ ë´…ì‹œë‹¤.</p>
<p>ì—¬ê¸°ì„œëŠ” ì¼ë‹¨ì€ POST ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ Formì„ ì œì¶œí–ˆê¸° ë•Œë¬¸ì— RemixëŠ” íŠ¹ì„±ìƒ action í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ë°ìš”.</p>
<p>ì´ action í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤.</p>
<p>action í•¨ìˆ˜ëŠ” loader í•¨ìˆ˜ ë°‘ì— ë‘ì‹œë©´ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">loader</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">({</span> <span class="nx">context</span> <span class="p">}</span><span class="o">:</span> <span class="nx">LoaderFunctionArgs</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">clientGetTodos</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">res</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">action</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">({</span> <span class="nx">request</span> <span class="p">}</span><span class="o">:</span> <span class="nx">ActionFunctionArgs</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">formData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">_action</span><span class="p">,</span> <span class="p">...</span><span class="nx">values</span> <span class="p">}</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// if (_action === &#34;delete&#34;) {
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//   await clientDeleteTodo(values);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// }
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">_action</span> <span class="o">===</span> <span class="s2">&#34;create&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">clientCreateTodo</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ action í•¨ìˆ˜ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì•„ê¹Œ &lsquo;_action&rsquo; ê°’ì„ ì§€ì •í•œ ì´ìœ ê°€ ìœ„ ì½”ë“œì— ìˆëŠ”ë°ìš”.</p>
<p>&lsquo;_action&rsquo; ê°’ì´ &lsquo;create&rsquo;ì™€ &lsquo;delete&rsquo;ì¼ ê²½ìš° ì‹¤í–‰í•  í•¨ìˆ˜ë¥¼ êµ¬ë¶„ì‹œí‚¤ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.</p>
<p>ì¼ë‹¨ì€ &lsquo;delete&rsquo; ë¶€ë¶„ì€ ë‚˜ì¤‘ì— ì‘ì„±í•  ê±°ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì´ ì£¼ì„ì²˜ë¦¬í•´ ë†“ìì‹œë‹¤.</p>
<p>ì´ì œ clientCreateTodo í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ì•¼ ê² ë„¤ìš”.</p>
<p>&lsquo;apiClient.ts&rsquo; íŒŒì¼ì„ ì—´ì–´ ì•„ë˜ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">clientCreateTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">values</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">$post</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">form</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span>: <span class="kt">values.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ ë„£ìœ¼ë©´ VS Codeê°€ $post ê°€ ì—†ë‹¤ê³  í•˜ëŠ”ë°ìš”.</p>
<p>ì™œëƒí•˜ë©´ Hono ì„œë²„ìª½ì— $post ë©”ì„œë“œë¥¼ ì‘ì„±ì•ˆí–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>ì´ì œ &lsquo;server/api/todo/index.ts&rsquo; íŒŒì¼ì— post ë©”ì„œë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Hono</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createTodo</span><span class="p">,</span> <span class="nx">getTodos</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">,</span> <span class="nx">updateTodo</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;./model&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">zValidator</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@hono/zod-validator&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// RPCë¥¼ ìœ„í•´ì„œëŠ” new Hono&lt;&gt;().get í˜•ì‹ìœ¼ë¡œ ë¶™í˜€ì„œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">api_todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Hono</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">Bindings</span>: <span class="kt">Env</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;/todos&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getTodos</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s2">&#34;/todos/:id&#34;</span><span class="p">,</span> <span class="nx">zValidator</span><span class="p">(</span><span class="s2">&#34;json&#34;</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">),</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">validatedData</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s2">&#34;json&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(validatedData);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">updateTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">),</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span>: <span class="kt">validatedData.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">completed</span>: <span class="kt">validatedData.completed</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">1</span> : <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">ok</span>: <span class="kt">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s2">&#34;/todos&#34;</span><span class="p">,</span> <span class="nx">zValidator</span><span class="p">(</span><span class="s2">&#34;form&#34;</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">),</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">validatedData</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s2">&#34;form&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(validatedData);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">await</span> <span class="nx">createTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nx">validatedData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">ok</span>: <span class="kt">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">api_todos</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>post ë©”ì„œë“œë¥¼ put ë©”ì„œë“œ ë‹¤ìŒì— ì¶”ê°€ì‹œì¼°ìŠµë‹ˆë‹¤.</p>
<p>post ë©”ì„œë“œì˜ ì£¼ì†ŒëŠ” &lsquo;/todos&rsquo; ì£¼ì†Œê°€ ë˜ê³  HTTP ë¦¬í€˜ìŠ¤íŠ¸(Request)ê°€ POST ì¼ ê²½ìš° ëŒ€ì‘í•˜ëŠ” ì½”ë“œê°€ ë˜ëŠ”ê²ë‹ˆë‹¤.</p>
<p>ì—¬ê¸°ì„œ UIìª½ì—ì„œ form ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ POSTí–ˆê¸° ë•Œë¬¸ì— zValidator í•¨ìˆ˜ì˜ ì²«ë²ˆì§¸ ì¹¸ì— &lsquo;form&rsquo;ì´ë¼ê³  ì ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>createTodo í•¨ìˆ˜ëŠ” ì˜ˆì „ì— ë§Œë“¤ì—ˆìœ¼ë‹ˆ ì´ì œ POST ë©”ì„œë“œë¥¼ ìœ„í•œ Hono RPCê°€ ëë‚¬ìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ í…ŒìŠ¤íŠ¸ í•´ë³¼ê¹Œìš”?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgdE_49r6B5HRVY5zoLPiTtVRIfYBDpksFFRdhjiosQibpqKLUHyqNe8dJRq-0U42j862B2JFZ_tQjNVMnInVar7hwydp1_dqcntZb1NYNyFq2eHBP0leXyYj6A8iS0BWeNX3KEUqezX3_i5eBHpjdMZNFe-NQPUZKiIqOJXNAI9SnEMkfHo9Hsr_YMezQ"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhXwO0yPFN5ffa1EoOimt2zqEi70cStH5iPzetMFkOX-TMgl1Va8LygdQmcbOsOrfjvQm1Si_GPnAJgMd2EjKZ-0uvF6eEwaudwsApPflS4Qc8OumGOvYKguKPsxLlk1Tle9i1y2brh4mqFh6GLuo3w1x_3RenjchLoW3my8ZYSw3AR3JifX1eTAzit7lU"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ìœ„ì™€ ê°™ì´ ì•„ì£¼ ì˜ ì‹¤í–‰ë˜ê³  ìˆë„¤ìš”.</p>
<hr>
<h2 id="delete-êµ¬í˜„í•˜ê¸°">Delete êµ¬í˜„í•˜ê¸°</h2>
<p>ì´ì œ ë§ˆì§€ë§‰ ë‹¨ê³„ì¸ Delete êµ¬í˜„ì…ë‹ˆë‹¤.</p>
<p>Pending UIë¥¼ ìœ„í•´ì„œ Reactì™€ Remixì˜ í›…ì„ ì¶”ê°€í•´ì„œ Delete êµ¬í˜„ì„ í–ˆìœ¼ë‹ˆ ì£¼ì˜í•´ì„œ ì‚´í´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
<p>ì—­ì‹œë‚˜ ë¨¼ì €, model.ts íŒŒì¼ì— deleteTodo í•¨ìˆ˜ë¥¼ ë¨¼ì € ë§Œë“¤ê² ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">deleteTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">DB</span>: <span class="kt">D1Database</span><span class="p">,</span> <span class="nx">id</span>: <span class="kt">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">DB</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s2">&#34;DELETE FROM Todos Where id = ?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(`Todo with id ${id} successfully deleted.`);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// console.log(result);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&#34;Failed to delete todo in D1 DB&#34;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&#34;Todo deletion failed&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œë¥¼ ë³´ì‹œë©´ ì´ì œëŠ” ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.</p>
<p>Clientìª½ì„ ìœ„í•œ apiClient.ts íŒŒì¼ì—ë„ ì¶”ê°€í•´ ë´…ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">clientDeleteTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">values</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">[</span><span class="s2">&#34;:id&#34;</span><span class="p">].</span><span class="nx">$delete</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">param</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">id</span>: <span class="kt">values.id</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ ì…ë ¥í•˜ì‹œë©´ ì—­ì‹œë‚˜ $delete ìª½ì— ì—ëŸ¬ê°€ ë‚˜ì˜¤ëŠ”ë°ìš”.</p>
<p>Honoìª½ì— $deleteë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>&lsquo;/server/api/todo/index.ts&rsquo; íŒŒì¼ì— ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•©ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Hono</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;hono&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">createTodo</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">deleteTodo</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getTodos</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">TodoSchema</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">updateTodo</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;./model&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">zValidator</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@hono/zod-validator&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// RPCë¥¼ ìœ„í•´ì„œëŠ” new Hono&lt;&gt;().get í˜•ì‹ìœ¼ë¡œ ë¶™í˜€ì„œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">api_todos</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Hono</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">Bindings</span>: <span class="kt">Env</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;/todos&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getTodos</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">(</span><span class="nx">todos</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="s2">&#34;/todos/:id&#34;</span><span class="p">,</span> <span class="nx">zValidator</span><span class="p">(</span><span class="s2">&#34;json&#34;</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">),</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">validatedData</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s2">&#34;json&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(validatedData);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">updateTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">),</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span>: <span class="kt">validatedData.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">completed</span>: <span class="kt">validatedData.completed</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">1</span> : <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">ok</span>: <span class="kt">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s2">&#34;/todos&#34;</span><span class="p">,</span> <span class="nx">zValidator</span><span class="p">(</span><span class="s2">&#34;form&#34;</span><span class="p">,</span> <span class="nx">TodoSchema</span><span class="p">),</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">validatedData</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">valid</span><span class="p">(</span><span class="s2">&#34;form&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(validatedData);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">await</span> <span class="nx">createTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nx">validatedData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">ok</span>: <span class="kt">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">&#34;/todos/:id&#34;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">req</span><span class="p">.</span><span class="nx">param</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">);</span> <span class="c1">// URL ê²½ë¡œì—ì„œ id ê°€ì ¸ì˜¤ê¸°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">todo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">message</span><span class="o">:</span> <span class="s2">&#34;not found&#34;</span> <span class="p">},</span> <span class="mi">404</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">deleteTodo</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// return c.redirect(&#34;/todos&#34;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span> <span class="nx">ok</span>: <span class="kt">true</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">api_todos</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>ë§ˆì§€ë§‰ì— delete ë©”ì„œë“œë¥¼ ì¶”ê°€í–ˆëŠ”ë°ìš”.</p>
<p>ì—¬ê¸°ì„œëŠ” getTodo í•¨ìˆ˜ë¥¼ í•„ìš”ë¡œ í•˜ë„¤ìš”.</p>
<p>&lsquo;model.ts&rsquo; íŒŒì¼ì— Todo í•œê°œë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª©ì ì˜ getTodo í•¨ìˆ˜ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•©ì‹œë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">getTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">DB</span>: <span class="kt">D1Database</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">number</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Todo</span> <span class="err">|</span> <span class="na">null</span><span class="p">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// SQL ì¿¼ë¦¬ë¡œ íŠ¹ì • idì— í•´ë‹¹í•˜ëŠ” Todo í•­ëª©ì„ ì¡°íšŒ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">todo</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">DB</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s2">&#34;SELECT * FROM Todos WHERE id = ?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">.</span><span class="nx">first</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console.log(todo);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ê²°ê³¼ê°€ ì¡´ì¬í•˜ë©´ í•´ë‹¹ Todo ë°˜í™˜, ì—†ìœ¼ë©´ null ë°˜í™˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">todo</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Failed to fetch todo with id </span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb"> from D1 DB`</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ì´ì œ Honoì˜ Delete ë©”ì„œë“œë„ ëë‚¬ìœ¼ë‹ˆê¹Œ í´ë¼ì´ì–¸íŠ¸ìª½ì„ ì†ë´ì•¼í•©ë‹ˆë‹¤.</p>
<p>TodoItem ì»´í¬ë„ŒíŠ¸ì— Deleteë¥¼ ìœ„í•œ í¼ì„ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// Todo Card
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">TodoItem</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">todo</span> <span class="p">}</span><span class="o">:</span> <span class="p">{</span> <span class="nx">todo</span>: <span class="kt">Todo</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">deleteFetcher</span> <span class="o">=</span> <span class="nx">useFetcher</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">isCompleted</span><span class="p">,</span> <span class="nx">setIsCompleted</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">isDeleting</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="nx">deleteFetcher</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="s2">&#34;submitting&#34;</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">deleteFetcher</span><span class="p">.</span><span class="nx">formData</span><span class="o">?</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">)</span> <span class="o">===</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">handleCheckboxChange</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">checked</span>: <span class="kt">boolean</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">[</span><span class="s2">&#34;:id&#34;</span><span class="p">].</span><span class="nx">$put</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">json</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">title</span>: <span class="kt">todo.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">completed</span>: <span class="kt">isCompleted</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">param</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">id</span>: <span class="kt">todo.id.toString</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">setIsCompleted</span><span class="p">(</span><span class="nx">isCompleted</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">1</span> : <span class="kt">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">Card</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;mb-4 hover:shadow-md transition-shadow duration-200&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">CardContent</span>
</span></span><span class="line"><span class="cl">        <span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`</span><span class="si">${</span><span class="nx">isDeleting</span> <span class="o">?</span> <span class="s2">&#34;bg-gray-300&#34;</span> <span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="si">}</span><span class="sb"> flex items-center p-4`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Checkbox</span>
</span></span><span class="line"><span class="cl">          <span class="na">id</span><span class="o">=</span><span class="p">{</span><span class="sb">`todo-</span><span class="si">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="na">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">isCompleted</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="na">onCheckedChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleCheckboxChange</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="na">className</span><span class="o">=</span><span class="s">&#34;mr-4&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex-grow&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">label</span>
</span></span><span class="line"><span class="cl">            <span class="na">htmlFor</span><span class="o">=</span><span class="p">{</span><span class="sb">`todo-</span><span class="si">${</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`</span><span class="si">${</span>
</span></span><span class="line"><span class="cl">              <span class="nx">isDeleting</span> <span class="o">?</span> <span class="s2">&#34;opacity-50&#34;</span> <span class="o">:</span> <span class="s2">&#34;opacity-100&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="si">}</span><span class="sb"> text-lg font-medium leading-none </span><span class="si">${</span>
</span></span><span class="line"><span class="cl">              <span class="nx">isCompleted</span> <span class="o">?</span> <span class="s2">&#34;line-through text-gray-400&#34;</span> <span class="o">:</span> <span class="s2">&#34;text-gray-700&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">deleteFetcher.Form</span> <span class="na">method</span><span class="o">=</span><span class="s">&#34;post&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;hidden&#34;</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;id&#34;</span> <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">Button</span>
</span></span><span class="line"><span class="cl">              <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">name</span><span class="o">=</span><span class="s">&#34;_action&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">value</span><span class="o">=</span><span class="s">&#34;delete&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isDeleting</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">{</span><span class="nx">isDeleting</span> <span class="o">?</span> <span class="s2">&#34;ì§€ìš°ëŠ” ì¤‘&#34;</span> <span class="o">:</span> <span class="s2">&#34;ì§€ìš°ê¸°&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">Button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">deleteFetcher.Form</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">CardContent</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">Card</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>UIë¥¼ ë³´ì‹œë©´ ì—¬ê¸°ì„œëŠ” Formì„ useFetcher í›…ìœ¼ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p>
<p>Remix ê³ ê¸‰ ì‚¬ìš©ë²•ì¸ë°ìš”.</p>
<p>ì•„ê¹Œ create ìª½ì—ì„œëŠ” &lsquo;Form&rsquo;ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ ë•Œ ì‚¬ìš©í•œ useNavigation í›…ê³¼ ê²¹ì¹˜ê¸° ë•Œë¬¸ì— useFetcherë¡œ ë”°ë¡œ &lsquo;Form&rsquo;ì„ ë§Œë“¤ê¸° ìœ„í•œ Remixì˜ ê³ ê¸‰ ê¸°ë²•ì´ì£ .</p>
<p>ê·¸ëŸ°ë° ì˜ ë³´ì‹œë©´ deleteFetcher.Formì˜ methodê°€ &ldquo;post&quot;ì…ë‹ˆë‹¤.</p>
<p>ì™œëƒí•˜ë©´ action í•¨ìˆ˜ëŠ” post ë©”ì„œë“œë§Œ ì§€ì›í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<p>ì‹¤ì œë¡œ action í•¨ìˆ˜ë¡œ ê°€ì‹œë©´ ì•„ë˜ì™€ ê°™ì´ ì•„ê¹Œ create í•  ë•Œ ì£¼ì„ì²˜ë¦¬í•œ ë¶€ë¶„ì„ ì£¼ì„ì„ ì§€ì›Œì£¼ì‹­ì‹œìš”.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">action</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">({</span> <span class="nx">request</span> <span class="p">}</span><span class="o">:</span> <span class="nx">ActionFunctionArgs</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">formData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">request</span><span class="p">.</span><span class="nx">formData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">_action</span><span class="p">,</span> <span class="p">...</span><span class="nx">values</span> <span class="p">}</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">_action</span> <span class="o">===</span> <span class="s2">&#34;delete&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">clientDeleteTodo</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">_action</span> <span class="o">===</span> <span class="s2">&#34;create&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">clientCreateTodo</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ action í•¨ìˆ˜ì—ì„œ clientDeleteTodo í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë¼ê³  í•©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë©´ clientDeleteTodo í•¨ìˆ˜ë¥¼ ë³¼ê¹Œìš”?</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">clientDeleteTodo</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">values</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">api</span><span class="p">.</span><span class="nx">todos</span><span class="p">[</span><span class="s2">&#34;:id&#34;</span><span class="p">].</span><span class="nx">$delete</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">param</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">id</span>: <span class="kt">values.id</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>ë¹™ê³ , ì—¬ê¸°ì„œ Honoì˜ $delete ì¦‰, DELETE ë©”ì„œë“œë¡œ í˜¸ì¶œë˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
<p>ê·¸ëŸ¬ê³  ë³´ë‹ˆ ì•„ê¹Œ completed í•­ëª©ì„ ì—…ë°ì´íŠ¸í•  ë•Œë„ apiClient í•¨ìˆ˜ìª½ì—ì„œ $putìœ¼ë¡œ í˜¸ì¶œí–ˆì—ˆë„¤ìš”.</p>
<p>Remixë¥¼ ì´ìš©í•  ë•ŒëŠ” PUT ë©”ì„œë“œì™€ DELETE ë©”ì„œë“œëŠ” ì´ëŸ° ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ useFetcherì˜ Formì„ ì´ìš©í•  ë•Œì˜ Pending UIëŠ” ì•„ë˜ì™€ ê°™ì´ í•˜ì‹œë©´ ì‰½ìŠµë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">isDeleting</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="nx">deleteFetcher</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="s2">&#34;submitting&#34;</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">deleteFetcher</span><span class="p">.</span><span class="nx">formData</span><span class="o">?</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">)</span> <span class="o">===</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ ì½”ë“œëŠ” í¼ì´ submitting ë ë•Œ ê·¸ë¦¬ê³  ë‘ë²ˆì§¸ëŠ” í•´ë‹¹ delete ë˜ëŠ” ì•„ì´í…œë§Œ ì ìš©ì‹œí‚¤ê¸° ìœ„í•´ í•´ë‹¹ delete ë˜ëŠ” ì•„ì´í…œì˜ todo.id ê°’ê¹Œì§€ ì²´í¬í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë§Œì•½ delete ë˜ëŠ” í•´ë‹¹ idê°’ì„ ì²´í¬í•˜ì§€ ì•Šìœ¼ë©´ ëª¨ë“  ì•„ì´í…œì— Pending UIê°€ ì ìš©ë  ê²ë‹ˆë‹¤.</p>
<p>ì£¼ì˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p>ì´ì œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ ë³¼ê¹Œìš”?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhsZCPt3clq6WndAdGc_x8ogVwcU_X8OaugwnJl9UJpmDjq6l99QAyVvJlMy327-sx_A5-jSp14WvofY_0B8I5mFcptXNgswg8zCIRX7O4wKtvbFQWacIJagnhi73DwvzwPhooRm3msOTzJa0skLmRgsiX78ETnBo7Qj2FRundf_dw1YjiVgvxzwQa4en4"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ Pending UIë„ ì˜ ì ìš©ë˜ê³  Deleteë„ ì˜ ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="cloudflareì—-ë°°í¬í•˜ê¸°">Cloudflareì— ë°°í¬í•˜ê¸°</h2>
<p>ì´ì œ ëª¨ë“ ê²Œ ëë‚¬ìœ¼ë‹ˆê¹Œ ë¹Œë“œí›„ ë°°í¬í•´ì•¼ê² ë„¤ìš”.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npm run deploy
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&gt; deploy
</span></span><span class="line"><span class="cl">&gt; npm run build <span class="o">&amp;&amp;</span> wrangler pages deploy
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&gt; build
</span></span><span class="line"><span class="cl">&gt; remix vite:build
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">vite v5.4.8 building <span class="k">for</span> production...
</span></span><span class="line"><span class="cl">âœ“ <span class="m">1654</span> modules transformed.
</span></span><span class="line"><span class="cl">build/client/.vite/manifest.json                1.41 kB â”‚ gzip:  0.34 kB
</span></span><span class="line"><span class="cl">build/client/assets/root-Cuu5eBUk.css          14.21 kB â”‚ gzip:  3.61 kB
</span></span><span class="line"><span class="cl">build/client/assets/_index-MW916cbg.js          1.15 kB â”‚ gzip:  0.55 kB
</span></span><span class="line"><span class="cl">build/client/assets/root-7GOmtebN.js            1.73 kB â”‚ gzip:  0.98 kB
</span></span><span class="line"><span class="cl">build/client/assets/entry.client-C1Vo4Cp-.js    3.74 kB â”‚ gzip:  1.43 kB
</span></span><span class="line"><span class="cl">build/client/assets/jsx-runtime-56DGgGmo.js     8.11 kB â”‚ gzip:  3.05 kB
</span></span><span class="line"><span class="cl">build/client/assets/todos-LRAenMuD.js          42.29 kB â”‚ gzip: 14.90 kB
</span></span><span class="line"><span class="cl">build/client/assets/components-CD3wXADJ.js    246.75 kB â”‚ gzip: 79.72 kB
</span></span><span class="line"><span class="cl">âœ“ built in 1.77s
</span></span><span class="line"><span class="cl">vite v5.4.8 building SSR bundle <span class="k">for</span> production...
</span></span><span class="line"><span class="cl">âœ“ <span class="m">13</span> modules transformed.
</span></span><span class="line"><span class="cl">build/server/.vite/manifest.json                0.22 kB
</span></span><span class="line"><span class="cl">build/server/assets/server-build-Cuu5eBUk.css  14.21 kB
</span></span><span class="line"><span class="cl">build/server/index.js                          16.87 kB
</span></span><span class="line"><span class="cl">âœ“ built in 57ms
</span></span><span class="line"><span class="cl">â–² <span class="o">[</span>WARNING<span class="o">]</span> Warning: Your working directory is a git repo and has uncommitted changes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  To silence this warning, pass in --commit-dirty<span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">âœ¨ Compiled Worker successfully
</span></span><span class="line"><span class="cl">ğŸŒ  Uploading... <span class="o">(</span>11/11<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">âœ¨ Success! Uploaded <span class="m">8</span> files <span class="o">(</span><span class="m">3</span> already uploaded<span class="o">)</span> <span class="o">(</span>2.18 sec<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">âœ¨ Uploading _headers
</span></span><span class="line"><span class="cl">âœ¨ Uploading Functions bundle
</span></span><span class="line"><span class="cl">âœ¨ Uploading _routes.json
</span></span><span class="line"><span class="cl">ğŸŒ Deploying...
</span></span><span class="line"><span class="cl">âœ¨ Deployment complete! Take a peek over at https://a651d0cf.hono-remix-test-5jr.pages.dev</span></span></code></pre></div>
  </figure>
</div>
<p>ìœ„ì™€ ê°™ì´ deploy ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì•Œì•„ì„œ ë¹Œë“œí›„ Cloudflareì— ë°°í¬í•©ë‹ˆë‹¤.</p>
<p>ì—¬ê¸°ì„œ &lsquo;.env&rsquo; íŒŒì¼ì— API Endpointë¥¼ ìœ„í•œ ì£¼ì†Œë¥¼ ë„£ì–´ì•¼ í•˜ëŠ”ë°ìš”.</p>
<p>ìœ„ í„°ë¯¸ë„ ìƒì—ì„œ ë‚˜ì˜¤ëŠ” ì£¼ì†ŒëŠ” ë§¨ ì•ì— ë”ë¯¸ë¬¸ìì—´ í¬í•¨í•œ ì£¼ì†Œì¸ë°ìš”.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">https://a651d0cf.hono-remix-test-5jr.pages.dev</span></span></code></pre></div>
  </figure>
</div>
<p>ë”ë¯¸ë¬¸ìì—´ë§Œ ì§€ìš°ê³  ë‚˜ë©´ ì‹¤ì œ ì£¼ì†Œê°€ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">https://hono-remix-test-5jr.pages.dev</span></span></code></pre></div>
  </figure>
</div>
<p>ì´ì œ ì´ ì£¼ì†Œë¥¼ &lsquo;.env&rsquo;ì— ë„£ìœ¼ì‹œê³  ë‹¤ì‹œ deployí•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">VITE_API_URL</span><span class="o">=</span>https://hono-remix-test-5jr.pages.dev/</span></span></code></pre></div>
  </figure>
</div>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ npm run deploy</span></span></code></pre></div>
  </figure>
</div>
<p>ì´ì œ Cloudflare ëŒ€ì‹œë³´ë“œë¡œ ê°€ ë³¼ê¹Œìš”?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhtOuicy05Vsf91AMJFMNO6LBkjWudomSO9n_MZmvnpUENIa4rg1GgHR56q6Pcd3TS5yRoKSzQebwEH2j-BaHWdfgBExx3tVSKViTKrX6uHXlrxi3MZy1LtCL3chnkCIm7p9D5UxUeJCDnAGt4WRnI5siLaETt57WoHmANurSUotQiCgpWtQ5BAzGQLnhU"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ì˜ ë°°í¬ë˜ì—ˆë„¤ìš”.</p>
<p>ì´ì œ í•´ë‹¹ ì£¼ì†Œë¡œ ê°€ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì˜¬ê²ë‹ˆë‹¤.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhzffYxpio5MnCy1Y2_9rfj1bA3LAbmAFKUthwyE1BEnz2RmpfUE9ZvXY4r-7S1XKZhYV3rIzisROerKuTefEWhg4G_86g4ga1IS7ibrnS9xrppuV-tv97stcmzlDPdtEnQCiL1Z1I2tmV9M7-OByJw-u0_4sP1guLLaKYTvsswSAxmCxkh8Y0lFYxTypE"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ìš°ë¦¬ê°€ ì²˜ìŒì— Todos í…Œì´ë¸” ë§Œë“¤ ë•Œ ë”ë¯¸ê°’ìœ¼ë¡œ ë„£ì€ í•­ëª©ë§Œ ë‚˜ì˜¤ê³  ìˆë„¤ìš”.</p>
<p>ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ì—¬ëŸ¬ë²ˆ í…ŒìŠ¤íŠ¸í•´ ë³´ì„¸ìš”.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgUfNljBuibXCqamN4MAiRZ_x7jmn4t_dTPN2h1XsXSpwCnNIUITmTFlrVaM1exeiaAid4WWtcDLZTK-1Kw-klGgKQSCPBvxC7RHaoJQa0uy_f6WsQqswaKAyWj1yriktvTF0_fWhDfnU1ft68ukcyoSg_Wq00uDgk7abYIyfwpkAELMuOPvCBEOdGmJ-s"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjq1kpZ8XaJXuhk2f55DMV4aChuVCnlGIUQR5hVAK9z552yI1MK3apC9uLE7TJoUB9qA9LMzfnaCDxRIbPL9kUdEeXV0EEXyt9pEcWXQGDY1yNsz1GpYVGsBMf1J_25CbMyXe0oDeIMpixxOJIX2b1ZYp3XtoXEL7p5H15nIHAksKDgVqZm8uzb2bvnTgU"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>ìœ„ ë‘ê°œì˜ ê·¸ë¦¼ìœ¼ë¡œ ë³´ì‹œë‹¤ì‹œí”¼ create, delete ëª¨ë‘ Pending UIê¹Œì§€ ì™„ë²½í•˜ê²Œ ì‘ë™í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ ë‹¤ ëë‚¬ë„¤ìš”.</p>
<p>ì–´ë–¤ê¹Œìš”?</p>
<p>Remixì™€ Honoì˜ ì¡°í•©!</p>
<p>ì €ëŠ” ê°œì¸ì ìœ¼ë¡œ Cloudflare Pagesë¥¼ ì¢‹ì•„í•˜ëŠ”ë°ìš”.</p>
<p>ë¬´ë£Œì— D1 DB, KVê¹Œì§€ ì‚¬ìš©í•  ìˆ˜ ìˆê³  Workerê¹Œì§€ ë§Œë“¤ ìˆ˜ ìˆì–´ ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ Remixì™€ Honoë¥¼ ì´ìš©í•´ì„œ FullStack ì•±ë§Œ ë§Œë“¤ë©´ ë˜ê² ë„¤ìš”.</p>
<p>ê·¸ëŸ¼.</p>

      <div class="tag-list-single">
        <a class="btn btn-light" href="/tags/remix/" role="button">remix</a>
        <a class="btn btn-light" href="/tags/hono/" role="button">hono</a>
        <a class="btn btn-light" href="/tags/rpc/" role="button">rpc</a>
        <a class="btn btn-light" href="/tags/cloudflare/" role="button">cloudflare</a>
        <a class="btn btn-light" href="/tags/api-endpoint/" role="button">api endpoint</a>
        <a class="btn btn-light" href="/tags/todo-app/" role="button">todo app</a>
        </div>
      
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-format="autorelaxed"
          data-ad-client="ca-pub-7748316956330968"
          data-ad-slot="4495825428"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </div>
</article>

      
      </div>
    </div>
    
    
<div class="bg-light">
    <section class="section section-related container">
      <div class="row justify-content-center">
        <div class="col-md-12 col-lg-12">
          <h2 class="section-title text-center">Related posts</h2>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2024-10-14-cloudflare-remix-framework-hono-rpc-api-endpoint/">Cloudflareì—ì„œ Remix Frameworkê³¼ Honoì˜ RPC ê¸°ëŠ¥ì„ í™œìš©í•œ API Endpoint êµ¬ì¶•í•˜ê¸°</a></h2>
                  <p>ì´ ê¸€ì—ì„œëŠ” Cloudflare í™˜ê²½ì—ì„œ Remix Frameworkê³¼ Honoì˜ RPC ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ API Endpointë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤. íš¨ìœ¨ì ì¸ API í†µì‹ ì„ ìœ„í•œ ì‹¤ìš©ì ì¸ íŒê³¼ í•¨ê»˜ ë°°í¬ ê³¼ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.</p>
                  <p>
  <small>October 14, 2024<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>16&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2024-02-25-fullstack-tutorial-remix-cloudflare-with-kv-and-github-server/">í’€ìŠ¤íƒ ê°•ì˜ 6í¸. Remixë¡œ Github ì €ì¥ì†Œë¥¼ DBë¡œ ì´ìš©í•´ì„œ KVì™€ í•¨ê»˜ Cloudflareì— ë°°í¬í•˜ê¸°</a></h2>
                  <p>í’€ìŠ¤íƒ ê°•ì˜ì…ë‹ˆë‹¤. Remix + Cloudflare + Github + KV</p>
                  <p>
  <small>February 25, 2024<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>8&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2025-04-20-comprehensive-honojs-tutorial/">Hono.js íŠœí† ë¦¬ì–¼ - ê°„ë‹¨í•œ REST API ë§Œë“¤ê¸°</a></h2>
                  <p>ì´ ê¸€ì—ì„œëŠ” Hono.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ REST APIë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. Hono.jsëŠ” ê²½ëŸ‰í™”ëœ ì›¹ í”„ë ˆì„ì›Œí¬ë¡œ, ë†’ì€ ì„±ëŠ¥ê³¼ ê°„ê²°í•œ ë¬¸ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                  <p>
  <small>April 20, 2025<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>3&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          </div>
      </div>
    </section>
    <script src="https://utteranc.es/client.js"
      repo="cpro95/utterances_mycodings_fly_dev"
      issue-term="pathname"
      theme="github-light"
      label="blog-comment"
      crossorigin="anonymous"
    async>
    </script>
  </div>
  
    <footer class="footer text-muted">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/about/">about</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright (c) All Right Reserved.</li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.19b73e0182301dd61c9211c2f6890104740e2eb9eb12fe4ba8d4f31435b22ed6.js"
  integrity="sha256-Gbc&#43;AYIwHdYckhHC9okBBHQOLrnrEv5LqNTzFDWyLtY=">
</script>





<script async
  src="/js/flexsearch.5dd6433c29c3e043627f046054aed58ff3790f58fdb8423f45125bbafdcad335.js"
  integrity="sha256-XdZDPCnD4ENifwRgVK7Vj/N5D1j9uEI/RRJbuv3K0zU=">
</script>
<script async
  src="/js/search-modal.96e662d8f691fe25c859a3437074b485f2d7bed0bca612725028c6cf4322e2f2.js"
  integrity="sha256-luZi2PaR/iXIWaNDcHS0hfLXvtC8phJyUCjGz0Mi4vI=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>
