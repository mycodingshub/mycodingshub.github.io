<!doctype html>
<html lang="ko" data-bs-theme="auto">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js"
  integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg=">
</script>


<link rel="stylesheet" href="/main.86b7305f5a96b7dd3a46fa6277d87b125af3bf13f48c4cfcc269be84fa9e8fb75375d45a5fe9056ce9190644b7a6e5f13f917f12d853ed38bb76d8856898f755.css" integrity="sha512-hrcwX1qWt906Rvpid9h7ElrzvxP0jEz8wmm+hPqej7dTddRaX+kFbOkZBkS3puXxP5F/EthT7Ti7dtiFaJj3VQ==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><title>Remix Speed Metal Stack 블로그에 페이지 내비게이션, 검색창, 키워드 달기</title>
<meta name="description" content="Remix Speed Metal Stack 블로그에 페이지 내비게이션과 검색창 추가, 주요 키워드 방식 검색 추가" />
<link rel="canonical" href="https://mycodingshub.github.io/blog/2022-08-06-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack/" />
<meta name="robots" content="index, follow" />

<meta property="og:type" content="article" />
<meta property="og:title" content="Remix Speed Metal Stack 블로그에 페이지 내비게이션, 검색창, 키워드 달기" />
<meta property="og:description" content="Remix Speed Metal Stack 블로그에 페이지 내비게이션과 검색창 추가, 주요 키워드 방식 검색 추가" />
<meta property="og:url" content="https://mycodingshub.github.io/blog/2022-08-06-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack/" />
<meta property="og:site_name" content="Home" />
<meta property="og:image" content="https://mycodingshub.github.io/cover.png" />
<meta property="og:locale" content="en" />
<meta property="article:published_time" content="2022-08-06T00:36:41Z" />
<meta property="article:modified_time" content="2022-08-06T00:36:41Z" />
<meta property="article:tag" content="remix" />
<meta property="article:tag" content="speed-metal-stack" />
<meta property="article:tag" content="page-nav" />
<meta property="article:tag" content="search" />
<meta property="article:tag" content="keyword" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Remix Speed Metal Stack 블로그에 페이지 내비게이션, 검색창, 키워드 달기" />
<meta name="twitter:description" content="Remix Speed Metal Stack 블로그에 페이지 내비게이션과 검색창 추가, 주요 키워드 방식 검색 추가" />
<meta name="twitter:image" content="https://mycodingshub.github.io/cover.png" />

<meta name="author" content="cpro95@gmail.com" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "\"Remix Speed Metal Stack 블로그에 페이지 내비게이션, 검색창, 키워드 달기\"",
  "description": "\"Remix Speed Metal Stack 블로그에 페이지 내비게이션과 검색창 추가, 주요 키워드 방식 검색 추가\"",
  "datePublished": "\"2022-08-06T00:36:41Z\"",
  "dateModified": "\"2022-08-06T00:36:41Z\"",
  "author": {
    "@type": "Person",
    "name": "\"cpro95@gmail.com\""
  },
  "image": "\"https://mycodingshub.github.io/cover.png\"",
  "url": "\"https://mycodingshub.github.io/blog/2022-08-06-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack/\"",
  "publisher": {
    "@type": "Organization",
    "name": "\"Home\""
  }
}
</script>




<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7SBETWEJ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C7SBETWEJ0');
</script>


<script
  async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7748316956330968"
  crossOrigin="anonymous"
></script>


</head>

  
  <body class="single section blog" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<header class="navbar navbar-expand-sm">
  <div class="container-lg">
  <div class="d-flex flex-grow-1 justify-content-between">
    <div class="d-flex flex-row navbar-nav justify-content-between align-items-start gap-2">
    
    <a class="nav-link fw-bold fs-4" href="/">Home</a>

    
    
            <a class="nav-link fs-4  active" href="https://mycodingshub.github.io/blog/" aria-current="true">Blog</a>
          
        
            <a class="nav-link fs-4 " href="https://mycodingshub.github.io/life/">Life</a>
          
        
    </div>
    <div class="d-flex flex-row justify-content-between align-items-center">
      
      
      <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      
      <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
        <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
        </svg>
        <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
        </svg>
      </button>
      </div>
        
        
        
        
        </div>
    </div>

    
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search index…</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted d-none"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-lg" role="document">
      <div class="content">
      
        
<article>
  <div class="row justify-content-center">
    <div class="col-md-12 col-lg-12">
      
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-7748316956330968"
        data-ad-slot="2971373181"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <div class="blog-header">
        <h1>Remix Speed Metal Stack 블로그에 페이지 내비게이션, 검색창, 키워드 달기</h1>
        <p>
  <small>August 6, 2022<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>13&nbsp;minutes</span></small>
</p>

      </div>
    </div>
      <div class="col-md-12 col-lg-12">
      
      <p>안녕하세요?</p>
<p>지난 시간에는 Remix 프레임워크의 Speed Metal Stack을 통해 블로그 만들기 편을 올렸는데요.</p>
<p>Speed Metal Stack은 전체적인 구조만 보여주는 스택이라 세부적으로는 블로그 시스템과 맞지 않는 부분이 많습니다.</p>
<p>먼저, 블로그가 10개, 20개씩 쌓이면 한 페이지에 모두 다 나오는데요.</p>
<p>그러고 나서 또 한 가지 문제는 검색을 할 수가 없다는 겁니다.</p>
<p>또한 베스트 키워드 보여주기 등 핫한 아이템을 보여줄 수가 없는데요.</p>
<p>오늘은 지난 시간에 만든 블로그에 페이지 내비게이션 달기, 검색창 추가, 그리고 베스트 키워드 보여주는 걸 추가해서 설명드리겠습니다.</p>
<p>완성형을 보여드릴게요.</p>
<p>먼저, 페이지 내비게이션입니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhj9w4G2KRmMXJ71A2fHyENoXfTuUSoeXxlhA4FbyopKf0ozmSnowuuLGxHSB32tOD5WKaqDRtjnd9dt3aAZv_rk9wdQWQhNZSYOgOsLEcuWo3kx5a1GZQaxI6QktiODyPfdn-lB2YNfVBbm0Z8ibBEVl054BdTHkoPojQuhTtGVYzSlTF8uKrv_D0D=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>두 번째, 검색창입니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhCPhK4B-bIaKA7yxkxkDUOual2PAT1ALQzZvvTT9P8yym_G9miupTerfWHN04YL_pi6ey3R8lwhdRzDxbyOyirIIN96SjCWbFIEfkEn8vgJk8QjQJgUq-6EEnfVnt-MUaYjikuj9xk6pczLz7OQsYNwr5kx241KQBTW2-k6IbrgN_9f2l100NMPgMR=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>세 번째, 베스트 키워드 보여주기입니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEj-wmM82RntoP4HTfhRPLChAXjUefZzUaJJFR3fIg8zHKTmmKPIp-DIz-kxSm1VoTVUPcy9P5mwoXXeYpm_Euzbma5nvfQPk9SQIIZK6Pr79_I5tRFu0CSlpy3akW2Q9VDK2sUQRXNT2ykc3DvzUCIYULNaz2LXUxz3WrUeDWRMIA0b-ssVqWXKqyVg=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<hr>
<h2 id="사전-준비">사전 준비</h2>
<p>먼저, 기존에 만들었던 블로그 한 개를 가짜 페이지로 계속 복사를 해야 합니다.</p>
<p>한 페이지에 10개씩 나오게 하는데 목표인데요.</p>
<p>그래서 블로그 글 개수가 11개 이상은 되어야 합니다.</p>
<p>폴더 트리에서 <code>content/blog</code>에 들어가셔서 터미널에서 <code>cp</code> 명령어로 가짜 블로그 글을 계속 만들어 줍시다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiIT1zrZVOYmctyjAHvqYK7751EDpiCVxqQYsRGPWlf2wfZja1JMdZ9-6F5oNSSOSx61bjjZLwS9oBg0fOTBHsYR9ZwFDGvaq9KATSQ4hphypF-mRlap-PVxcL5GkNEFeETQbWiYfprBLo-PDQsdcDfbRruBXN4FVhWqlUvw0GXJikVphbqyyBxrUsg=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>그리고 가짜로 만든 블로그 mdx 파일을 하나씩 불려 들어서 각각 내용이 틀리게 하는 게 나중에 검색창 만들 때 좋습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">---</span>
</span></span><span class="line"><span class="cl"><span class="nx">slug</span><span class="o">:</span> <span class="nx">test06</span>
</span></span><span class="line"><span class="cl"><span class="nx">title</span><span class="o">:</span> <span class="nx">test06</span>
</span></span><span class="line"><span class="cl"><span class="nx">date</span><span class="o">:</span> <span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">05</span><span class="nx">T11</span><span class="o">:</span><span class="mi">23</span><span class="o">:</span><span class="mf">11.527</span><span class="nx">Z</span>
</span></span><span class="line"><span class="cl"><span class="nx">description</span><span class="o">:</span> <span class="nx">test06</span>
</span></span><span class="line"><span class="cl"><span class="nx">meta</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">  <span class="nx">keywords</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="nx">speed</span><span class="o">-</span><span class="nx">metal</span><span class="o">-</span><span class="nx">stack</span>
</span></span><span class="line"><span class="cl">    <span class="o">-</span> <span class="nx">next</span><span class="p">.</span><span class="nx">js</span>
</span></span><span class="line"><span class="cl"><span class="nx">published</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="o">---</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">#</span> <span class="nx">test06</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">안녕하세요</span><span class="o">?</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">test06</span></span></span></code></pre></div>
  </figure>
</div>
<p>위와 같이 slug, title, description, 본문 내용도 각각 다르게 만들어 주시고요.</p>
<p>그리고 keywords 부분에 몇 개씩 다르게 여러분이 관심 갖는 주제를 넣어주시기 바랍니다.</p>
<p>그래서 블로그 글 중에서 키워드가 여러 번 중복되면 그 키워드가 인기가 많다고 나중에 베스트 키워드로 보여주게 되거든요.</p>
<p>저는 &lsquo;react&rsquo;, &lsquo;remix&rsquo;, &rsquo;next.js&rsquo;, &lsquo;javascript&rsquo;, &rsquo;typescipt&rsquo;, &lsquo;speed-metal-stack&rsquo; 등 여러 가지 키워드를 몇 개씩만 중복되게 넣었습니다.</p>
<p>이제 준비가 다 끝났네요.</p>
<p>&rsquo;npm run dev&rsquo;를 통해 개발 서버를 돌려 볼까요?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhCjH9Eso64B47HWcS7TW7xT5fTAGgGIovmIn0wRMybp_JDDZGcbxZWONi-md2HtbQ33aiky1ZrWcn_3U6b1VcLUUiS1dlFIKyi4mqk1W924vQ-aENNQ0Hpivi33Y8QnjejHCYBqzkMOlSeo0SkPuIh43ejywBpvwsuMC-3vMqzwU0H1rdc11EezQOo=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>여러 개의 블로그 글이 있는 게 보이실 겁니다.</p>
<p>참고로 메인 페이지는 loader 함수 마지막쯤에 아래 코드로 인해 블로그를 10개만 보여주게 되어 있습니다.</p>
<p>&lsquo;app/routes/index.tsx&rsquo;</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">json</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">blogList</span><span class="o">:</span> <span class="nx">blogList</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span> <span class="s1">&#39;cache-control&#39;</span><span class="o">:</span> <span class="s1">&#39;private, max-age=60&#39;</span> <span class="p">}</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span></span></span></code></pre></div>
  </figure>
</div>
<hr>
<h2 id="페이지-내비게이션과-검색창-달기">페이지 내비게이션과 검색창 달기</h2>
<p>그럼 본격적으로 <code>app/routes/blog.tsx</code> 파일을 수정해 보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">loader</span><span class="o">:</span> <span class="nx">LoaderFunction</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">blogList</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getMdxListItems</span><span class="p">({</span> <span class="nx">contentDirectory</span><span class="o">:</span> <span class="s1">&#39;blog&#39;</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">json</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">blogList</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span> <span class="s1">&#39;cache-control&#39;</span><span class="o">:</span> <span class="s1">&#39;private, max-age=60&#39;</span><span class="p">,</span> <span class="nx">Vary</span><span class="o">:</span> <span class="s1">&#39;Cookie&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Blog</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">blogList</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">section</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;mx-auto min-h-screen max-w-4xl pt-24&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">BlogList</span> <span class="nx">blogList</span><span class="o">=</span><span class="p">{</span><span class="nx">blogList</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/section&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>&lsquo;app/routes/blog.tsx&rsquo;이 바로 주소가 &lsquo;http://localhost:3000/blog&rsquo;가 됩니다.</p>
<p>위 코드에서 보면 서버사이드 함수인 loader() 함수에서 getMdxListItems() 함수를 통해 blogList를 통째로 가져오는데요.</p>
<p>그걸 loader() 함수가 blogList라고 json 형태로 리턴하면,</p>
<p>클라이언트 사이드 쪽인 Blog() 컴포넌트에서는 useLoaderData() 함수를 통해 또다시 blogList 변수에 전달해서 그리고 그걸 <code>&lt;BlogList&gt;</code> 컴포넌트를 통해 브라우저에 보여주게 됩니다.</p>
<p>일단 페이지 내비게이션과 검색창을 추가해 보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Blog</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">blogList</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">section</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;mx-auto min-h-screen max-w-4xl pt-24&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">SearchForm</span> <span class="nx">method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span> <span class="nx">action</span><span class="o">=</span><span class="s1">&#39;.&#39;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">BlogList</span> <span class="nx">blogList</span><span class="o">=</span><span class="p">{</span><span class="nx">blogList</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">MyPagination</span>
</span></span><span class="line"><span class="cl">        <span class="nx">q</span><span class="o">=</span><span class="p">{</span><span class="nx">q</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">page</span><span class="o">=</span><span class="p">{</span><span class="nx">page</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">itemsPerPage</span><span class="o">=</span><span class="p">{</span><span class="nx">itemsPerPage</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">total_pages</span><span class="o">=</span><span class="p">{</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">blogCount</span><span class="p">)</span> <span class="o">/</span> <span class="nx">itemsPerPage</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">      <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/section&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>Blog() 컴포넌트에 기존 <code>&lt;BlogList&gt;</code> 위아래에 <code>&lt;SearchForm&gt;</code>과 <code>&lt;MyPagination&gt;</code> 컴포넌트를 추가했는데요.</p>
<p>먼저, MyPagination 컴포넌트는 props로 4개가 필요로 합니다.</p>
<p>&ldquo;q&quot;는 검색창에 필요한 검색 쿼리고요.</p>
<p>&ldquo;page&quot;는 현재 페이지가 몇 번째 페이지인지, &ldquo;itemsPerPage&quot;는 한 페이지에 몇 개의 블로그가 나타나게 할 건지,</p>
<p>마지막으로 &ldquo;total_pages&quot;는 &ldquo;itemsPerPage&quot;에 전체 블로그 숫자를 나눠서 &ldquo;page&quot;가 몇 개가 되는지 넣는 props입니다.</p>
<p>그럼 MyPagination 컴포넌트를 실제로 만들어 볼까요?</p>
<hr>
<h3 id="mypagination-만들기">MyPagination 만들기</h3>
<p>위치는 <code>app/components/my-pagination.tsx</code> 파일입니다.</p>
<p>다 만들었으면 <code>app/routes/blog.tsx</code> 파일에서 MyPagination 컴포넌트를 import 하는 걸 잊지 마시고요.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Link</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@remix-run/react&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="nx">PaginationType</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">q</span><span class="o">:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span><span class="o">:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl">  <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl">  <span class="nx">total_pages</span><span class="o">:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">MyPagination</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">total_pages</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">:</span> <span class="nx">PaginationType</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">leftArrow</span> <span class="o">=</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">svg</span>
</span></span><span class="line"><span class="cl">      <span class="nx">xmlns</span><span class="o">=</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;h-5 w-5&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fill</span><span class="o">=</span><span class="s1">&#39;none&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">viewBox</span><span class="o">=</span><span class="s1">&#39;0 0 24 24&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">stroke</span><span class="o">=</span><span class="s1">&#39;currentColor&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">strokeWidth</span><span class="o">=</span><span class="s1">&#39;2&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">path</span> <span class="nx">strokeLinecap</span><span class="o">=</span><span class="s1">&#39;round&#39;</span> <span class="nx">strokeLinejoin</span><span class="o">=</span><span class="s1">&#39;round&#39;</span> <span class="nx">d</span><span class="o">=</span><span class="s1">&#39;M15 19l-7-7 7-7&#39;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/svg&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">rightArrow</span> <span class="o">=</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">svg</span>
</span></span><span class="line"><span class="cl">      <span class="nx">xmlns</span><span class="o">=</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;h-5 w-5&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fill</span><span class="o">=</span><span class="s1">&#39;none&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">viewBox</span><span class="o">=</span><span class="s1">&#39;0 0 24 24&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">stroke</span><span class="o">=</span><span class="s1">&#39;currentColor&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">strokeWidth</span><span class="o">=</span><span class="s1">&#39;2&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">path</span> <span class="nx">strokeLinecap</span><span class="o">=</span><span class="s1">&#39;round&#39;</span> <span class="nx">strokeLinejoin</span><span class="o">=</span><span class="s1">&#39;round&#39;</span> <span class="nx">d</span><span class="o">=</span><span class="s1">&#39;M9 5l7 7-7 7&#39;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/svg&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">linkStyle</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;px-2 sm:px-4 py-1 sm:py-2 mx-1 sm:mx-1 text-gray-700 transition-colors duration-200 transform bg-white rounded-md sm:inline dark:bg-gray-900 dark:text-gray-200 hover:bg-blue-500 dark:hover:bg-blue-500 hover:text-white dark:hover:text-gray-200&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">nav</span>
</span></span><span class="line"><span class="cl">      <span class="nx">aria</span><span class="o">-</span><span class="nx">label</span><span class="o">=</span><span class="s1">&#39;Pagination&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;mt-4 mb-8 -ml-4 flex justify-evenly py-4 sm:justify-start&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">        <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span>
</span></span><span class="line"><span class="cl">          <span class="nx">page</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">page</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;sr-only&#39;</span><span class="o">&gt;</span><span class="nx">Previous</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">leftArrow</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nx">page</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;&gt;&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)</span> <span class="o">:</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">            <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span><span class="nx">page</span> <span class="o">-</span> <span class="mi">1</span><span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">aria</span><span class="o">-</span><span class="nx">current</span><span class="o">=</span><span class="s1">&#39;page&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nx">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">        <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span><span class="nx">page</span><span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">aria</span><span class="o">-</span><span class="nx">current</span><span class="o">=</span><span class="s1">&#39;page&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">page</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nx">page</span> <span class="o">===</span> <span class="nx">total_pages</span> <span class="o">?</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;&gt;&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)</span> <span class="o">:</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">          <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span><span class="nx">page</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">{</span><span class="nx">page</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nx">page</span> <span class="o">&lt;</span> <span class="nx">total_pages</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">?</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">disabled</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">...</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">            <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span><span class="nx">total_pages</span> <span class="o">-</span> <span class="mi">1</span><span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nx">total_pages</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">            <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span><span class="nx">total_pages</span><span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nx">total_pages</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)</span> <span class="o">:</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;&gt;&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">)}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">        <span class="nx">to</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">q</span><span class="si">}</span><span class="sb">&amp;page=</span><span class="si">${</span>
</span></span><span class="line"><span class="cl">          <span class="nx">page</span> <span class="o">===</span> <span class="nx">total_pages</span> <span class="o">?</span> <span class="nx">total_pages</span> <span class="o">:</span> <span class="nx">page</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="si">}</span><span class="sb">&amp;itemsPerPage=</span><span class="si">${</span><span class="nx">itemsPerPage</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;sr-only&#39;</span><span class="o">&gt;</span><span class="nx">Next</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">rightArrow</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/nav&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>코드를 보면 리믹스의 Link 컴포넌트로 페이지 간 이동하는데요.</p>
<p>그냥 이동하는 게 아니라 params를 넣어서 이동하고 있습니다.</p>
<p><code>http://localhost:3000/blog?q=react&amp;page=1&amp;itemsPerPage=10</code> 같은 형식입니다.</p>
<p>위 주소에 따르면 q, page, itemsPerPage가 주소창에 전달되면 그걸 이용해서 블로그 DB에서 원하는 위치의 블로그만 가져오게 하는 원리입니다.</p>
<p>그럼 <code>http://localhost:3000/blog?q=react&amp;page=1&amp;itemsPerPage=10</code> 주소로 이동했다면 불러오는 컴포넌트는 <code>app/routes/blog.tsx</code> 파일인데요.</p>
<p>현재 우리가 고치고 있는 파일입니다.</p>
<p>그럼 위에서 주소창에 있는 params을 분석해야 하는데요.</p>
<p>어떻게 해야 할까요?</p>
<p>바로 react-route-dom에 있는 useSearchParams 훅을 이용하면 됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useLoaderData</span><span class="p">,</span> <span class="nx">useSearchParams</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@remix-run/react&#39;</span></span></span></code></pre></div>
  </figure>
</div>
<p>실제로는 위 코드처럼 remix에서 불러오면 됩니다.</p>
<p>그럼 Blog() 컴포넌트에서 useSearchParams 훅을 이용해서 params을 분석하는 로직을 만들어 볼까요?</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Blog</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">blogList</span><span class="p">,</span> <span class="nx">blogCount</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">myParams</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useSearchParams</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">type</span> <span class="nx">paramsType</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="nx">key</span><span class="o">:</span> <span class="nx">string</span><span class="p">]</span><span class="o">:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">paramsArray</span><span class="o">:</span> <span class="nx">paramsType</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">myParams</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">value</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">paramsArray</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">q</span><span class="o">:</span> <span class="nx">string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">page</span><span class="o">:</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">paramsArray</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">p</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="nx">q</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">q</span><span class="p">))</span> <span class="o">:</span> <span class="p">{}))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">paramsArray</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">p</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">p</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="nx">page</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">page</span><span class="p">))</span> <span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">paramsArray</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">p</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">p</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;itemsPerPage&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="o">?</span> <span class="p">(</span><span class="nx">itemsPerPage</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">itemsPerPage</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="o">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">section</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;mx-auto min-h-screen max-w-4xl pt-24&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">BlogList</span> <span class="nx">blogList</span><span class="o">=</span><span class="p">{</span><span class="nx">blogList</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">MyPagination</span>
</span></span><span class="line"><span class="cl">        <span class="nx">q</span><span class="o">=</span><span class="p">{</span><span class="nx">q</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">page</span><span class="o">=</span><span class="p">{</span><span class="nx">page</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">itemsPerPage</span><span class="o">=</span><span class="p">{</span><span class="nx">itemsPerPage</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">total_pages</span><span class="o">=</span><span class="p">{</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">blogCount</span><span class="p">)</span> <span class="o">/</span> <span class="nx">itemsPerPage</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">      <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/section&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>위 코드를 보시면 Blog() 컴포넌트는 클라이언트 상에서 페이지가 보여주게 되고 자바스크립트도 실행되게 됩니다.</p>
<p>useSearchParams 훅을 통해 myParams에 그 정보를 담는데요.</p>
<p>그러고 나서 그걸 다시 배열로 전환하는데요.</p>
<p>배열이 조금 더 편합니다.</p>
<p>그리고 각각 q, page, itemsPerPage 변수를 &rsquo;let&rsquo;으로 선언 및 디폴트 값을 부여합니다.</p>
<p>그리고 myParams로 브라우저의 주소창에 있는 정보를 분석해서 다시 q, page, itemsPerPage 변수에 할당하게 됩니다.</p>
<p>그리고 이 세 개의 변수를 바로 MyPagination 컴포넌트에 props로 넣어 전달하는 거죠.</p>
<hr>
<h3 id="searchform-만들기">SearchForm 만들기</h3>
<p>먼저, &lsquo;app/components&rsquo; 폴더에 &lsquo;search-form.tsx&rsquo; 파일을 만들고 다음과 같이 코드를 추가합시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Form</span><span class="p">,</span> <span class="nx">useTransition</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@remix-run/react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">type</span> <span class="p">{</span> <span class="nx">FormMethod</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@remix-run/react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;zod&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useFormInputProps</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;remix-params-helper&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">searchQSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">q</span><span class="o">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Minimum length is 2&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">SearchForm</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">method</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">action</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">method</span><span class="o">?:</span> <span class="nx">FormMethod</span>
</span></span><span class="line"><span class="cl">  <span class="nx">action</span><span class="o">?:</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">inputProps</span> <span class="o">=</span> <span class="nx">useFormInputProps</span><span class="p">(</span><span class="nx">searchQSchema</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">transition</span> <span class="o">=</span> <span class="nx">useTransition</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">isSubmitting</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="nx">transition</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="s1">&#39;submitting&#39;</span> <span class="o">||</span> <span class="nx">transition</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="s1">&#39;loading&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">Form</span> <span class="nx">method</span><span class="o">=</span><span class="p">{</span><span class="nx">method</span><span class="p">}</span> <span class="nx">action</span><span class="o">=</span><span class="p">{</span><span class="nx">action</span><span class="p">}</span> <span class="nx">replace</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;py-4 max-w-lg&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;flex-cols mx-auto flex w-full&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">label</span> <span class="nx">htmlFor</span><span class="o">=</span><span class="s1">&#39;simple-search&#39;</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;sr-only&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">Search</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/label&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;relative w-full&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">svg</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;h-5 w-5 text-gray-500 dark:text-gray-400&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">fill</span><span class="o">=</span><span class="s1">&#39;currentColor&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">viewBox</span><span class="o">=</span><span class="s1">&#39;0 0 20 20&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">xmlns</span><span class="o">=</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="o">&lt;</span><span class="nx">path</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fillRule</span><span class="o">=</span><span class="s1">&#39;evenodd&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">d</span><span class="o">=</span><span class="s1">&#39;M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="nx">clipRule</span><span class="o">=</span><span class="s1">&#39;evenodd&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="o">&gt;&lt;</span><span class="err">/path&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="err">/svg&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">input</span>
</span></span><span class="line"><span class="cl">            <span class="p">{...</span><span class="nx">inputProps</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500  dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">placeholder</span><span class="o">=</span><span class="s1">&#39;Search&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">type</span><span class="o">=</span><span class="s1">&#39;text&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;q&#39;</span>
</span></span><span class="line"><span class="cl">          <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">button</span>
</span></span><span class="line"><span class="cl">          <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;ml-2 rounded-lg border border-blue-700 bg-blue-700 p-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800&#39;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">type</span><span class="o">=</span><span class="s1">&#39;submit&#39;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isSubmitting</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">svg</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;h-5 w-5&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fill</span><span class="o">=</span><span class="s1">&#39;none&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">stroke</span><span class="o">=</span><span class="s1">&#39;currentColor&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">viewBox</span><span class="o">=</span><span class="s1">&#39;0 0 24 24&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">xmlns</span><span class="o">=</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">path</span>
</span></span><span class="line"><span class="cl">              <span class="nx">strokeLinecap</span><span class="o">=</span><span class="s1">&#39;round&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">strokeLinejoin</span><span class="o">=</span><span class="s1">&#39;round&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">strokeWidth</span><span class="o">=</span><span class="s1">&#39;2&#39;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">d</span><span class="o">=</span><span class="s1">&#39;M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&gt;&lt;</span><span class="err">/path&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/svg&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/Form&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>SearchForm 컴포넌트는 HTML 기본 형식인 Form 관련 헬퍼 유틸리티인 &lsquo;zod&rsquo;와 &lsquo;remix-params-helper&rsquo; 패키지가 필요합니다.</p>
<p>개발 서버를 중단하고 아래와 같이 위 패키지를 인스톨합시다.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">npm install zod remix-params-helper</span></span></code></pre></div>
  </figure>
</div>
<p>설치가 끝나면 다시 개발 서버를 돌리시고요.</p>
<p>SearchForm은 &lsquo;zod&rsquo; 패키지를 통해 쿼리가 최소한 2글자 이상이어야 하고, 기타 form과 input을 점검해 줍니다.</p>
<p>리믹스는 form을 이용해서 서버 사이드로 정보를 전달하는데요.</p>
<p>form을 method=&lsquo;get&rsquo; 방식으로 전달하면,</p>
<p>브라우저 input 창에 &rsquo;test&rsquo;라고 썼고,</p>
<p>input 속성에 name=&lsquo;q&rsquo;라고 적으면 주소창에 &lsquo;?q=test&rsquo; 형식으로 서버에 전달하고 페이지가 리프레시됩니다.</p>
<p>form을 submit하면 주소창이 &lsquo;?q=test&rsquo; 형식으로 변하는데 이제 이걸 Blog() 컴포넌트에서 params를 분석하여 DB 부분을 불러와야 하는데요.</p>
<p>다시 Blog() 컴포넌트가 있는 &lsquo;app/routes/blog.tsx&rsquo; 파일로 돌아가서 서버 사이드 쪽인 loader() 함수를 고쳐보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getMdxListItems</span><span class="p">,</span> <span class="nx">getMdxListItemsWithQ</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;~/utils/mdx.server&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getMdxCount</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getMdxCountWithQ</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;~/model/content.server&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">MyPagination</span> <span class="nx">from</span> <span class="s1">&#39;~/components/my-pagination&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">SearchForm</span> <span class="nx">from</span> <span class="s1">&#39;~/components/search-form&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;zod&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getSearchParams</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;remix-params-helper&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">type</span> <span class="nx">LoaderData</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">blogList</span><span class="o">:</span> <span class="nx">Awaited</span><span class="o">&lt;</span><span class="nx">ReturnType</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">getMdxListItems</span><span class="o">&gt;&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">blogCount</span><span class="o">:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">filterBlogSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">index</span><span class="o">:</span> <span class="nx">z</span><span class="p">.</span><span class="k">void</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">q</span><span class="o">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span><span class="o">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">string</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">loader</span><span class="o">:</span> <span class="nx">LoaderFunction</span> <span class="o">=</span> <span class="kr">async</span> <span class="p">({</span> <span class="nx">request</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">getSearchParams</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">filterBlogSchema</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">q</span> <span class="nx">as</span> <span class="nx">string</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">page</span><span class="o">:</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">page</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">page</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="nx">page</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">page</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">itemsPerPage</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">itemsPerPage</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="nx">itemsPerPage</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">data</span><span class="o">?</span><span class="p">.</span><span class="nx">itemsPerPage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">blogList</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">blogCount</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">q</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">blogList</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getMdxListItems</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">contentDirectory</span><span class="o">:</span> <span class="s1">&#39;blog&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">page</span><span class="o">:</span> <span class="nx">page</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="nx">blogCount</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getMdxCount</span><span class="p">(</span><span class="s1">&#39;blog&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">blogList</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getMdxListItemsWithQ</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">contentDirectory</span><span class="o">:</span> <span class="s1">&#39;blog&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">q</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">page</span><span class="o">:</span> <span class="nx">page</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="nx">blogCount</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getMdxCountWithQ</span><span class="p">(</span><span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="nx">q</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">json</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">blogList</span><span class="p">,</span> <span class="nx">blogCount</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span> <span class="s1">&#39;cache-control&#39;</span><span class="o">:</span> <span class="s1">&#39;private, max-age=60&#39;</span><span class="p">,</span> <span class="nx">Vary</span><span class="o">:</span> <span class="s1">&#39;Cookie&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>코드가 좀 더 복잡해졌는데요.</p>
<p>서버 사이드 쪽이라서 그렇습니다.</p>
<p>일단 LoaderData 타입을 새로 정의했고요.</p>
<p>zod를 통해서 filterBlogSchema를 만들었습니다.</p>
<p>왜냐하면 loader() 함수에서 params를 좀 더 쉽게 분리할 수 있는 getSearchParams 훅을 쓰기 위해서죠.</p>
<p>getSearchParams는 remix-params-helper 패키지에 있습니다.</p>
<p>loader() 함수에서도 로직은 비슷합니다.</p>
<p>우리가 필요한 게 바로 q, page, itemsPerPage이기 때문에 이걸 params에서 분리해 내고,</p>
<p>이에 따라 DB 부분에서 블로그를 추출하는 코드인데요.</p>
<p>먼저, page와 itemsPerPage는 쌍으로 움직입니다.</p>
<p>그러나 q는 있을 수도 있고 없을 수도 있죠.</p>
<p>그래서 q가 있느냐 없는냐도 염두에 둬야 합니다.</p>
<p>그리고 blogCount라고 전체 블로그 글 개수를 저장하는 변수인데요.</p>
<p>blogCount는 기본으로 Speed Metal Stack에 있는 getMdxCount()함수에 의해 그 숫자를 얻을 수 있습니다.</p>
<p>이제 Prisma를 이용한 DB 쪽 함수인 getMdxListItems를 수정할 거고,</p>
<p>그다음 q를 필요로 하는 getMdxListItemsWithQ 함수도 새로 만들 겁니다.</p>
<p>마지막으로 blogCount에 필요한 getMdxCount, getMdxCountWithQ 함수도 만들 겁니다.</p>
<p>각각의 위치는 아래 코드처럼 import 되는 위치를 보면 됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getMdxListItems</span><span class="p">,</span> <span class="nx">getMdxListItemsWithQ</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;~/utils/mdx.server&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getMdxCount</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getMdxCountWithQ</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;~/model/content.server&#39;</span></span></span></code></pre></div>
  </figure>
</div>
<p>먼저, mdx.server.ts 파일에서 getMdxListItems 함수를 수정해 보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getMdxListItemsWithQ</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">contentDirectory</span><span class="p">,</span> <span class="nx">q</span><span class="p">,</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">itemsPerPage</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">contentDirectory</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span> <span class="nx">q</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">page</span><span class="o">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">getContentListWithQ</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="p">,</span> <span class="nx">q</span><span class="p">,</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">itemsPerPage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getMdxListItems</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">contentDirectory</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">contentDirectory</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">itemsPerPage</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">pagesToUpdates</span><span class="p">]</span> <span class="o">=</span> <span class="kr">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">    <span class="nx">getMdxCount</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">requiresUpdate</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">count</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">await</span> <span class="nx">populateMdx</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">pagesToUpdates</span> <span class="o">&amp;&amp;</span> <span class="nx">pagesToUpdates</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">await</span> <span class="nx">updateMdx</span><span class="p">(</span><span class="nx">pagesToUpdates</span><span class="p">,</span> <span class="nx">contentDirectory</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">getContentList</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="p">,</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">itemsPerPage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>getMdxListItems 함수는 props에 page와 itemsPerPage를 추가했습니다.</p>
<p>그런데 실제로 DB 부분에서 데이터를 불러오는 함수는 getContentList와 getContentListWithQ 함수인데요.</p>
<p>이것도 수정해야 합니다.</p>
<p>위치는 아래 import 정보를 보시면 됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getContentList</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">getContentListWithQ</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;~/model/content.server&#39;</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 content.server.ts 파일을 열어 아래와 같이 해달 함수를 수정하거나 새로 만듭시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getContentListWithQ</span><span class="p">(</span><span class="nx">contentDirectory</span> <span class="o">=</span> <span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="nx">q</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">page</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">itemsPerPage</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">contents</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">findMany</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">where</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">AND</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nx">published</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">contentDirectory</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">OR</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">contains</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">description</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">contains</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">frontmatter</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">contains</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">select</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">slug</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">timestamp</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">description</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">frontmatter</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">orderBy</span><span class="o">:</span> <span class="p">{</span> <span class="nx">timestamp</span><span class="o">:</span> <span class="s1">&#39;desc&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">skip</span><span class="o">:</span> <span class="nx">page</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="p">(</span><span class="nx">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">take</span><span class="o">:</span> <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">contents</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getContentList</span><span class="p">(</span><span class="nx">contentDirectory</span> <span class="o">=</span> <span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="nx">page</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">itemsPerPage</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">contents</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">findMany</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">where</span><span class="o">:</span> <span class="p">{</span> <span class="nx">published</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">contentDirectory</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">select</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">slug</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">timestamp</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">description</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">frontmatter</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">orderBy</span><span class="o">:</span> <span class="p">{</span> <span class="nx">timestamp</span><span class="o">:</span> <span class="s1">&#39;desc&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">skip</span><span class="o">:</span> <span class="nx">page</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="p">(</span><span class="nx">page</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">take</span><span class="o">:</span> <span class="nx">itemsPerPage</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">contents</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이 부분은 Prisma 부분인데요.</p>
<p>getContentList는 page와 itemsPerPage에 의해 skip과 take 조건을 달아서 DB 추출하고 있습니다.</p>
<p>그리고 getContentListWithQ는 좀 더 복잡하게 q에 따라 where 조건을 달아서 검색하고 있습니다.</p>
<p>Prisma를 좀 더 공부하시면 쉽게 이해할 수 있을 겁니다.</p>
<p>이제 getMdxCount와 getMdxCountWithQ 함수입니다.</p>
<p>이 함수도 content.server.ts 파일에 있습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getMdxCountWithQ</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="o">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">q</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_count</span><span class="o">:</span> <span class="p">{</span> <span class="nx">_all</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">where</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">AND</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span> <span class="nx">published</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">contentDirectory</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="nx">OR</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">contains</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">description</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">contains</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">frontmatter</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">contains</span><span class="o">:</span> <span class="nx">q</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">count</span><span class="p">.</span><span class="nx">_count</span><span class="p">.</span><span class="nx">_all</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getMdxCount</span><span class="p">(</span><span class="nx">contentDirectory</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">aggregate</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_count</span><span class="o">:</span> <span class="p">{</span> <span class="nx">_all</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">where</span><span class="o">:</span> <span class="p">{</span> <span class="nx">published</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">contentDirectory</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">count</span><span class="p">.</span><span class="nx">_count</span><span class="p">.</span><span class="nx">_all</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>Prisma에서 콘텐츠 개수를 불러오는 코드는 aggregate라고 하고 거기서 _count를 이용하면 됩니다.</p>
<p>getMdxCount는 q 없이 전체 블로그 숫자이고, getMdxCountWithQ는 q를 이용해서 검색했을 때의 블로그 숫자입니다.</p>
<p>이제 테스트해볼까요?</p>
<p>먼저, 페이지 부분입니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjuXnb9harF-lVS2_nVMCEBf8VvkB26_yrZDeRrzduDY6xavOi1HI3SdWvL6tsZTfydgHJqZIX-qpqRZV6eVWDO0T6caI297S_kTTGMjQ86IE1M_gp0Kp2ifmItsLOQYJD0M14WbM6a6Faq3OypW9R4aG2XQ4MvK9-a1U6rpb1tqpst_xviK6kCa15R=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>전체 블로그 숫자가 12개라서 1페이지, 2페이지만 보입니다.</p>
<p>두번 째 페이지로 넘어가 볼까요?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiveY_DKYl_bD4dqwvxCzRq3i_O4AuIWzzKM8t6FpHchETaR8zSVoAg84QNPFh6tclOlrPHoPqPJBOV7KRZJegP3CT7U-K2rFJG8e1FY6aCiXLu1-tm7tKF_EH7d5uRJ1toMF1lFnL8Fffef1cjuzR-OvH0CDSdguqSvCqhlLsT9zlFiYYIq_POhj4G=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>주소창에도 관련 params 정보가 잘 전달되고 있습니다.</p>
<p>이제 검색을 해볼까요?</p>
<p>검색 조건은 Prisma 코드를 보시면 slug, title, description, 그리고 frontmatter에서 검색합니다.</p>
<p>일단 react라고 적어볼까요?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgNA1MXs4j4QO0TP6roF2xsFvzsGgDXXUEe9GEGrkNn7N_RhqdwP9qEJBnhKrJnkVHxEpOSyPE8pgP87eVaRGsni-76OzQ-1dlLu19_o8EG1VPhtW4N3X-IoUKf53lpxfmmyk5epyi5Z6-nTEf8gQtF6Tbm3G4tdwfE5bujZEsmC5INgRydyH-FLSlq=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>정말 잘 작동하고 있는데요.</p>
<p>만약 검색 조건이 2페이지 분량이라면 당연히 밑에 페이지가 2페이지로 나올 겁니다.</p>
<hr>
<h2 id="베스트-키워드-달기">베스트 키워드 달기</h2>
<p>이제 마지막으로 키워드 횟수에 의해 이 블로그는 도대체 어떤 키워드 글이 많은지 보여주는 로직을 작성할 건데요.</p>
<p>일단 완성형을 다시 보시죠!</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEj-wmM82RntoP4HTfhRPLChAXjUefZzUaJJFR3fIg8zHKTmmKPIp-DIz-kxSm1VoTVUPcy9P5mwoXXeYpm_Euzbma5nvfQPk9SQIIZK6Pr79_I5tRFu0CSlpy3akW2Q9VDK2sUQRXNT2ykc3DvzUCIYULNaz2LXUxz3WrUeDWRMIA0b-ssVqWXKqyVg=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>다시 Blog() 컴포넌트에 BestTags 컴포넌트를 추가합시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">section</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;mx-auto max-w-4xl pt-8&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">BestTags</span> <span class="nx">bestTags</span><span class="o">=</span><span class="p">{</span><span class="nx">arrayOfBestPool</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">SearchForm</span> <span class="nx">method</span><span class="o">=</span><span class="s1">&#39;get&#39;</span> <span class="nx">action</span><span class="o">=</span><span class="s1">&#39;.&#39;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">BlogList</span> <span class="nx">blogList</span><span class="o">=</span><span class="p">{</span><span class="nx">blogList</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">MyPagination</span>
</span></span><span class="line"><span class="cl">        <span class="nx">q</span><span class="o">=</span><span class="p">{</span><span class="nx">q</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">page</span><span class="o">=</span><span class="p">{</span><span class="nx">page</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">itemsPerPage</span><span class="o">=</span><span class="p">{</span><span class="nx">itemsPerPage</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">total_pages</span><span class="o">=</span><span class="p">{</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="nx">blogCount</span><span class="p">)</span> <span class="o">/</span> <span class="nx">itemsPerPage</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">      <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/section&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span></span></span></code></pre></div>
  </figure>
</div>
<p>return 부분만 가져왔는데요.</p>
<p>BestTags 컴포넌트는 bestTags props에 arrayOfBestPool 배열을 전달하고 있습니다.</p>
<p>arrayOfBestPool 배열을 loader() 함수에서 만들기 전에 먼저, UI 부분인 BestTags 컴포넌트를 만들어 볼까요?</p>
<p><code>app/components/best-tags.tsx</code>파일입니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">LinkOrAnchor</span> <span class="nx">from</span> <span class="s1">&#39;./link-or-anchor&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">BestTags</span><span class="p">({</span> <span class="nx">bestTags</span> <span class="p">}</span><span class="o">:</span> <span class="p">{</span> <span class="nx">bestTags</span><span class="o">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">linkStyle</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;bg-gray-100 text-gray-800 text-md font-medium items-center px-4 py-2 rounded mr-2 mb-2 dark:bg-gray-700 dark:text-gray-300 focus:bg-blue-300 hover:bg-blue-100 focus:dark:bg-cyan-700 hover:dark:bg-cyan-600&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;flex flex-row flex-wrap&#39;</span> <span class="nx">role</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">LinkOrAnchor</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="sb">`.`</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">all</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/LinkOrAnchor&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">bestTags</span> <span class="o">?</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="nx">bestTags</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">b</span> <span class="p">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">LinkOrAnchor</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="sb">`?q=</span><span class="si">${</span><span class="nx">b</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">linkStyle</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">b</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="p">{</span><span class="nx">b</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="err">/LinkOrAnchor&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span> <span class="o">:</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;&gt;&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">)}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 loader() 함수에서 arrayOfBestPool 배열 정보를 얻어 볼까요?</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">type</span> <span class="nx">LoaderData</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">blogList</span><span class="o">:</span> <span class="nx">Awaited</span><span class="o">&lt;</span><span class="nx">ReturnType</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">getMdxListItems</span><span class="o">&gt;&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">blogCount</span><span class="o">:</span> <span class="nx">number</span>
</span></span><span class="line"><span class="cl">  <span class="nx">arrayOfBestPool</span><span class="o">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>일단 위와 같이 LoaderData 타입을 변경합시다.</p>
<p>loader() 함수가 클라이언트 쪽인 Blog() 컴포넌트로 넘기는 데이터입니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">allFrontmatterList</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">getFrontmatterList</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">Pool</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="o">&lt;</span><span class="nx">string</span><span class="p">,</span> <span class="nx">number</span><span class="o">&gt;</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">allFrontmatterList</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">af</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">af</span><span class="p">.</span><span class="nx">frontmatter</span><span class="p">).</span><span class="nx">meta</span><span class="p">.</span><span class="nx">keywords</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">k</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Pool</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">Pool</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span> <span class="o">?</span> <span class="nx">Pool</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span><span class="o">!</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// console.log(new Map([...Pool].sort()))
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">sortedPool</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">([...</span><span class="nx">Pool</span><span class="p">].</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">bestPool</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">([...</span><span class="nx">sortedPool</span><span class="p">].</span><span class="nx">filter</span><span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// console.log(bestPool)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">arrayOfBestPool</span><span class="o">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">bestPool</span><span class="p">.</span><span class="nx">keys</span><span class="p">()]</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// console.log(arrayOfBestPool)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">json</span><span class="o">&lt;</span><span class="nx">LoaderData</span><span class="o">&gt;</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">blogList</span><span class="p">,</span> <span class="nx">blogCount</span><span class="p">,</span> <span class="nx">arrayOfBestPool</span><span class="o">:</span> <span class="nx">arrayOfBestPool</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span> <span class="s1">&#39;cache-control&#39;</span><span class="o">:</span> <span class="s1">&#39;private, max-age=60&#39;</span><span class="p">,</span> <span class="nx">Vary</span><span class="o">:</span> <span class="s1">&#39;Cookie&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span></span></span></code></pre></div>
  </figure>
</div>
<p>위 코드를 loader() 함수에서 <code>return json&lt;LoaderData&gt;</code> 부분 바로 위에 삽입하시면 됩니다.</p>
<p>또 return 부분에도 arrayOfBestPool 코드도 추가합시다.</p>
<p>저는 slice 메서드를 통해 6개만 추려내기로 했습니다.</p>
<p>위 코드를 보시면 console.log() 부분이 많이 보이시죠?</p>
<p>디버그 할 때 쓴 겁니다. 삭제하셔도 됩니다.</p>
<p>그런데 또 필요한 함수가 있는데요. 바로 getFrontmatterList() 함수입니다.</p>
<p>&lsquo;content.server.ts&rsquo; 파일에 아래와 같이 getFrontmatterList() 함수를 추가합시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">getFrontmatterList</span><span class="p">(</span><span class="nx">contentDirectory</span> <span class="o">=</span> <span class="s1">&#39;blog&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">contents</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">findMany</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">where</span><span class="o">:</span> <span class="p">{</span> <span class="nx">published</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">contentDirectory</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">select</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">frontmatter</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">orderBy</span><span class="o">:</span> <span class="p">{</span> <span class="nx">timestamp</span><span class="o">:</span> <span class="s1">&#39;desc&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">contents</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>getFrontmatterList 함수는 frontmatter 정보만 불러오는 함수입니다.</p>
<p>이걸 이용해서 loader() 함수에서는 Map 타입에 넣는데 Map 타입의 keyword 부분이 중복되면 value 부분에 1씩 증가해서 횟수를 저장하고 있습니다.</p>
<p>그리고 그걸 다시 정렬하고, 다시 bestPool에서 횟수가 2 이상인 것만 추려내고 다시 keys() 함수를 통해 키워드만 추려냅니다.</p>
<p>마지막으로 클라이언트 쪽인 Blog() 컴포넌트에서 useLoaderData 부분을 아래와 같이 고치면 됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span> <span class="nx">blogList</span><span class="p">,</span> <span class="nx">blogCount</span><span class="p">,</span> <span class="nx">arrayOfBestPool</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useLoaderData</span><span class="p">()</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 모든 게 끝났습니다.</p>
<p>한번 테스트 결과를 볼까요?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhCUc9TB2Vbm71sM5HP5i7LSNg0Gp-rgCGytyFfMEwNWuSTDHNssF9OOO9u2QtKwmmuncfmxpCMuQBGNZ--aZykzppfKN6kPQB6KRD0V-R2dgoBpzo2OpjSyp9Q_fOr7BxuXM0_n6b4MZhNJefwdO0PXzhn9yPyxMFlCaDR4JtaeFH3arNhzcXeKUp7=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>그리고 실제로 키워드 부분을 클릭해 볼까요?</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiAXMXCW6m3DX0OHQulG28bakjLlLkDVp2X4a8g9tqCyD0qCmjM4oC068MDKUSn9eu9gZeGKoUeCsAX08Ogi-DrGTTrLfQYWIUTI4XxBAOy9czLDJhYjy5smyZ2ybdQ9ZXMfE5iMUF63BlPVZFUWb8ovvsXUX6By-PKXEbhC-tw-HOW5obDrQ6HMQVx=s16000"
         alt="mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack"
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    <figcaption>mycodingshub.github.io-add-page-nav-and-search-form-and-keywords-in-remix-speed-metal-stack</figcaption>
  </figure></p>
<p>위 그림처럼 주소창을 보시면 &ldquo;?q=speed-metal-stack&quot;이라고 검색 조건이 달렸습니다.</p>
<p>베스트 키워드도 결국은 검색인 거죠.</p>
<p>대신에 횟수 중복이 가장 많은 걸 보여주는 겁니다. 저는 총 6개만 보여주게 했습니다.</p>
<hr>
<h2 id="마무리">마무리</h2>
<p>지금까지 페이지 달기, 검색창 달기, 베스트 키워드 보여주기 등 여러가 지를 했는데요.</p>
<p>한 가지 여러분이 해보셔야 할 게 바로 베스트 키워드를 눌렀을 때 검색창에 해당 키워드가 기본 값으로 들어가게 하는 겁니다.</p>
<p>클라이언트 쪽 React 부분이니까 한번 도전해 보시는 것도 좋을 듯합니다.</p>
<p>당연히 &lsquo;all&rsquo; 버튼을 클릭하면 검색창이 초기화되도록 하는 것도 잊지 마시고요.</p>
<p>그럼.</p>

      <div class="tag-list-single">
        <a class="btn btn-light" href="/tags/remix/" role="button">remix</a>
        <a class="btn btn-light" href="/tags/speed-metal-stack/" role="button">speed-metal-stack</a>
        <a class="btn btn-light" href="/tags/page-nav/" role="button">page-nav</a>
        <a class="btn btn-light" href="/tags/search/" role="button">search</a>
        <a class="btn btn-light" href="/tags/keyword/" role="button">keyword</a>
        </div>
      
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-format="autorelaxed"
          data-ad-client="ca-pub-7748316956330968"
          data-ad-slot="4495825428"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </div>
</article>

      
      </div>
    </div>
    
    
<div class="bg-light">
    <section class="section section-related container">
      <div class="row justify-content-center">
        <div class="col-md-12 col-lg-12">
          <h2 class="section-title text-center">Related posts</h2>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2022-08-05-how-i-built-blog-site-using-speed-metal-stack-using-remix-framework/">Remix Speed Metal Stack을 이용한 블로그 사이트 만들기</a></h2>
                  <p>Remix Speed Metal Stack을 활용하여 블로그 사이트 만들고 Fly.io에 배포까지 한 번에!</p>
                  <p>
  <small>August 5, 2022<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>13&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2023-01-16-insert-before-and-after-article-link-to-blog-page/">Remix Speed Metal Stack 블로그에 다음 글 이전 글 링크 추가하기</a></h2>
                  <p>Remix Speed Metal Stack 블로그에 다음 글 이전 글 링크 추가하기, 글 목록 링크도 추가하기</p>
                  <p>
  <small>January 16, 2023<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>6&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2022-07-30-store-data-in-a-cookie-with-sessions-remix/">Remix에서 세션을 이용한 쿠키 사용해 보기</a></h2>
                  <p>Remix 프레임워크에서 세션을 이용한 쿠키 작동 설명</p>
                  <p>
  <small>July 31, 2022<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>3&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          </div>
      </div>
    </section>
    <script src="https://utteranc.es/client.js"
      repo="cpro95/utterances_mycodings_fly_dev"
      issue-term="pathname"
      theme="github-light"
      label="blog-comment"
      crossorigin="anonymous"
    async>
    </script>
  </div>
  
    <footer class="footer text-muted">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/about/">about</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright (c) All Right Reserved.</li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.19b73e0182301dd61c9211c2f6890104740e2eb9eb12fe4ba8d4f31435b22ed6.js"
  integrity="sha256-Gbc&#43;AYIwHdYckhHC9okBBHQOLrnrEv5LqNTzFDWyLtY=">
</script>





<script async
  src="/js/flexsearch.5dd6433c29c3e043627f046054aed58ff3790f58fdb8423f45125bbafdcad335.js"
  integrity="sha256-XdZDPCnD4ENifwRgVK7Vj/N5D1j9uEI/RRJbuv3K0zU=">
</script>
<script async
  src="/js/search-modal.96e662d8f691fe25c859a3437074b485f2d7bed0bca612725028c6cf4322e2f2.js"
  integrity="sha256-luZi2PaR/iXIWaNDcHS0hfLXvtC8phJyUCjGz0Mi4vI=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>
