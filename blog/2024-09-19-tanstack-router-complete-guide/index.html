<!doctype html>
<html lang="ko" data-bs-theme="auto">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://mycodingshub.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js"
  integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg=">
</script>


<link rel="stylesheet" href="/main.86b7305f5a96b7dd3a46fa6277d87b125af3bf13f48c4cfcc269be84fa9e8fb75375d45a5fe9056ce9190644b7a6e5f13f917f12d853ed38bb76d8856898f755.css" integrity="sha512-hrcwX1qWt906Rvpid9h7ElrzvxP0jEz8wmm+hPqej7dTddRaX+kFbOkZBkS3puXxP5F/EthT7Ti7dtiFaJj3VQ==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><title>TanStack Router 완전 정복 - 웹 개발을 위한 최적의 라우터</title>
<meta name="description" content="TanStack Router는 타입 안전한 자바스크립트 기반의 강력한 라우팅 프레임워크입니다. 이 글에서는 Router의 주요 기능과 활용 방법을 상세히 소개하며, 풀스택 웹 애플리케이션 구축에 필요한 정보를 제공합니다." />
<link rel="canonical" href="https://mycodingshub.github.io/blog/2024-09-19-tanstack-router-complete-guide/" />
<meta name="robots" content="index, follow" />

<meta property="og:type" content="article" />
<meta property="og:title" content="TanStack Router 완전 정복 - 웹 개발을 위한 최적의 라우터" />
<meta property="og:description" content="TanStack Router는 타입 안전한 자바스크립트 기반의 강력한 라우팅 프레임워크입니다. 이 글에서는 Router의 주요 기능과 활용 방법을 상세히 소개하며, 풀스택 웹 애플리케이션 구축에 필요한 정보를 제공합니다." />
<meta property="og:url" content="https://mycodingshub.github.io/blog/2024-09-19-tanstack-router-complete-guide/" />
<meta property="og:site_name" content="Home" />
<meta property="og:image" content="https://mycodingshub.github.io/cover.png" />
<meta property="og:locale" content="en" />
<meta property="article:published_time" content="2024-09-19T08:07:34Z" />
<meta property="article:modified_time" content="2024-09-19T08:07:34Z" />
<meta property="article:tag" content="TanStack Router" />
<meta property="article:tag" content="Type Safe" />
<meta property="article:tag" content="Routes" />
<meta property="article:tag" content="Routing" />
<meta property="article:tag" content="라우팅" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="TanStack Router 완전 정복 - 웹 개발을 위한 최적의 라우터" />
<meta name="twitter:description" content="TanStack Router는 타입 안전한 자바스크립트 기반의 강력한 라우팅 프레임워크입니다. 이 글에서는 Router의 주요 기능과 활용 방법을 상세히 소개하며, 풀스택 웹 애플리케이션 구축에 필요한 정보를 제공합니다." />
<meta name="twitter:image" content="https://mycodingshub.github.io/cover.png" />

<meta name="author" content="cpro95@gmail.com" />

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "\"TanStack Router 완전 정복 - 웹 개발을 위한 최적의 라우터\"",
  "description": "\"TanStack Router는 타입 안전한 자바스크립트 기반의 강력한 라우팅 프레임워크입니다. 이 글에서는 Router의 주요 기능과 활용 방법을 상세히 소개하며, 풀스택 웹 애플리케이션 구축에 필요한 정보를 제공합니다.\"",
  "datePublished": "\"2024-09-19T08:07:34Z\"",
  "dateModified": "\"2024-09-19T08:07:34Z\"",
  "author": {
    "@type": "Person",
    "name": "\"cpro95@gmail.com\""
  },
  "image": "\"https://mycodingshub.github.io/cover.png\"",
  "url": "\"https://mycodingshub.github.io/blog/2024-09-19-tanstack-router-complete-guide/\"",
  "publisher": {
    "@type": "Organization",
    "name": "\"Home\""
  }
}
</script>




<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7SBETWEJ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C7SBETWEJ0');
</script>


<script
  async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7748316956330968"
  crossOrigin="anonymous"
></script>


</head>

  
  <body class="single section blog" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<header class="navbar navbar-expand-sm">
  <div class="container-lg">
  <div class="d-flex flex-grow-1 justify-content-between">
    <div class="d-flex flex-row navbar-nav justify-content-between align-items-start gap-2">
    
    <a class="nav-link fw-bold fs-4" href="/">Home</a>

    
    
            <a class="nav-link fs-4  active" href="https://mycodingshub.github.io/blog/" aria-current="true">Blog</a>
          
        
            <a class="nav-link fs-4 " href="https://mycodingshub.github.io/life/">Life</a>
          
        
    </div>
    <div class="d-flex flex-row justify-content-between align-items-center">
      
      
      <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      
      <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <circle cx="10" cy="10" r="7"></circle>
          <line x1="21" y1="21" x2="15" y2="15"></line>
        </svg>
      </button>
      
      <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
        <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
        </svg>
        <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
        </svg>
      </button>
      </div>
        
        
        
        
        </div>
    </div>

    
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search index…</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted d-none"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-lg" role="document">
      <div class="content">
      
        
<article>
  <div class="row justify-content-center">
    <div class="col-md-12 col-lg-12">
      
      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-7748316956330968"
        data-ad-slot="2971373181"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <div class="blog-header">
        <h1>TanStack Router 완전 정복 - 웹 개발을 위한 최적의 라우터</h1>
        <p>
  <small>September 19, 2024<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>18&nbsp;minutes</span></small>
</p>

      </div>
    </div>
      <div class="col-md-12 col-lg-12">
      
      <p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEidjHhbi-YXQlslzNKNuzT4g9k0nolw_oabiO6CySVzJ2LWS3nHgZovp4ILGqeznMZ2yc2zxYeNm7cehj1jIfb_Mq52H_vJX4kOHHV81F1IefAEa7BPcnsVvToCB0O3oRy0P8PvFg1dsn7UR4Ykl3CL-lqVlBSMUiBaL1XqJt4EZ4pOqmmYnGuebDPBsyI"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>안녕하세요?</p>
<p>오늘은 Tanstack Router에 대해 공부해 보겠습니다.</p>
<p><a href="https://tanstack.com/router/latest">TanStack Router</a>는 기본적으로 완벽한 기능을 갖춘 클라이언트 사이드 자바스크립트 애플리케이션 프레임워크입니다.</p>
<p>이 프레임워크는 중첩된 레이아웃과 라우팅의 모든 지점에서 효율적인 데이터 로딩 기능을 갖춘 네비게이션 시스템을 제공하는데요, 무엇보다도, 모든 것이 Type-Safe 하게 작동한다는 점이 가장 큰 장점입니다.</p>
<p>그리고 TanStack Router에 서버 사이드 기능을 추가하는 <a href="https://tanstack.com/start/latest">TanStack Start</a>라는 프로젝트가 현재 진행되고 있어 기대가 큰데요.</p>
<p>이를 통해 서버 사이드 기능을 갖춘 Router를 사용하여 풀스택 웹 애플리케이션을 구축할 수 있게 됩니다.</p>
<p>Remix Framework이 React Router와 통합을 발표했듯이 Router 프레임워크에서 풀스택을 구현하는게 추세가 되었습니다.</p>
<p>또한 TanStack Start는 TanStack Router 위에 서버 레이어를 직접 적용할 예정이어서, 아직 Router를 잘 모르는 분들에게는 지금이 Router를 알아두기에 완벽한 시기인 것 같습니다.</p>
<hr>
<h2 id="설치">설치</h2>
<p>Tanstack Router는 별도의 CLI 프로그램을 제공해줍니다.</p>
<p>터미널 상에서 아래와 같이 실행하면 됩니다.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm create @tanstack/router@latest tanstack-router-test
</span></span><span class="line"><span class="cl">Need to install the following packages:
</span></span><span class="line"><span class="cl">@tanstack/create-router@1.58.4
</span></span><span class="line"><span class="cl">Ok to proceed? <span class="o">(</span>y<span class="o">)</span>
</span></span><span class="line"><span class="cl">? Select a bundler vite
</span></span><span class="line"><span class="cl">✔ dependencies installed
</span></span><span class="line"><span class="cl">✔ project built
</span></span><span class="line"><span class="cl">Success Created tanstack-router-test at /Users/cpro95/Codings/blog/tanstack-router-test
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">now go to your project using:
</span></span><span class="line"><span class="cl">  <span class="nb">cd</span> /Users/cpro95/Codings/blog/tanstack-router-test
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">then</span> start the development server via:
</span></span><span class="line"><span class="cl">  npm run dev
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">➜ <span class="nb">cd</span> tanstack-router-test</span></span></code></pre></div>
  </figure>
</div>
<p>트리 구조를 조금 살펴보면, src 폴더에 main.tsx 파일이 있고, 그 다음으로 routes 폴더가 있습니다.</p>
<p>routes 폴더에서 Tanstack Router의 모든 코드를 작성하면 됩니다.</p>
<p>개발 서버를 돌려보면 브라우저에 아래와 같이 나옵니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiKeL_bqA1gnh4AwX9k5Qzzjanl1iFWHCKzBlPcpzULceQFl8MD9-AcbkjOazovufavfrVos5JPVRI5WtQNK_GA1Qx2ZevYtmgXFMZdmssm7iTntGYTTZYqDtmgD15bE9K6tYUqb8i2BukRVDFMvox1YWsXRhBPIAZi5mAQ6lgoRPsTDrRQofSumvCSJsQ"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>그리고 오른쪽 밑에 Devtools도 보이는데요, 클릭하시면 아래와 같이 보일겁니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiGOhccsawgSr484dSBaNuvVxDkzl_6ECoMY6Y8QXWXkHCiF6g7GLYoD5SelirAErM9pn_v8piPzLH9_drLBrH4hsSIsLSpjqjVVpqQORcN1TyEwMOz9bzJuf7WwM2BQIl4u8xvu9qH5Rlv59z8l7aZvDDjs0-xO2v4xMKlH7LF2ghYvlCoOSq_5C3Pu98"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>이제 개발 준비가 모두 끝났습니다.</p>
<p>본격적인 공부에 들어가 보도록 하겠습니다.</p>
<hr>
<h3 id="the-root-route">The Root Route</h3>
<p>src 폴더 밑에 routes 폴더가 있고 그 밑에 <code>__root.tsx</code> 파일이 있습니다.</p>
<p>보통 루트 레이아웃(root layout)이라고 합니다.</p>
<p>이 파일은 <code>routes</code> 폴더 바로 아래에 위치합니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">Outlet</span><span class="p">,</span> <span class="nx">createRootRoute</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">TanStackRouterDevtools</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@tanstack/router-devtools&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createRootRoute</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="nx">RootComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">RootComponent</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;p-2 flex gap-2 text-lg&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">          <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;font-bold&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="nx">activeOptions</span><span class="o">=</span><span class="p">{{</span> <span class="nx">exact</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">Home</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Link&gt;{&#39; &#39;}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Link</span>
</span></span><span class="line"><span class="cl">          <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/about&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;font-bold&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">About</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">hr</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">Outlet</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">TanStackRouterDevtools</span> <span class="nx">position</span><span class="o">=</span><span class="s2">&#34;bottom-right&#34;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p><code>createRootRoute</code> 함수는 이름에서도 알 수 있듯이 그 역할을 그대로 수행합니다.</p>
<p><code>&lt;Link /&gt;</code> 컴포넌트는 링크를 생성하는 역할로, 사용법이 비교적 직관적입니다.</p>
<p>Router는 현재 활성화된 링크에 <code>active</code> 클래스를 추가해주어 스타일링을 쉽게 할 수 있으며, <code>aria-current=&quot;page&quot;</code> 속성도 함께 추가됩니다.</p>
<p>마지막으로, <code>&lt;Outlet /&gt;</code> 컴포넌트는 이 레이아웃에서 &ldquo;콘텐츠&quot;를 렌더링할 위치를 Router에 알려주는 역할을 합니다.</p>
<p>Tanstack Router 개발에서 가장 중요한 점은, 개발 중인 watch 프로세스가 우리가 추가할 경로를 모니터링하고 <code>routeTree.gen.ts</code> 파일을 유지 관리한다는 것입니다.</p>
<p>이 파일은 경로에 대한 메타데이터(metadata)를 동기화하여 정적 타입(static types)을 구축하는 데 도움을 주며, 이를 통해 안전하게 경로를 다룰 수 있습니다.</p>
<p>위 예제에서는 <code>createRootRoute</code> 함수의 RootComponent를 별도로 만들었는데요.</p>
<p>한꺼번에 만드는 방법도 있습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">React</span> <span class="kr">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">Outlet</span><span class="p">,</span> <span class="nx">createRootRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">TanStackRouterDevtools</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/router-devtools&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createRootRoute</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;p-2 flex gap-2 text-lg&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span>
</span></span><span class="line"><span class="cl">            <span class="na">to</span><span class="o">=</span><span class="s">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">:</span> <span class="s2">&#34;font-bold&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeOptions</span><span class="o">=</span><span class="p">{{</span> <span class="nx">exact</span>: <span class="kt">true</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Home</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span>
</span></span><span class="line"><span class="cl">            <span class="na">to</span><span class="o">=</span><span class="s">&#34;/about&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">:</span> <span class="s2">&#34;font-bold&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">About</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Outlet</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">TanStackRouterDevtools</span> <span class="na">position</span><span class="o">=</span><span class="s">&#34;bottom-right&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>어떤 방식이 더 좋을지는 개발자 마음입니다.</p>
<h3 id="루트-페이지">루트(&rdquo;/&quot;) 페이지</h3>
<p>이제 루트 페이지를 알아봅시다.</p>
<p>Tanstack Router에서는 <code>index.tsx</code> 파일을 사용하여 루트 <code>/</code> 경로를 나타냅니다.</p>
<p>이 파일은 경로 트리의 어느 위치에 있든지 상관없습니다.</p>
<p>개발 서버가 실행 중이라면 다음과 같은 코드가 자동으로 생성되는데요.</p>
<p><code>index.tsx</code> 파일을 지우고 다시 <code>index.tsx</code>파일을 만들면 아래와 같이 자동으로 코드가 채워집니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="o">/!&lt;</span><span class="err">/div&gt;,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div>
  </figure>
</div>
<p>메타 프레임워크(Meta Framework)인 Next.js나 SvelteKit과는 다르게 약간의 보일러플레이트(boilerplate)가 더 많이 필요합니다.</p>
<p>이러한 프레임워크에서는 단순히 React 컴포넌트를 <code>export default</code>하거나, 일반적인 Svelte 컴포넌트를 작성하면 모든 것이 자동으로 작동하지만, TanStack Router에서는 <code>createFileRoute</code> 함수를 호출하고 현재 위치한 경로를 전달해야 합니다.</p>
<p>경로는 Router의 타입 안전성을 위해 필요하지만, 개발 프로세스는 새로운 파일에 대해 이러한 코드를 자동으로 생성하고 경로 값을 동기화해줍니다.</p>
<p>예를 들어, 경로를 다른 것으로 변경하고 파일을 저장하면 자동으로 다시 변경됩니다.</p>
<p>예를 들어 <code>junk</code>라는 폴더를 생성하고 파일을 그곳으로 이동시키면 경로가 <code>/junk/</code>로 변경됩니다.</p>
<p>(junk 폴더로 이동한 후)</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/junk/&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="o">/!&lt;</span><span class="err">/div&gt;,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 다시 routes 폴더 바로 밑으로 이동시킵시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="o">/!</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div>
  </figure>
</div>
<p>위 코드와 같이 &ldquo;/&rdquo; 로 바뀐걸 볼 수 있을 겁니다.</p>
<hr>
<h3 id="라우팅-추가하기">라우팅 추가하기</h3>
<p>이제 라우팅을 더 추가해서 만들어볼까요?</p>
<p>루트 레이아웃에서 &rsquo;tasks&rsquo; 라우팅과 &rsquo;epic&rsquo; 라우팅을 추가해 보겠습니다.</p>
<p>Router는 기본적으로 파일 기반 라우팅(file-based routing)을 사용하지만, 다른 방식과 혼합하여 사용할 수 있습니다.</p>
<p>경로와 일치하는 폴더 안에 파일을 넣을 수도 있고, 개별 파일 이름에 점(.)을 사용하여 경로 계층 구조를 나타낼 수도 있습니다.</p>
<p>플랫 라우트(flat routes)를 잠깐 알아봅시다.</p>
<p><code>tasks.index.tsx</code> 파일을 생성해보겠습니다.</p>
<p>이는 가상의 <code>tasks</code> 폴더 안에 <code>index.tsx</code>를 만드는 것과 동일한데요.</p>
<p>파일 이름만 저장하면 아래와 같이 개발 서버가 기본 라우팅 코드를 제공합니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/tasks/&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="o">/</span><span class="nx">tasks</span><span class="o">/!</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div>
  </figure>
</div>
<p>좀 더 다른 내용을 추가해 보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Link</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/tasks/&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="nx">Index</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">Index</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">tasks</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;Task 1&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;Task 2&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s2">&#34;3&#34;</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;Task 3&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Tasks</span> <span class="nx">page</span><span class="o">!&lt;</span><span class="err">/h3&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">t</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">idx</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">t</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/tasks/$taskId&#34;</span> <span class="nx">params</span><span class="o">=</span><span class="p">{{</span> <span class="nx">taskId</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">id</span> <span class="p">}}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">View</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/tasks/$taskId/edit&#34;</span> <span class="nx">params</span><span class="o">=</span><span class="p">{{</span> <span class="nx">taskId</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">id</span> <span class="p">}}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">Edit</span>
</span></span><span class="line"><span class="cl">            <span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">))}</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiyU-v8LoCG0poAs6WD4023qilCxff8Yl5sbft8EdkXGQmfJfQlngLZRT0fYQBoZI52_Zq8ykOfyTZ-P2pnl-wEfm0FcflTd8mlzUgucYq4VWKx8xwbJNvBdnlkEcB_wohzxUPiKZ93AmmDQB8XrgI7JZun-H6PoISkd92L6J81Iv8kbO9a14EZPgwGq6w"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위 그림과 같이 라우팅이 제대로 작동합니다.</p>
<p>다만 루트 레이아웃에 tasks 라는 상단 네비게이션이 없는데 여러분께서 직접 추가해보십시요.</p>
<p>계속하기 전에 모든 <code>tasks</code> 경로에 대한 레이아웃 파일을 추가해봅시다.</p>
<p>이는 <code>/tasks</code> 아래로 라우팅(routed)되는 모든 페이지에 공통적으로 표시될 내용을 담고 있는데요.</p>
<p>Next.js나 Remix에서는 레이아웃 라우팅이라고 하죠.</p>
<p><code>tasks</code> 폴더가 있다면 <code>route.tsx</code> 파일을 그 안에 넣으면 되지만, 플랫 파일(flat files)을 사용하고 있으므로 <code>tasks.route.tsx</code> 파일을 추가하겠습니다.</p>
<p><code>tasks.route.tsx</code> 이라는 파일을 만들기만 해도 아래와 같이 자동으로 코드가 생성됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/tasks&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Hello</span> <span class="o">/</span><span class="nx">tasks</span><span class="o">!</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 <code>tasks</code> 라우팅의 레이아웃 라우팅을 아래와 같이 수정해 봅시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Outlet</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/tasks&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Tasks</span> <span class="nx">layout</span> <span class="o">&lt;</span><span class="nx">Outlet</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>그리고, 항상 그렇듯이 <code>&lt;Outlet /&gt;</code>을 잊어버리면 안됩니다.</p>
<p>현재 만든건 레이아웃 라우팅이라 하위 라우팅이 속하는 위치를 <code>&lt;Outlet /&gt;</code>으로 지정해야합니다.</p>
<p>그렇지 않으면 해당 경로의 실제 내용이 렌더링되지 않습니다.</p>
<p>다시 말해, <code>xyz.route.tsx</code>는 전체 경로에 대해 렌더링되는 컴포넌트이며, 이는 기본적으로 레이아웃(layout) 역할을 하지만 Router는 이를 경로(route)라고 부릅니다.</p>
<p>반면 <code>xyz.index.tsx</code>는 해당 경로의 개별 경로 파일입니다.</p>
<p>이제 렌더링된 모습을 확인해보겠습니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjr7f8Sx6TzhTn1RcfEg-egulNvhIAj-MKwycgJFHmH2q_EqjlaF3dUSuTHjvSkbDE5lrDwl2EuJhQcabXzbaP1X7sw1YzSMm0RsX91ppwKAvC2LoSvbnwr14saZwISuGj0tiOHMh9DQGANFOK8z6TWLC-j5Sd6H-DC3JBJUMOJ_Bz4TeNwHkyaOnfvBGs"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위 그림과 같이 레이아웃 라우팅이 제대로 작동하고 있음을 알 수 있습니다.</p>
<p>루트 레이아웃의 네비게이션 링크도 바꿔는데 참고 바라며,</p>
<p>그 아래로는 <code>Tasks layout</code>이 나타나고, 그 아래는 작업 페이지의 내용이 표시됩니다.</p>
<p>아까 <code>tasks.index.tsx</code> 파일을 보시면 <code>&lt;Link&gt;</code> 태그 아래 라우팅 파라미터를 추가했는데요.</p>
<p>즉, <code>/tasks/123</code>과 <code>/tasks/123/edit</code> 경로 같은겁니다.</p>
<p>여기서 <code>123</code>은 해당 작업의 <code>taskId</code>를 나타냅니다.</p>
<p>TanStack Router는 경로 내의 변수를 경로 매개변수(path parameters)로 표현하며, 이는 달러 기호($)로 시작하는 경로 세그먼트(path segments)로 나타냅니다.</p>
<p>따라서 <code>tasks.$taskId.index.tsx</code>와 <code>tasks.$taskId.edit.tsx</code> 파일을 추가해보겠습니다.</p>
<p>전자는 <code>/tasks/123</code>으로 라우팅되고, 후자는 <code>/tasks/123/edit</code>으로 라우팅됩니다.</p>
<p>이제 <code>tasks.$taskId.index.tsx</code> 파일을 살펴보며 전달되는 경로 매개변수를 어떻게 가져오는지 알아보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Link</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/tasks/$taskId/&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span> <span class="nx">taskId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/tasks&#34;</span><span class="o">&gt;</span><span class="nx">Back</span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">View</span> <span class="nx">task</span> <span class="p">{</span><span class="nx">taskId</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p><code>Route.useParams()</code> 객체는 우리의 매개변수를 반환합니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjNFEf3b5o0YZVD8MB-Y5Dr2q4BDh2hFi-gmEFzEymnR2O8gzL4Afb5VfQk-TJKIlvM_Im28UqYwn2VWE8RgUR90CUYWtvecW6gQ_0_iBymwxt5bkm-iSROzLTyhlzmtefoSI3B32gbXHR8bgPbE4sCMHZYqDUMdbB3RK6YhInLivtZVJOjdPJFAt6ojYs"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>실제로 브라우저를 보시면 제대로 작동하는 걸 볼 수 있습니다.</p>
<p>다른 모든 라우팅 프레임워크과 다른 흥미로운 점은 이 매개변수가 정적으로 타입이 지정되어 있다는 것입니다.</p>
<p>Router는 이 경로에 존재하는 매개변수(상위 경로에서 상속된 매개변수 포함)를 알고 있으므로, 자동 완성뿐만 아니라 잘못된 경로 매개변수를 사용할 경우 TypeScript 오류를 발생시킵니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">Link</span> <span class="nx">to</span><span class="o">=</span><span class="s2">&#34;/tasks/$taskId&#34;</span> <span class="nx">params</span><span class="o">=</span><span class="p">{{</span> <span class="nx">taskId</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">id</span> <span class="p">}}</span><span class="o">&gt;</span><span class="nx">View</span><span class="o">&lt;</span><span class="err">/Link&gt;</span></span></span></code></pre></div>
  </figure>
</div>
<p>위 코드에서 <code>params</code>를 생략하거나 <code>taskId</code> 이외의 값을 지정하면 오류가 발생합니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgs3ELdO9hNHIQigkdKZM8YEuwa7z1WkQ8fYmfxy3MGY82fAinGnEDmyIakef2VCSvExaQqeai0OMb1QUt3Wp60UXaVBJQjm0FgXeFq9u4aGPK8xOLYdJd67QffeUfGlaG2Vmt8aogHGjYCDhMWHFzRALYfBa2fnc87qaKDBGFWwVqmcuxu_OLaNHIJG2g"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위 그림과 같이 <code>params</code>의 항목을 잘못 기입하면 타입스크립트가 오류를 발생시킵니다.</p>
<p>그리고 아래 그림과 같이 Typescript가 제대로 작동함을 알 수 있습니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEi2M-UXp5VXAgeDMntTtv8le983NtUPDGbkGprvh6hgxT18d_RWRxSMD1sb-FTKaA6sYv_pQ0WH6Xaej-mo3HWyyDcxAViVqqQLSdwKRXM8d09QtT6CDMFS9VCE7o53mPNyB_Oy3Cs_ZRuANBb_gopIBnOOtLjiTzAajT1wFx9BTCLBqKR50pwhEb4el90"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<hr>
<h2 id="고급-라우팅-규칙">고급 라우팅 규칙</h2>
<p>이제 Tanstack Router의 고급 라우팅 규칙을 알아보겠습니다.</p>
<p>사실 잘 사용되지는 않지만, 알고 있으면 유용합니다.</p>
<p>개념적으로 우리는 두 가지 계층 구조를 가지고 있습니다.</p>
<p>URL 경로와 컴포넌트 트리(component tree)가 그건데요.</p>
<p>지금까지 이 두 가지는 1:1로 일치했는데요.</p>
<ul>
<li>
<p><strong>URL 경로:</strong></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>/tasks/123/edit</code></pre>
  </figure>
</div>
</li>
<li>
<p><strong>렌더링(Rendered):</strong></p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>root route -&gt; tasks route layout -&gt; edit task path</code></pre>
  </figure>
</div>
</li>
</ul>
<p>URL 계층 구조와 컴포넌트 계층 구조가 완벽하게 일치했지만, 반드시 그럴 필요는 없습니다.</p>
<p>재미 삼아, <code>/edit</code> 경로에서 메인 <code>tasks</code> 레이아웃 파일을 제거해보겠습니다.</p>
<p>즉, <code>/tasks/123/edit</code> URL <code>tasks.route.tsx</code> 파일은 렌더링되지 않게 하겠습니다.</p>
<p>이렇게 하기 위해 <code>tasks.$taskId.edit.tsx</code> 파일 이름을 <code>tasks_.$taskId.edit.tsx</code>로 변경합니다.</p>
<p><code>tasks</code>가 <code>tasks_</code>로 변경되었음을 유의하십시요.</p>
<p>코드는 아래와 같습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Link</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/tasks/$taskId/edit&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span> <span class="nx">taskId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col gap-3 p-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/tasks&#34;</span><span class="p">&gt;</span><span class="nx">Back</span><span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Edit</span> <span class="nx">task</span> <span class="p">{</span><span class="nx">taskId</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>여전히 <code>tasks</code>는 URL에 남아 있으므로 Tanstack Router는 URL을 기반으로 <code>edit.tsx</code> 파일을 찾을 수 있습니다.</p>
<p>그러나 <code>tasks_</code>로 이름을 변경함으로써 컴포넌트 트리(component tree)에서 레이아웃 컴포넌트가 렌더링되지 않게 됩니다.</p>
<p>이제 다음과 같은 결과를 얻습니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgbtcuz1pFqun8PwCl0K7bkkoOmXUQl3GEruIm0OChtncg6l2SlDlMlFFSq0nSIpuw7rZsuklNO7T1Oh2_ru4-eomScYJGH6WY_oCdRDj0bVHEmyJtqJVK2O9JH7r0Z-LI97lqtohSEdcP4khn1p0AVefn9YP0E19dDex1vQhqmnyEqcDxa9ZIVHL9cN2I"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>레이아웃 라우팅의 내용이 안보입니다.</p>
<p>이제 파일이름을 다시 <code>tasks.$taskId.edit.tsx</code>으로 바꾸면 다음과 같이 레이아웃 라우팅이 잘 보입니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEibgp1QW78dULKXUtXFH0qWB0Lb2F_71gBTInVq90mjFi27F5apojkE9Y_fGh22is1Ff7Yjp3zntGxWbwIsCHt8HevMFFUNN9YvDp77EcaQPxjBhFGxN33KrctNUXGe16Rrm5THEkRBdS42txDbzUUhu211o8mHJnvjStqyFmtPqflaPSvvWr7qzPNBJPI"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>어떤가요?</p>
<hr>
<h3 id="고급-라우팅-기법-2">고급 라우팅 기법 2</h3>
<p>지금까지와는 반대로 생각해 볼 수 있는데요.</p>
<p>지금까지는 레이아웃 라우팅을 제외시키는 라우팅을 구현했었는데요.</p>
<p>반대로 레이아웃 라우팅을 특별한 레이아웃 라우팅으로 구현하려면 어떻게 해야 할까요?</p>
<p>예를 들어, <code>tasks_.$taskId.edit.tsx</code> 파일을 생성하면 <code>/tasks/1/edit</code>을 방문했을 때 커스텀 레이아웃이 렌더링되지만 URL에는 영향을 주지 않습니다.</p>
<p>대신 특별한 레이아웃을 적용시키고 싶다면 일단 특별 레이아웃 라우팅인 <code>_taskEdit.tsx</code> 파일을 생성해보겠습니다.</p>
<p>파일이름을 저장하면 자동으로 생성된 코드를 아래 코드로 바꿔 놓읍시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Outlet</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/_taskEdit&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Special</span> <span class="nx">Task</span> <span class="nx">Edit</span> <span class="nx">Layout</span> <span class="o">&lt;</span><span class="nx">Outlet</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 <code>tasks_.$taskId.edit.tsx</code> 파일을 <code>_taskEdit.tasks_.$taskId.edit.tsx</code>로 변경하면, <code>/tasks/1/edit</code>을 방문했을 때 URL에는 영향을 주지 않으면서 커스텀 레이아웃이 렌더링됩니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgakjZ7QJM2ZLR-0y9FDPwIhPfP-CmIalGSc9utuX9JLjidXFwnUoQNlkn-WGMxJQeSQpWi7Tg6j_-ZF6Aw6F2m7viw5HxkMFaW528H-qnK-8F2KbARlyMEoE2t5vZxR661_qUfiQeb5afaT0Ggw63WKySmC_llHVJdMYr1FWtxbU0ajtq043qIR0dKcCw"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위 그림과 같이 특별 레이아웃 라우팅이 적용된 걸 볼 수 있을겁니다.</p>
<p>이 기능은 상당히 고급기능으로 한번 익혀두면 유용하게 사용할 수 있을 겁니다.</p>
<h2 id="디렉토리-기반-라우팅">디렉토리 기반 라우팅</h2>
<p>파일 이름에 점을 사용하는 대신 디렉토리에 계층 구조를 이용해서 라우팅을 구현할 수 있습니다.</p>
<p>저는 보통 디렉토리 기반 라우팅을 선호하지만, 간단한 구조의 애플리케이션이면 파일 이름에 점을 사용하는 플랫 라우팅도 아주 좋은 선택지가 될 수 있습니다.</p>
<p>모든지 개발자가 원하는 걸 사용하면 됩니다.</p>
<p>디렉토리 라우팅은 간단한 구조라서 아까 만들기로 한 <code>/epic</code> 라우팅을 예로 들어 설명해 보겠습니다.</p>
<p>플랫 라우팅이었다면 아마도 <code>epic.index.tsx</code>와 <code>epic.route.tsx</code> 파일을 만들면 되는데요.</p>
<p>디렉토리 기반 라우팅은 대신 <code>epic/index.tsx</code>와 <code>epic/route.tsx</code> 파일을 사용합니다.</p>
<p>역시 동일한 규칙이 적용됩니다.</p>
<p>단순하게 파일 이름의 점을 슬래시로 교체하면 그게 바로 디렉토리 기반 라우팅이 되는 겁니다.</p>
<p>epic 폴더를 만들고 각각 <code>index.tsx</code> 파일과 <code>route.tsx</code>파일을 아래와 같이 만듭니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Link</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/epic/&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span>: <span class="kt">Index</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">Index() {</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">epics</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Epic 1&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Epic 2&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Epic 3&#39;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;p-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;text-red-500&#34;</span><span class="p">&gt;</span><span class="nx">Epics</span> <span class="nx">page</span><span class="o">!</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col gap-2 p-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">epics</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">e</span><span class="p">,</span> <span class="nx">idx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">div</span> <span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">idx</span><span class="p">}</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex gap-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{</span><span class="nx">e</span><span class="p">.</span><span class="nx">title</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/epic/$epicId&#34;</span> <span class="na">params</span><span class="o">=</span><span class="p">{{</span> <span class="nx">epicId</span>: <span class="kt">e.id</span> <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">View</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/epic/$epicId/edit&#34;</span> <span class="na">params</span><span class="o">=</span><span class="p">{{</span> <span class="nx">epicId</span>: <span class="kt">e.id</span> <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="nx">Edit</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">))}</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Outlet</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@tanstack/react-router&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s1">&#39;/epic&#39;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;p-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">Epics</span> <span class="nx">layout</span> <span class="p">&lt;</span><span class="nt">Outlet</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span></span></span></code></pre></div>
  </figure>
</div>
<p>그리고 메인 루트 레이아웃에 네비게이션도 업데이트 합니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="o">*</span> <span class="kr">as</span> <span class="nx">React</span> <span class="kr">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">Outlet</span><span class="p">,</span> <span class="nx">createRootRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">TanStackRouterDevtools</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/router-devtools&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createRootRoute</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;p-2 flex gap-2 text-lg&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span>
</span></span><span class="line"><span class="cl">            <span class="na">to</span><span class="o">=</span><span class="s">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">:</span> <span class="s2">&#34;font-bold&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeOptions</span><span class="o">=</span><span class="p">{{</span> <span class="nx">exact</span>: <span class="kt">true</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Home</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;{</span><span class="s2">&#34; &#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span>
</span></span><span class="line"><span class="cl">            <span class="na">to</span><span class="o">=</span><span class="s">&#34;/about&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">:</span> <span class="s2">&#34;font-bold&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">About</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span>
</span></span><span class="line"><span class="cl">            <span class="na">to</span><span class="o">=</span><span class="s">&#34;/tasks&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">:</span> <span class="s2">&#34;font-bold&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Tasks</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">Link</span>
</span></span><span class="line"><span class="cl">            <span class="na">to</span><span class="o">=</span><span class="s">&#34;/epic&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">activeProps</span><span class="o">=</span><span class="p">{{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">className</span><span class="o">:</span> <span class="s2">&#34;font-bold&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}}</span>
</span></span><span class="line"><span class="cl">          <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">Epic</span>
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Outlet</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">TanStackRouterDevtools</span> <span class="na">position</span><span class="o">=</span><span class="s">&#34;bottom-right&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEg22hmiYUhcE_YWdi1tpOAluaijfaBC7A3hFvCmY7Gmil8QpTpCm4gd14Y6yy_p9e7aHegsLwZ_hEmRgYTWJn_7To3qQsCaWYLjpavatsbXXU_TxDdGvy88cD5F_Jgg1vXCu1M-2EgBy-3kwqAUvja64EtpY2EjvgPl3bLkviNksRrp4kezbWtL2Q5umVw"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위와 같이 라우팅이 제대로 구현되고 있습니다.</p>
<p><code>epic/index.tsx</code> 파일에 보시면 <code>epicId</code>가 또 파라미터로 구현되어 있습니다.</p>
<p>이제 이 epicId 파리미터를 이용한 View와 Edit를 구현해야 합니다.</p>
<p>먼저, View 로직입니다.</p>
<p>당연히 epic 폴더 밑에 $epicId 폴더를 만들고 그 밑에 <code>index.tsx</code> 파일을 만들면 이 파일이 URL 주소로 보자면 <code>/epic/1</code> 처럼 작동하게 됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span><span class="p">,</span> <span class="nx">Link</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/epics/$epicId/&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span> <span class="nx">epicId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col gap-3 p-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Viewing</span> <span class="nx">epic</span> <span class="p">{</span><span class="nx">epicId</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">Link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/epic/$epicId/milestones&#34;</span> <span class="na">params</span><span class="o">=</span><span class="p">{{</span> <span class="nx">epicId</span> <span class="p">}}</span> <span class="na">search</span><span class="o">=</span><span class="p">{{</span> <span class="nx">search</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="nx">page</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">tags</span><span class="o">:</span> <span class="p">[]</span> <span class="p">}}&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">View</span> <span class="nx">milestones</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">Link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>이중 파라미터를 위해 milestones이라는 파라미터를 또 지정했습니다.</p>
<p>일단은 epic 라우팅에서 Edit까지 완성시켜 보겠습니다.</p>
<p><code>/epic/$epicId/edit.tsx</code> 파일을 만들면 되겠죠.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/epic/$epicId/edit&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span> <span class="nx">epicId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;p-3&#34;</span><span class="p">&gt;</span><span class="nx">Edit</span> <span class="nx">epic</span> <span class="p">{</span><span class="nx">epicId</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhlZwKdZH2Z6L1-3B1Gui4_Lul0B9rQkRCCJsJhBxDLjnHjNyvQR9plDvrK1-vtZRJH8JWA0q8EFEQyGN_Ka2hxxLvey7r9O__7uVr_yXfHQOh9VvWfrxAC12u360NQwcoxZEuoiF4uXP_Z9Q1cpxLghAVizfkTst4Ctf2pBPVnVo9I5BRQbsDUWkHj_7o"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhcVyoXZOpLb-gWr58vn4pOiyMtq1tlV64lBsqrDGG8unckpXce-BVtkieQyQ61ZJ5WCidYh7zqERgDiiRyUMogllC_CRrUVKmcHm1DNfOVomqI_N8Dg1vjgo2QlyQoLx-gn73iltnzbft5lUpDGKW7TN9JdwKeOCh4V8lG6EmJX1YsPTGtbQvnhybVDeg"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위 그림을 보시면 차례대로 View, Edit 라우팅이 구현될 걸 볼 수 있습니다.</p>
<p>여기서 <code>$milestoneId</code> 관련한 코드를 추가로 만들어 보겠습니다.</p>
<p><code>/epic/1</code> 주소에서 &lsquo;View milestone&rsquo; 링크를 누르면 주소창에 아래와 같이 나오는데요.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">http://localhost:3001/epic/1/milestones?search<span class="o">=</span><span class="p">&amp;</span><span class="nv">page</span><span class="o">=</span>1<span class="p">&amp;</span><span class="nv">tags</span><span class="o">=</span>%5B%5D</span></span></code></pre></div>
  </figure>
</div>
<p>자세히 보시면 이제 우리는 검색 매개변수(search params) 또는 쿼리스트링(querystrings)을 다뤄야 하네요.</p>
<h3 id="검색-매개변수search-params-다루기">검색 매개변수(Search Params) 다루기</h3>
<p>아마도 지금 주제가 웹 개발의 가장 귀찮은 측면 중 하나일 것입니다.</p>
<p>다름이 아니라 검색 매개변수(search params) 또는 쿼리스트링(querystrings)입니다.</p>
<p>이는 URL의 <code>?</code> 뒤에 오는 부분으로, 예를 들어 <code>/tasks?search=foo&amp;status=open</code>과 같은 형식입니다.</p>
<p>보통 웹 표준인 <code>URLSearchParams</code>는 다루기 번거로울 수 있으며, 다른 프레임워크들도 보통 별다른 개선 유틸리티를 제공하지 않아 비타입화된 속성 집합을 제공하거나 해서 최소한의 도움만을 기대할 수 있는데요.</p>
<p>하지만 TanStack Router는 검색 매개변수를 관리하기 위한 편리하고 완전한 기능을 제공하며, 이는 타입 안전성(type-safe)도 보장됩니다.</p>
<p>자세히 알아볼까요?</p>
<p>공식문서이자 전체 내용을 보고 싶으시면 <a href="https://tanstack.com/router/docs">여기</a>를 참조하시면 됩니다.</p>
<p>epic의 milestones 경로인 <code>/epic/$epicId/milestones</code>에 검색 매개변수 지원을 추가해보겠습니다.</p>
<p>일단 View 라우팅을 구현해야 해서 <code>/epic/$epicId</code> 폴더 밑에 milestones 폴더를 만들고 그 밑에 index.tsx 파일을 만듭니다.</p>
<p>먼저, 코드를 보면 조금 복잡한데요.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createFileRoute</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParams</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/epic/$epicId/milestones/&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">validateSearch</span><span class="p">(</span><span class="nx">search</span>: <span class="kt">Record</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">,</span> <span class="na">unknown</span><span class="p">&gt;)</span><span class="o">:</span> <span class="nx">SearchParams</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">page</span>: <span class="kt">Number</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">page</span> <span class="o">??</span> <span class="s2">&#34;1&#34;</span><span class="p">)</span> <span class="o">??</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">search</span><span class="o">:</span> <span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">search</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">)</span> <span class="o">||</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">tags</span>: <span class="kt">Array.isArray</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">tags</span><span class="p">)</span> <span class="o">?</span> <span class="nx">search</span><span class="p">.</span><span class="nx">tags</span> <span class="o">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">({})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span> <span class="nx">epicId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="p">{</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Route</span><span class="p">.</span><span class="nx">useSearch</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col gap-3 p-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Epic</span><span class="o">:</span> <span class="p">{</span><span class="nx">epicId</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Search</span> <span class="nx">values</span> <span class="k">in</span> <span class="nx">route</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;{</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">})}&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Current</span> <span class="nx">search</span> <span class="nx">values</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>검색 매개변수에 대해서는 <code>validateSearch</code>를 사용합니다.</p>
<p>이는 이 경로가 지원하는 검색 매개변수가 무엇인지, 그리고 현재 URL에 있는 값을 어떻게 검증할지를 Router에 알려주는 역할을 합니다.</p>
<p>결국 사용자는 URL에 원하는 대로 무엇이든 입력할 수 있으므로, 잠재적으로 유효하지 않은 값을 받아서 유효한 값으로 변환하는 것은 개발자의 책임입니다.</p>
<p>먼저, 검색 매개변수의 타입(type)을 정의해보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParams</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 <code>validateSearch</code> 메서드를 살펴보겠습니다.</p>
<p>이 메서드는 사용자가 URL에 입력한 것을 나타내는 <code>Record&lt;string, unknown&gt;</code>을 받아들여, 우리가 정의한 <code>SearchParams</code> 타입에 맞는 객체를 반환합니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nx">createFileRoute</span><span class="p">(</span><span class="s2">&#34;/epics/$epicId/milestones/&#34;</span><span class="p">)({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">validateSearch</span><span class="p">(</span><span class="nx">search</span>: <span class="kt">Record</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">,</span> <span class="na">unknown</span><span class="p">&gt;)</span><span class="o">:</span> <span class="nx">SearchParams</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">page</span>: <span class="kt">Number</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">page</span> <span class="o">??</span> <span class="s2">&#34;1&#34;</span><span class="p">)</span> <span class="o">??</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">search</span><span class="o">:</span> <span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">search</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">)</span> <span class="o">||</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">tags</span>: <span class="kt">Array.isArray</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">tags</span><span class="p">)</span> <span class="o">?</span> <span class="nx">search</span><span class="p">.</span><span class="nx">tags</span> <span class="o">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">component</span><span class="o">:</span> <span class="p">({})</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p><code>URLSearchParams</code>와 달리, 우리는 문자열(string) 값에만 국한되지 않습니다.</p>
<p>객체나 배열도 저장할 수 있으며, TanStack Router가 이를 직렬화(serialize) 및 역직렬화(deserialize)까지 해줍니다.</p>
<p>더 나아가, 커스텀 직렬화(custom serialization) 메커니즘도 지정할 수 있습니다.</p>
<p>실제 애플리케이션에서는 <code>Zod</code>와 같은 더 정교한 검증 메커니즘을 사용하는 것이 좋습니다.</p>
<p>실제로 Tanstack Router는 <code>Zod</code>를 포함하여 다양한 어댑터(adapter)를 기본적으로 제공하는데요, 검색 매개변수에 대한 문서는 <a href="https://tanstack.com/router/docs/search-params">여기</a>를 참조하세요.</p>
<p>이제 검색 매개변수 없이 이 경로로 직접 접속했을 때 어떤 일이 일어나는지 살펴보겠습니다. 예를 들어,</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>http://localhost:3001/epic/1/milestones</code></pre>
  </figure>
</div>
<p>로 접속하면 Tanstack Router는 (리다이렉트하지 않고) 다음과 같이 URL을 대체합니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <pre tabindex="0"><code>http://localhost:3001/epic/1/milestones?page=1&amp;search=&amp;tags=%5B%5D</code></pre>
  </figure>
</div>
<p>TanStack Router는 우리의 검증 함수를 실행하여 유효한 검색 매개변수로 URL을 대체했습니다.</p>
<p><code>Route.useParams</code> 메서드를 여러 번 사용했는데, 검색 매개변수에 대해서는 <code>Route.useSearch</code>를 사용할 수 있습니다.</p>
<p>하지만 이번에는 조금 다른 방법을 시도해보겠습니다. 이전에는 모든 것을 같은 라우트 파일(route file)에 넣었기 때문에 같은 렉시컬 스코프(lexical scope)에서 Route 객체를 직접 참조할 수 있었지만, 별도의 컴포넌트를 만들어 검색 매개변수를 읽고 업데이트해보겠습니다.</p>
<p><code>MilestoneSearch.tsx</code> 컴포넌트를 추가해 보겠습니다.</p>
<p>src 폴더 밑에 app 폴더를 만들고 <code>MilestoneSearch.tsx</code> 파일을 저장하면 됩니다.</p>
<p>자바스크립트이기 때문에 단순하게 라우트 파일(route file)에서 Route 객체를 직접 임포트(import)할 수 있다고 생각할 수 있지만, 이는 순환 의존성(circular dependency)을 일으킬 수 있어 위험합니다.</p>
<p>번들러(bundler)에 따라 다르겠지만, 문제가 발생할 수 있습니다.</p>
<p>다행히도 Router는 이를 처리할 수 있는 직접적인 API인 <code>getRouteApi</code>를 제공합니다. 이를 통해 (정적 타입이 지정된) 경로(route)를 전달하면 올바른 라우트 객체를 반환받을 수 있습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">route</span> <span class="o">=</span> <span class="nx">getRouteApi</span><span class="p">(</span><span class="s2">&#34;/epic/$epicId/milestones/&#34;</span><span class="p">);</span></span></span></code></pre></div>
  </figure>
</div>
<p>먼저, <code>MilestoneSearch.tsx</code> 파일입니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getRouteApi</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="kr">type</span> <span class="p">{</span> <span class="nx">FC</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">route</span> <span class="o">=</span> <span class="nx">getRouteApi</span><span class="p">(</span><span class="s2">&#34;/epic/$epicId/milestones/&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">MilestoneSearch</span>: <span class="kt">FC</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">epicId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">useSearch</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;flex flex-col gap-3&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Epic</span> <span class="p">{</span><span class="nx">epicId</span><span class="p">}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Search</span> <span class="nx">values</span> <span class="k">in</span> <span class="nx">another</span> <span class="nx">component</span><span class="o">:</span><span class="p">{</span><span class="s2">&#34; &#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;{</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">})}&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEggx58biqCPq_lmTp1iTuKvAmw64YURtuDWlDL4vYMk16DgsqsR-qto1qgh6D0dO03dDkeaL0gHd2nDaMtOar1qO4Q3ysHrKI3SlLPhBFLxqUbKsQWE2J7E1Mr0-h9Wq5t4mucZKCOM88sf5Z9AfGCOg69POgiieLqJnRxIUSNAJHNq4HbcCNBDlDu7eJU"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>실행결과는 위 그림과 같습니다.</p>
<p>이제 이 라우트 객체에 대해 <code>useSearch</code>를 호출하여 타입이 지정된 결과를 얻을 수 있습니다.</p>
<h2 id="usenavigate-사용">useNavigate 사용</h2>
<p>좀 더 고급 사용법으로 들어가서, 먼저 <code>useNavigate</code> 훅(hook)을 사용해 보겠습니다.</p>
<p>일단 아래와 같이 현재 위치를 지정해서 usenavigate 훅을 navigate라는 변수에 저장했습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">navigate</span> <span class="o">=</span> <span class="nx">useNavigate</span><span class="p">({</span> 
</span></span><span class="line"><span class="cl">  <span class="nx">from</span><span class="o">:</span> <span class="s2">&#34;/epic/$epicId/milestones/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 결과값을 사용해 현재 위치와 동일한 곳으로 이동하면서 검색 매개변수를 업데이트할 수 있습니다.</p>
<p>TypeScript는 누락된 값이 있다면 오류를 발생시킵니다. 편의상, Router는 현재 값을 전달하므로 새로운 값을 추가하거나 덮어쓰기가 쉽습니다. 예를 들어 페이지를 올리려면 다음과 같이 할 수 있습니다.</p>
<p>이제 아래와 같이 <code>MilestoneSearch.tsx</code> 파일을 고쳐봅시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">getRouteApi</span><span class="p">,</span> <span class="nx">useNavigate</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">type</span> <span class="p">{</span> <span class="nx">FC</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">route</span> <span class="o">=</span> <span class="nx">getRouteApi</span><span class="p">(</span><span class="s2">&#34;/epic/$epicId/milestones/&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">MilestoneSearch</span><span class="o">:</span> <span class="nx">FC</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">epicId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">useParams</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">{</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">useSearch</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">navigate</span> <span class="o">=</span> <span class="nx">useNavigate</span><span class="p">({</span> <span class="nx">from</span><span class="o">:</span> <span class="s2">&#34;/epic/$epicId/milestones/&#34;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">pageDown</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigate</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">search</span><span class="o">:</span> <span class="p">(</span><span class="nx">prev</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">page</span><span class="o">:</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">page</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">pageUp</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigate</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">search</span><span class="o">:</span> <span class="p">(</span><span class="nx">prev</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">page</span><span class="o">:</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">page</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;flex flex-col gap-3&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Epic</span> <span class="p">{</span><span class="nx">epicId</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">Search</span> <span class="nx">values</span> <span class="k">in</span> <span class="nx">another</span> <span class="nx">component</span><span class="o">:</span><span class="p">{</span><span class="s2">&#34; &#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">})}</span><span class="o">&lt;</span><span class="err">/pre&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;flex gap-2&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">page</span> <span class="o">==</span> <span class="mi">1</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2&#34;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">pageDown</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">Page</span> <span class="nx">Down</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2&#34;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">pageUp</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">Page</span> <span class="nx">Up</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 브라우저에서 Page Up 버튼과 Page Down 버튼을 눌러보면 브라우저에서 $epicId 값이 올라가거나 내려가는 걸 볼 수 있을 겁니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEhMhAgZen5ZaO-tZHc5yuQSD0uEJPac7UTYoLt1Pz_NQBGbCbiNrmb86u026vNQxzsUnFUpEgz85zuhV5DZ15sqRxmdiLpI0QHwMvbTzcPUCKagVl6Xnhti_8T4DaQ5IrUwT-apSv8dc9pe3_GvCDPVJZ5BIJ8d2JTqmYI2LG8-1ishpvKeFsdCTXB8Meg"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>브라우저에서 보시면 page 값이 올라가는걸 볼 수 있을 겁니다.</p>
<hr>
<p>여기서 더 나아가 search 값과 tags 배열을 업데이트 하는 로직을 구현해 보겠습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">tag1</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span> <span class="nx">as</span> <span class="nx">unknown</span> <span class="nx">as</span> <span class="nx">HTMLInputElement</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">tag2</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span> <span class="nx">as</span> <span class="nx">unknown</span> <span class="nx">as</span> <span class="nx">HTMLInputElement</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">tag3</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span> <span class="nx">as</span> <span class="nx">unknown</span> <span class="nx">as</span> <span class="nx">HTMLInputElement</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">searchRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span> <span class="nx">as</span> <span class="nx">unknown</span> <span class="nx">as</span> <span class="nx">HTMLInputElement</span><span class="p">);</span></span></span></code></pre></div>
  </figure>
</div>
<p>먼저, Form 요소를 이용하기 위해 useRef를 위와 같이 정의하겠습니다.</p>
<p>UI부분은 아래 코드를 추가하면 됩니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Tags</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;flex gap-2&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2 w-13&#34;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">tag1</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2 w-13&#34;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">tag2</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2 w-13&#34;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">tag3</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Search</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;flex gap-2&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text&#34;</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2 w-13&#34;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">searchRef</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&#34;border p-2&#34;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">updateSearchParams</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Update</span>
</span></span><span class="line"><span class="cl">  <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/div&gt;</span></span></span></code></pre></div>
  </figure>
</div>
<p>일단 위와 같이 하면 에러가 나는데, updateSearchParams 함수가 없다고 나옵니다.</p>
<p>일단은 설명은 나중에 하고 updateSearchParams 함수를 아래와 같이 pageUp 함수 다음에 넣읍시다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">updateSearchParams</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">tags</span>: <span class="kt">any</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tag1</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tag2</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tag3</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">].</span><span class="nx">filter</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">tags</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tags</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">navigate</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">search</span><span class="o">:</span> <span class="p">(</span><span class="nx">prev</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">search</span>: <span class="kt">searchRef.current.value</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 에러없이 브라우저에 아래와 같이 나올겁니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEguQj8LtGrniN7UH0kZ4zdR0CnrVZilsQgTrSCJUGftLP09ZZHBlzE7tseLBggIGlYG-Uxe1KGGeB_QIPzOC1TG7MUw_DmGh4qIK1IQJ_HNlYyr-VWzpNfyVIkHyvVTkCO7Faszy4hN9nICDGZTcMzdg3P42tGssZVP1kL4x5s2-GvLik8JI7SttjWAehQ"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>tag와 search 값에 아무거나 넣고 update 버튼을 누르면 브라우저가 업데이트 될건데요.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEgLKXz5Oi6WPWc2XKDsK1fM47TUYyyEZeLLyIJawP0jYc0WsoGOpfXmE4pR6JB3fBV9EsK4yXT-8XzquuRM1I0E0yKFnoZGaU2ySKw59kEZZsmEM5t2udVuX62fRrVUOceWvm6VOXaPV_wlmLr1NZraMxNnRZe-jd3OWYxQ6L9s_1ECNVpD4qDVViWM0fI"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<p>위 그림과 같이 나옵니다.</p>
<p>이렇게 하면 URL은 다음과 같이 표시됩니다:</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">/epic/1/milestones?search<span class="o">=</span>tan<span class="p">&amp;</span><span class="nv">page</span><span class="o">=</span>16<span class="p">&amp;</span><span class="nv">tags</span><span class="o">=</span>%5B<span class="s2">&#34;1&#34;</span>%2C<span class="s2">&#34;2&#34;</span>%2C<span class="s2">&#34;3&#34;</span>%5D</span></span></code></pre></div>
  </figure>
</div>
<p>search 값과 tag의 배열이 자동으로 직렬화됩니다.</p>
<p>이 모든 로직이 아래 함수인 updateSearchParams 함수때문인데요.</p>
<p>이 함수에서는 아까 얘기했듯이 useNavigate 훅을 이용해서 값을 업데이트 시키고 있습니다.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">updateSearchParams</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kd">let</span> <span class="nx">tags</span>: <span class="kt">any</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tag1</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tag2</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tag3</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">].</span><span class="nx">filter</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">tags</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tags</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">navigate</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">to</span><span class="o">:</span> <span class="s2">&#34;.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">search</span><span class="o">:</span> <span class="p">(</span><span class="nx">prev</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">prev</span><span class="p">,</span> <span class="nx">search</span>: <span class="kt">searchRef.current.value</span><span class="p">,</span> <span class="nx">tags</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>그리고 항상 그렇듯이, 누락된 값이 있으면 TypeScript가 오류를 발생시킵니다.</p>
<p>타입 강제(type enforcement)는 좋은 일입니다.</p>
<p>현재, 다음과 같이 접속하면:</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">http://localhost:3001/epic/1/milestones</span></span></code></pre></div>
  </figure>
</div>
<p>Router는 URL을 다음과 같이 변경합니다:</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">http://localhost:3001/epic/1/milestones?page<span class="o">=</span>1<span class="p">&amp;</span><span class="nv">search</span><span class="o">=</span><span class="p">&amp;</span><span class="nv">tags</span><span class="o">=</span>%5B%5D</span></span></code></pre></div>
  </figure>
</div>
<p>이는 우리가 Router에 페이지마다 반드시 <code>page</code>, <code>search</code>, <code>tags</code> 값을 갖도록 지정했기 때문입니다.</p>
<p>URL을 깔끔하게 유지하고 싶다면, 이러한 변환이 발생하지 않도록 몇 가지 옵션이 있습니다.</p>
<p>이 값들을 모두 선택적으로(optional) 만들 수 있습니다.</p>
<p>JavaScript(및 TypeScript)에서는 값이 <code>undefined</code>이면 존재하지 않는 것으로 간주됩니다.</p>
<p>따라서 타입을 다음과 같이 변경할 수 있습니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParams</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span></span></span></code></pre></div>
  </figure>
</div>
<p>또는 다음과 같이 타입스크립트의 Partial 유틸리피 타입을 이용해서 표현할 수도 있습니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParams</span> <span class="o">=</span> <span class="nx">Partial</span><span class="o">&lt;</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">&gt;</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>그런 다음, 기본값 대신 <code>undefined</code> 값을 설정하도록 검증 로직을 수정합니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParams</span> <span class="o">=</span> <span class="nx">Partial</span><span class="o">&lt;</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">validateSearch</span><span class="p">(</span><span class="nx">search</span>: <span class="kt">Record</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">,</span> <span class="na">unknown</span><span class="p">&gt;)</span><span class="o">:</span> <span class="nx">SearchParams</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">page</span> <span class="o">??</span> <span class="s2">&#34;1&#34;</span><span class="p">)</span> <span class="o">??</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">searchVal</span> <span class="o">=</span> <span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">search</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">)</span> <span class="o">||</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">tags</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">tags</span><span class="p">)</span> <span class="o">?</span> <span class="nx">search</span><span class="p">.</span><span class="nx">tags</span> <span class="o">:</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">page</span>: <span class="kt">page</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="kc">undefined</span> <span class="o">:</span> <span class="nx">page</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">search</span>: <span class="kt">searchVal</span> <span class="o">||</span> <span class="kc">undefined</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tags</span>: <span class="kt">tags.length</span> <span class="o">?</span> <span class="nx">tags</span> : <span class="kt">undefined</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span></span></span></code></pre></div>
  </figure>
</div>
<p>이렇게 하면 값을 사용할 때 <code>undefined</code>일 수 있으므로 약간의 복잡성이 추가되지만, URL에서 기본 값을 가진 검색 매개변수를 생략할 수 있습니다.</p>
<p>또한, Link 태그에서도 모든 검색 값을 선택적으로 지정할 수 있게 됩니다.</p>
<p>다시, 다음과 같이 접속하면:</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">http://localhost:3001/epic/1/milestones</span></span></code></pre></div>
  </figure>
</div>
<p>Router는 URL을 다음과 같이 아무런 변화도 생기지 않습니다.</p>



<div class="expressive-code">
  <figure class="frame is-terminal not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">http://localhost:3001/epic/1/milestones</span></span></code></pre></div>
  </figure>
</div>
<p>그리고 브라우저 화면을 보시면 아래와 같아집니다.</p>
<p>
  <figure>
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEiOGm7bX_kc6zIWlpERVTueSr1qvtXIg3RJ6enQDWCYm24cfXlXeS3tAUL40UCz34-Tnx8qZgInJy_LpXysx0hA0asFWa4EJhANVe7ZB06lvcVpso9EhLbz2WfSBIePwBQuU-xU3upi3ywIdKr5xG1dwq_gCmXLWitYlB4QfZnDUPw1PxTSKirggLwRJ6s"
         alt=""
         
         class="img-fluid"
         loading="lazy"
         decoding="async" />
    
  </figure></p>
<hr>
<p>Tanstack Router는 이를 처리할 수 있는 또 다른 방법을 제공합니다.</p>
<p>현재 <code>validateSearch</code>는 URL에 무엇이 들어올지 모르기 때문에 <code>Record&lt;string, unknown&gt;</code> 타입을 받습니다.</p>
<p>하지만 Tanstack Router는 입력 검색 매개변수의 구조를 지정하고, 반환 타입을 정의할 수 있는 또 다른 모드를 제공합니다.</p>
<p>이를 통해 애플리케이션 코드에서 사용할 검증된, 최종적인 타입을 지정할 수 있습니다.</p>
<p>먼저, 두 가지 타입을 정의해보겠습니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParams</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">SearchParamsInput</span> <span class="o">=</span> <span class="nx">Partial</span><span class="o">&lt;</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">page</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">search</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tags</span>: <span class="kt">string</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">&gt;</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 <code>SearchSchemaInput</code>를 가져옵니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">SearchSchemaInput</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@tanstack/react-router&#34;</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p><code>SearchSchemaInput</code>은 들어오는 검색 매개변수의 구조를 지정하고, 반환 타입과 구분할 수 있도록 도와줍니다. 이를 사용하여 <code>validateSearch</code> 메서드를 다음과 같이 정의합니다:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="nx">validateSearch</span><span class="p">(</span><span class="nx">search</span>: <span class="kt">SearchParamsInput</span> <span class="o">&amp;</span> <span class="nx">SearchSchemaInput</span><span class="p">)</span><span class="o">:</span> <span class="nx">SearchParams</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">page</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">page</span> <span class="o">??</span> <span class="s2">&#34;1&#34;</span><span class="p">)</span> <span class="o">??</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">searchVal</span> <span class="o">=</span> <span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">search</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">)</span> <span class="o">||</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">tags</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">search</span><span class="p">.</span><span class="nx">tags</span><span class="p">)</span> <span class="o">?</span> <span class="nx">search</span><span class="p">.</span><span class="nx">tags</span> <span class="o">:</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">page</span>: <span class="kt">page</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="kc">undefined</span> <span class="o">:</span> <span class="nx">page</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">search</span>: <span class="kt">searchVal</span> <span class="o">||</span> <span class="kc">undefined</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tags</span>: <span class="kt">tags.length</span> <span class="o">?</span> <span class="nx">tags</span> : <span class="kt">undefined</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span></span></span></code></pre></div>
  </figure>
</div>
<p>이제 <code>&lt;Link&gt;</code> 태그를 사용해 검색 매개변수를 지정하지 않고도 페이지로 이동할 수 있으며, URL을 변경하지 않으면서도 타입이 지정된 검색 매개변수 값을 유지할 수 있습니다.</p>
<hr>
<h3 id="마무리">마무리</h3>
<p>TanStack Router는 정말 흥미로운 프로젝트입니다.</p>
<p>훌륭하게 만들어진 유연한 클라이언트 사이드 프레임워크로, 가까운 미래에 멋진 서버 사이드 통합을 약속하고 있습니다.</p>
<p>우리는 아직 기본적인 부분만 다뤘습니다.</p>
<p>데이터 로딩과 server integration에 대해 알아야 할 것이 더 많습니다.</p>
<p>그럼.</p>
<hr>

      <div class="tag-list-single">
        <a class="btn btn-light" href="/tags/tanstack-router/" role="button">TanStack Router</a>
        <a class="btn btn-light" href="/tags/type-safe/" role="button">Type Safe</a>
        <a class="btn btn-light" href="/tags/routes/" role="button">Routes</a>
        <a class="btn btn-light" href="/tags/routing/" role="button">Routing</a>
        <a class="btn btn-light" href="/tags/%EB%9D%BC%EC%9A%B0%ED%8C%85/" role="button">라우팅</a>
        </div>
      
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-format="autorelaxed"
          data-ad-client="ca-pub-7748316956330968"
          data-ad-slot="4495825428"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </div>
</article>

      
      </div>
    </div>
    
    
<div class="bg-light">
    <section class="section section-related container">
      <div class="row justify-content-center">
        <div class="col-md-12 col-lg-12">
          <h2 class="section-title text-center">Related posts</h2>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="card">
              <div class="card-body">
                <article>
                  <h2 class="h3"><a class="stretched-link text-body" href="/blog/2025-07-19-react-router-v-7-complete-guide/">React Router v7 완벽 가이드 기본부터 고급 활용까지</a></h2>
                  <p>React Router v7의 기본 라우팅부터 동적 라우트, 인증, 코드 분할까지 모든 것을 다루는 종합 튜토리얼입니다. 실용적인 예제와 함께 실무 역량을 키워보세요.</p>
                  <p>
  <small>July 19, 2025<span class="stretched-link position-relative reading-time text-nowrap" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>
        <path d="M12 7v5l3 3"></path>
      </svg>10&nbsp;minutes</span></small>
</p>
</article>
              </div>
            </div>
          </div>
      </div>
    </section>
    <script src="https://utteranc.es/client.js"
      repo="cpro95/utterances_mycodings_fly_dev"
      issue-term="pathname"
      theme="github-light"
      label="blog-comment"
      crossorigin="anonymous"
    async>
    </script>
  </div>
  
    <footer class="footer text-muted">
  <div class="container-lg">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/about/">about</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright (c) All Right Reserved.</li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.19b73e0182301dd61c9211c2f6890104740e2eb9eb12fe4ba8d4f31435b22ed6.js"
  integrity="sha256-Gbc&#43;AYIwHdYckhHC9okBBHQOLrnrEv5LqNTzFDWyLtY=">
</script>





<script async
  src="/js/flexsearch.5dd6433c29c3e043627f046054aed58ff3790f58fdb8423f45125bbafdcad335.js"
  integrity="sha256-XdZDPCnD4ENifwRgVK7Vj/N5D1j9uEI/RRJbuv3K0zU=">
</script>
<script async
  src="/js/search-modal.96e662d8f691fe25c859a3437074b485f2d7bed0bca612725028c6cf4322e2f2.js"
  integrity="sha256-luZi2PaR/iXIWaNDcHS0hfLXvtC8phJyUCjGz0Mi4vI=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>
